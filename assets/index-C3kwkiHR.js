(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();var td={exports:{}},rr={};var sg;function Kv(){if(sg)return rr;sg=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,d){var f=null;if(d!==void 0&&(f=""+d),o.key!==void 0&&(f=""+o.key),"key"in o){d={};for(var m in o)m!=="key"&&(d[m]=o[m])}else d=o;return o=d.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:d}}return rr.Fragment=t,rr.jsx=s,rr.jsxs=s,rr}var ag;function Qv(){return ag||(ag=1,td.exports=Kv()),td.exports}var c=Qv(),nd={exports:{}},le={};var ig;function Yv(){if(ig)return le;ig=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,z={};function H(j,C,q){this.props=j,this.context=C,this.refs=z,this.updater=q||E}H.prototype.isReactComponent={},H.prototype.setState=function(j,C){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,C,"setState")},H.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=H.prototype;function B(j,C,q){this.props=j,this.context=C,this.refs=z,this.updater=q||E}var K=B.prototype=new P;K.constructor=B,D(K,H.prototype),K.isPureReactComponent=!0;var te=Array.isArray;function Z(){}var Y={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function ke(j,C,q){var $=q.ref;return{$$typeof:i,type:j,key:C,ref:$!==void 0?$:null,props:q}}function Pe(j,C){return ke(j.type,C,j.props)}function Ke(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function je(j){var C={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(q){return C[q]})}var lt=/\/+/g;function st(j,C){return typeof j=="object"&&j!==null&&j.key!=null?je(""+j.key):C.toString(36)}function qe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Z,Z):(j.status="pending",j.then(function(C){j.status==="pending"&&(j.status="fulfilled",j.value=C)},function(C){j.status==="pending"&&(j.status="rejected",j.reason=C)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function M(j,C,q,$,ae){var W=typeof j;(W==="undefined"||W==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(W){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case i:case t:de=!0;break;case v:return de=j._init,M(de(j._payload),C,q,$,ae)}}if(de)return ae=ae(j),de=$===""?"."+st(j,0):$,te(ae)?(q="",de!=null&&(q=de.replace(lt,"$&/")+"/"),M(ae,C,q,"",function(at){return at})):ae!=null&&(Ke(ae)&&(ae=Pe(ae,q+(ae.key==null||j&&j.key===ae.key?"":(""+ae.key).replace(lt,"$&/")+"/")+de)),C.push(ae)),1;de=0;var Ue=$===""?".":$+":";if(te(j))for(var we=0;we<j.length;we++)$=j[we],W=Ue+st($,we),de+=M($,C,q,W,ae);else if(we=S(j),typeof we=="function")for(j=we.call(j),we=0;!($=j.next()).done;)$=$.value,W=Ue+st($,we++),de+=M($,C,q,W,ae);else if(W==="object"){if(typeof j.then=="function")return M(qe(j),C,q,$,ae);throw C=String(j),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(j,C,q){if(j==null)return j;var $=[],ae=0;return M(j,$,"","",function(W){return C.call(q,W,ae++)}),$}function J(j){if(j._status===-1){var C=j._result;C=C(),C.then(function(q){(j._status===0||j._status===-1)&&(j._status=1,j._result=q)},function(q){(j._status===0||j._status===-1)&&(j._status=2,j._result=q)}),j._status===-1&&(j._status=0,j._result=C)}if(j._status===1)return j._result.default;throw j._result}var me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},be={map:G,forEach:function(j,C,q){G(j,function(){C.apply(this,arguments)},q)},count:function(j){var C=0;return G(j,function(){C++}),C},toArray:function(j){return G(j,function(C){return C})||[]},only:function(j){if(!Ke(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return le.Activity=w,le.Children=be,le.Component=H,le.Fragment=s,le.Profiler=o,le.PureComponent=B,le.StrictMode=r,le.Suspense=g,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},le.cache=function(j){return function(){return j.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(j,C,q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var $=D({},j.props),ae=j.key;if(C!=null)for(W in C.key!==void 0&&(ae=""+C.key),C)!ve.call(C,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&C.ref===void 0||($[W]=C[W]);var W=arguments.length-2;if(W===1)$.children=q;else if(1<W){for(var de=Array(W),Ue=0;Ue<W;Ue++)de[Ue]=arguments[Ue+2];$.children=de}return ke(j.type,ae,$)},le.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},le.createElement=function(j,C,q){var $,ae={},W=null;if(C!=null)for($ in C.key!==void 0&&(W=""+C.key),C)ve.call(C,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ae[$]=C[$]);var de=arguments.length-2;if(de===1)ae.children=q;else if(1<de){for(var Ue=Array(de),we=0;we<de;we++)Ue[we]=arguments[we+2];ae.children=Ue}if(j&&j.defaultProps)for($ in de=j.defaultProps,de)ae[$]===void 0&&(ae[$]=de[$]);return ke(j,W,ae)},le.createRef=function(){return{current:null}},le.forwardRef=function(j){return{$$typeof:m,render:j}},le.isValidElement=Ke,le.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:J}},le.memo=function(j,C){return{$$typeof:b,type:j,compare:C===void 0?null:C}},le.startTransition=function(j){var C=Y.T,q={};Y.T=q;try{var $=j(),ae=Y.S;ae!==null&&ae(q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Z,me)}catch(W){me(W)}finally{C!==null&&q.types!==null&&(C.types=q.types),Y.T=C}},le.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},le.use=function(j){return Y.H.use(j)},le.useActionState=function(j,C,q){return Y.H.useActionState(j,C,q)},le.useCallback=function(j,C){return Y.H.useCallback(j,C)},le.useContext=function(j){return Y.H.useContext(j)},le.useDebugValue=function(){},le.useDeferredValue=function(j,C){return Y.H.useDeferredValue(j,C)},le.useEffect=function(j,C){return Y.H.useEffect(j,C)},le.useEffectEvent=function(j){return Y.H.useEffectEvent(j)},le.useId=function(){return Y.H.useId()},le.useImperativeHandle=function(j,C,q){return Y.H.useImperativeHandle(j,C,q)},le.useInsertionEffect=function(j,C){return Y.H.useInsertionEffect(j,C)},le.useLayoutEffect=function(j,C){return Y.H.useLayoutEffect(j,C)},le.useMemo=function(j,C){return Y.H.useMemo(j,C)},le.useOptimistic=function(j,C){return Y.H.useOptimistic(j,C)},le.useReducer=function(j,C,q){return Y.H.useReducer(j,C,q)},le.useRef=function(j){return Y.H.useRef(j)},le.useState=function(j){return Y.H.useState(j)},le.useSyncExternalStore=function(j,C,q){return Y.H.useSyncExternalStore(j,C,q)},le.useTransition=function(){return Y.H.useTransition()},le.version="19.2.4",le}var rg;function Vd(){return rg||(rg=1,nd.exports=Yv()),nd.exports}var V=Vd(),sd={exports:{}},lr={},ad={exports:{}},id={};var lg;function Wv(){return lg||(lg=1,(function(i){function t(M,G){var J=M.length;M.push(G);e:for(;0<J;){var me=J-1>>>1,be=M[me];if(0<o(be,G))M[me]=G,M[J]=be,J=me;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var G=M[0],J=M.pop();if(J!==G){M[0]=J;e:for(var me=0,be=M.length,j=be>>>1;me<j;){var C=2*(me+1)-1,q=M[C],$=C+1,ae=M[$];if(0>o(q,J))$<be&&0>o(ae,q)?(M[me]=ae,M[$]=J,me=$):(M[me]=q,M[C]=J,me=C);else if($<be&&0>o(ae,J))M[me]=ae,M[$]=J,me=$;else break e}}return G}function o(M,G){var J=M.sortIndex-G.sortIndex;return J!==0?J:M.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],b=[],v=1,w=null,x=3,S=!1,E=!1,D=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(M){for(var G=s(b);G!==null;){if(G.callback===null)r(b);else if(G.startTime<=M)r(b),G.sortIndex=G.expirationTime,t(g,G);else break;G=s(b)}}function te(M){if(D=!1,K(M),!E)if(s(g)!==null)E=!0,Z||(Z=!0,je());else{var G=s(b);G!==null&&qe(te,G.startTime-M)}}var Z=!1,Y=-1,ve=5,ke=-1;function Pe(){return z?!0:!(i.unstable_now()-ke<ve)}function Ke(){if(z=!1,Z){var M=i.unstable_now();ke=M;var G=!0;try{e:{E=!1,D&&(D=!1,P(Y),Y=-1),S=!0;var J=x;try{t:{for(K(M),w=s(g);w!==null&&!(w.expirationTime>M&&Pe());){var me=w.callback;if(typeof me=="function"){w.callback=null,x=w.priorityLevel;var be=me(w.expirationTime<=M);if(M=i.unstable_now(),typeof be=="function"){w.callback=be,K(M),G=!0;break t}w===s(g)&&r(g),K(M)}else r(g);w=s(g)}if(w!==null)G=!0;else{var j=s(b);j!==null&&qe(te,j.startTime-M),G=!1}}break e}finally{w=null,x=J,S=!1}G=void 0}}finally{G?je():Z=!1}}}var je;if(typeof B=="function")je=function(){B(Ke)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,st=lt.port2;lt.port1.onmessage=Ke,je=function(){st.postMessage(null)}}else je=function(){H(Ke,0)};function qe(M,G){Y=H(function(){M(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(M){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var J=x;x=G;try{return M()}finally{x=J}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=x;x=M;try{return G()}finally{x=J}},i.unstable_scheduleCallback=function(M,G,J){var me=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,M){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=J+be,M={id:v++,callback:G,priorityLevel:M,startTime:J,expirationTime:be,sortIndex:-1},J>me?(M.sortIndex=J,t(b,M),s(g)===null&&M===s(b)&&(D?(P(Y),Y=-1):D=!0,qe(te,J-me))):(M.sortIndex=be,t(g,M),E||S||(E=!0,Z||(Z=!0,je()))),M},i.unstable_shouldYield=Pe,i.unstable_wrapCallback=function(M){var G=x;return function(){var J=x;x=G;try{return M.apply(this,arguments)}finally{x=J}}}})(id)),id}var og;function Jv(){return og||(og=1,ad.exports=Wv()),ad.exports}var rd={exports:{}},gt={};var cg;function Xv(){if(cg)return gt;cg=1;var i=Vd();function t(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(g,b,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:b,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,b){if(g==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(g,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return d(g,b,null,v)},gt.flushSync=function(g){var b=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=b,r.p=v,r.d.f()}},gt.preconnect=function(g,b){typeof g=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(g,b))},gt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},gt.preinit=function(g,b){if(typeof g=="string"&&b&&typeof b.as=="string"){var v=b.as,w=m(v,b.crossOrigin),x=typeof b.integrity=="string"?b.integrity:void 0,S=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?r.d.S(g,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:S}):v==="script"&&r.d.X(g,{crossOrigin:w,integrity:x,fetchPriority:S,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},gt.preinitModule=function(g,b){if(typeof g=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=m(b.as,b.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(g)},gt.preload=function(g,b){if(typeof g=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,w=m(v,b.crossOrigin);r.d.L(g,v,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},gt.preloadModule=function(g,b){if(typeof g=="string")if(b){var v=m(b.as,b.crossOrigin);r.d.m(g,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(g)},gt.requestFormReset=function(g){r.d.r(g)},gt.unstable_batchedUpdates=function(g,b){return g(b)},gt.useFormState=function(g,b,v){return f.H.useFormState(g,b,v)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var ug;function Zv(){if(ug)return rd.exports;ug=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),rd.exports=Xv(),rd.exports}var dg;function Fv(){if(dg)return lr;dg=1;var i=Jv(),t=Vd(),s=Zv();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(r(188))}function b(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return g(u),e;if(h===l)return g(u),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=h;else{for(var p=!1,y=u.child;y;){if(y===a){p=!0,a=u,l=h;break}if(y===l){p=!0,l=u,a=h;break}y=y.sibling}if(!p){for(y=h.child;y;){if(y===a){p=!0,a=h,l=u;break}if(y===l){p=!0,l=h,a=u;break}y=y.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Pe=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case Z:return"SuspenseList";case ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case B:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:st(e.type)||"Memo";case ve:n=e._payload,e=e._init;try{return st(e(n))}catch{}}return null}var qe=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},me=[],be=-1;function j(e){return{current:e}}function C(e){0>be||(e.current=me[be],me[be]=null,be--)}function q(e,n){be++,me[be]=e.current,e.current=n}var $=j(null),ae=j(null),W=j(null),de=j(null);function Ue(e,n){switch(q(W,n),q(ae,e),q($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jp(n),e=Np(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}C($),q($,e)}function we(){C($),C(ae),C(W)}function at(e){e.memoizedState!==null&&q(de,e);var n=$.current,a=Np(n,e.type);n!==a&&(q(ae,e),q($,a))}function Gn(e){ae.current===e&&(C($),C(ae)),de.current===e&&(C(de),nr._currentValue=J)}var na,Ir;function mn(e){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",Ir=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+Ir}var sa=!1;function Vn(e,n){if(!e||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var O=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){O=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){O=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&O&&typeof R.stack=="string")return[R.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],y=h[1];if(p&&y){var _=p.split(`
`),k=y.split(`
`);for(u=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(l===_.length||u===k.length)for(l=_.length-1,u=k.length-1;1<=l&&0<=u&&_[l]!==k[u];)u--;for(;1<=l&&0<=u;l--,u--)if(_[l]!==k[u]){if(l!==1||u!==1)do if(l--,u--,0>u||_[l]!==k[u]){var U=`
`+_[l].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=l&&0<=u);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mn(a):""}function js(e,n){switch(e.tag){case 26:case 27:case 5:return mn(e.type);case 16:return mn("Lazy");case 13:return e.child!==n&&n!==null?mn("Suspense Fallback"):mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return Vn(e.type,!1);case 11:return Vn(e.type.render,!1);case 1:return Vn(e.type,!0);case 31:return mn("Activity");default:return""}}function Io(e){try{var n="",a=null;do n+=js(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var aa=Object.prototype.hasOwnProperty,ia=i.unstable_scheduleCallback,mi=i.unstable_cancelCallback,zo=i.unstable_shouldYield,zr=i.unstable_requestPaint,bt=i.unstable_now,Ho=i.unstable_getCurrentPriorityLevel,Hr=i.unstable_ImmediatePriority,Br=i.unstable_UserBlockingPriority,ra=i.unstable_NormalPriority,Bo=i.unstable_LowPriority,Pr=i.unstable_IdlePriority,Po=i.log,qo=i.unstable_setDisableYieldValue,Ns=null,yt=null;function pt(e){if(typeof Po=="function"&&qo(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ns,e)}catch{}}var He=Math.clz32?Math.clz32:We,ce=Math.log,Ee=Math.LN2;function We(e){return e>>>=0,e===0?32:31-(ce(e)/Ee|0)|0}var pn=256,qr=262144,$r=4194304;function As(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gr(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?u=As(l):(p&=y,p!==0?u=As(p):a||(a=y&~e,a!==0&&(u=As(a))))):(y=l&~h,y!==0?u=As(y):p!==0?u=As(p):a||(a=l&~e,a!==0&&(u=As(a)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:u}function pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Db(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function $o(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mb(e,n,a,l,u,h){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var U=31-He(a),I=1<<U;y[U]=0,_[U]=-1;var O=k[U];if(O!==null)for(k[U]=null,U=0;U<O.length;U++){var R=O[U];R!==null&&(R.lane&=-536870913)}a&=~I}l!==0&&lh(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~n))}function lh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-He(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function oh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-He(a),u=1<<l;u&n|e[l]&n&&(e[l]|=n),a&=~u}}function ch(e,n){var a=n&-n;return a=(a&42)!==0?1:Go(a),(a&(e.suspendedLanes|n))!==0?0:a}function Go(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Jp(e.type))}function dh(e,n){var a=G.p;try{return G.p=e,n()}finally{G.p=a}}var Kn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Kn,wt="__reactProps$"+Kn,la="__reactContainer$"+Kn,Ko="__reactEvents$"+Kn,Ub="__reactListeners$"+Kn,Lb="__reactHandles$"+Kn,hh="__reactResources$"+Kn,bi="__reactMarker$"+Kn;function Qo(e){delete e[ot],delete e[wt],delete e[Ko],delete e[Ub],delete e[Lb]}function oa(e){var n=e[ot];if(n)return n;for(var a=e.parentNode;a;){if(n=a[la]||a[ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Mp(e);e!==null;){if(a=e[ot])return a;e=Mp(e)}return n}e=a,a=e.parentNode}return null}function ca(e){if(e=e[ot]||e[la]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ua(e){var n=e[hh];return n||(n=e[hh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[bi]=!0}var fh=new Set,mh={};function ks(e,n){da(e,n),da(e+"Capture",n)}function da(e,n){for(mh[e]=n,e=0;e<n.length;e++)fh.add(n[e])}var Ib=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ph={},gh={};function zb(e){return aa.call(gh,e)?!0:aa.call(ph,e)?!1:Ib.test(e)?gh[e]=!0:(ph[e]=!0,!1)}function Vr(e,n,a){if(zb(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Kr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hb(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,h.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yo(e){if(!e._valueTracker){var n=bh(e)?"checked":"value";e._valueTracker=Hb(e,n,""+e[n])}}function yh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=bh(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bb=/[\n"\\]/g;function zt(e){return e.replace(Bb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wo(e,n,a,l,u,h,p,y){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+It(n)):e.value!==""+It(n)&&(e.value=""+It(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Jo(e,p,It(n)):a!=null?Jo(e,p,It(a)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+It(y):e.removeAttribute("name")}function vh(e,n,a,l,u,h,p,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Yo(e);return}a=a!=null?""+It(a):"",n=n!=null?""+It(n):a,y||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yo(e)}function Jo(e,n,a){n==="number"&&Qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ha(e,n,a,l){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function xh(e,n,a){if(n!=null&&(n=""+It(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+It(a):""}function wh(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(qe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=It(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yo(e)}function fa(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Pb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _h(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Pb.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Sh(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&_h(e,u,l)}else for(var h in n)n.hasOwnProperty(h)&&_h(e,h,n[h])}function Xo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$b=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(e){return $b.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var Zo=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,pa=null;function Eh(e){var n=ca(e);if(n&&(e=n.stateNode)){var a=e[wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Wo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var u=l[wt]||null;if(!u)throw Error(r(90));Wo(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&yh(l)}break e;case"textarea":xh(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ha(e,!!a.multiple,n,!1)}}}var ec=!1;function Th(e,n,a){if(ec)return e(n,a);ec=!0;try{var l=e(n);return l}finally{if(ec=!1,(ma!==null||pa!==null)&&(Ul(),ma&&(n=ma,e=pa,pa=ma=null,Eh(n),e)))for(n=0;n<e.length;n++)Eh(e[n])}}function vi(e,n){var a=e.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(yn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){tc=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{tc=!1}var Qn=null,nc=null,Wr=null;function jh(){if(Wr)return Wr;var e,n=nc,a=n.length,l,u="value"in Qn?Qn.value:Qn.textContent,h=u.length;for(e=0;e<a&&n[e]===u[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===u[h-l];l++);return Wr=u.slice(e,1<l?1-l:void 0)}function Jr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xr(){return!0}function Nh(){return!1}function _t(e){function n(a,l,u,h,p){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xr:Nh,this.isPropagationStopped=Nh,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),n}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=_t(Cs),wi=w({},Cs,{view:0,detail:0}),Gb=_t(wi),sc,ac,_i,Fr=w({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(sc=e.screenX-_i.screenX,ac=e.screenY-_i.screenY):ac=sc=0,_i=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Ah=_t(Fr),Vb=w({},Fr,{dataTransfer:0}),Kb=_t(Vb),Qb=w({},wi,{relatedTarget:0}),ic=_t(Qb),Yb=w({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=_t(Yb),Jb=w({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xb=_t(Jb),Zb=w({},Cs,{data:0}),kh=_t(Zb),Fb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ty[e])?!!n[e]:!1}function rc(){return ny}var sy=w({},wi,{key:function(e){if(e.key){var n=Fb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ey[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ay=_t(sy),iy=w({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=_t(iy),ry=w({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),ly=_t(ry),oy=w({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=_t(oy),uy=w({},Fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=_t(uy),hy=w({},Cs,{newState:0,oldState:0}),fy=_t(hy),my=[9,13,27,32],lc=yn&&"CompositionEvent"in window,Si=null;yn&&"documentMode"in document&&(Si=document.documentMode);var py=yn&&"TextEvent"in window&&!Si,Oh=yn&&(!lc||Si&&8<Si&&11>=Si),Rh=" ",Dh=!1;function Mh(e,n){switch(e){case"keyup":return my.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function gy(e,n){switch(e){case"compositionend":return Uh(n);case"keypress":return n.which!==32?null:(Dh=!0,Rh);case"textInput":return e=n.data,e===Rh&&Dh?null:e;default:return null}}function by(e,n){if(ga)return e==="compositionend"||!lc&&Mh(e,n)?(e=jh(),Wr=nc=Qn=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oh&&n.locale!=="ko"?null:n.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yy[e.type]:n==="textarea"}function Ih(e,n,a,l){ma?pa?pa.push(l):pa=[l]:ma=l,n=ql(n,"onChange"),0<n.length&&(a=new Zr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ei=null,Ti=null;function vy(e){xp(e,0)}function el(e){var n=yi(e);if(yh(n))return e}function zh(e,n){if(e==="change")return n}var Hh=!1;if(yn){var oc;if(yn){var cc="oninput"in document;if(!cc){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),cc=typeof Bh.oninput=="function"}oc=cc}else oc=!1;Hh=oc&&(!document.documentMode||9<document.documentMode)}function Ph(){Ei&&(Ei.detachEvent("onpropertychange",qh),Ti=Ei=null)}function qh(e){if(e.propertyName==="value"&&el(Ti)){var n=[];Ih(n,Ti,e,Fo(e)),Th(vy,n)}}function xy(e,n,a){e==="focusin"?(Ph(),Ei=n,Ti=a,Ei.attachEvent("onpropertychange",qh)):e==="focusout"&&Ph()}function wy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Ti)}function _y(e,n){if(e==="click")return el(n)}function Sy(e,n){if(e==="input"||e==="change")return el(n)}function Ey(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:Ey;function ji(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!aa.call(n,u)||!At(e[u],n[u]))return!1}return!0}function $h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,n){var a=$h(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$h(a)}}function Vh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qr(e.document)}return n}function uc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ty=yn&&"documentMode"in document&&11>=document.documentMode,ba=null,dc=null,Ni=null,hc=!1;function Qh(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hc||ba==null||ba!==Qr(l)||(l=ba,"selectionStart"in l&&uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ni&&ji(Ni,l)||(Ni=l,l=ql(dc,"onSelect"),0<l.length&&(n=new Zr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ba)))}function Os(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},fc={},Yh={};yn&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Rs(e){if(fc[e])return fc[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Yh)return fc[e]=n[a];return e}var Wh=Rs("animationend"),Jh=Rs("animationiteration"),Xh=Rs("animationstart"),jy=Rs("transitionrun"),Ny=Rs("transitionstart"),Ay=Rs("transitioncancel"),Zh=Rs("transitionend"),Fh=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function Jt(e,n){Fh.set(e,n),ks(n,[e])}var tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],va=0,pc=0;function nl(){for(var e=va,n=pc=va=0;n<e;){var a=Ht[n];Ht[n++]=null;var l=Ht[n];Ht[n++]=null;var u=Ht[n];Ht[n++]=null;var h=Ht[n];if(Ht[n++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}h!==0&&ef(a,u,h)}}function sl(e,n,a,l){Ht[va++]=e,Ht[va++]=n,Ht[va++]=a,Ht[va++]=l,pc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function gc(e,n,a,l){return sl(e,n,a,l),al(e)}function Ds(e,n){return sl(e,null,null,n),al(e)}function ef(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&n!==null&&(u=31-He(a),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=a|536870912),h):null}function al(e){if(50<Wi)throw Wi=0,Tu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xa={};function ky(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,a,l){return new ky(e,n,a,l)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,n){var a=e.alternate;return a===null?(a=kt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function il(e,n,a,l,u,h){var p=0;if(l=e,typeof e=="function")bc(e)&&(p=1);else if(typeof e=="string")p=Mv(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ke:return e=kt(31,a,n,u),e.elementType=ke,e.lanes=h,e;case D:return Ms(a.children,u,h,n);case z:p=8,u|=24;break;case H:return e=kt(12,a,n,u|2),e.elementType=H,e.lanes=h,e;case te:return e=kt(13,a,n,u),e.elementType=te,e.lanes=h,e;case Z:return e=kt(19,a,n,u),e.elementType=Z,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case P:p=9;break e;case K:p=11;break e;case Y:p=14;break e;case ve:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=kt(p,a,n,u),n.elementType=e,n.type=l,n.lanes=h,n}function Ms(e,n,a,l){return e=kt(7,e,l,n),e.lanes=a,e}function yc(e,n,a){return e=kt(6,e,null,n),e.lanes=a,e}function nf(e){var n=kt(18,null,null,0);return n.stateNode=e,n}function vc(e,n,a){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var sf=new WeakMap;function Bt(e,n){if(typeof e=="object"&&e!==null){var a=sf.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Io(n)},sf.set(e,n),n)}return{value:e,source:n,stack:Io(n)}}var wa=[],_a=0,rl=null,Ai=0,Pt=[],qt=0,Yn=null,ln=1,on="";function xn(e,n){wa[_a++]=Ai,wa[_a++]=rl,rl=e,Ai=n}function af(e,n,a){Pt[qt++]=ln,Pt[qt++]=on,Pt[qt++]=Yn,Yn=e;var l=ln;e=on;var u=32-He(l)-1;l&=~(1<<u),a+=1;var h=32-He(n)+u;if(30<h){var p=u-u%5;h=(l&(1<<p)-1).toString(32),l>>=p,u-=p,ln=1<<32-He(n)+u|a<<u|l,on=h+e}else ln=1<<h|a<<u|l,on=e}function xc(e){e.return!==null&&(xn(e,1),af(e,1,0))}function wc(e){for(;e===rl;)rl=wa[--_a],wa[_a]=null,Ai=wa[--_a],wa[_a]=null;for(;e===Yn;)Yn=Pt[--qt],Pt[qt]=null,on=Pt[--qt],Pt[qt]=null,ln=Pt[--qt],Pt[qt]=null}function rf(e,n){Pt[qt++]=ln,Pt[qt++]=on,Pt[qt++]=Yn,ln=n.id,on=n.overflow,Yn=e}var ct=null,Ie=null,ye=!1,Wn=null,$t=!1,_c=Error(r(519));function Jn(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(Bt(n,e)),_c}function lf(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ot]=e,n[wt]=l,a){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(a=0;a<Xi.length;a++)fe(Xi[a],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),vh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),wh(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ep(n.textContent,a)?(l.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),l.onScroll!=null&&fe("scroll",n),l.onScrollEnd!=null&&fe("scrollend",n),l.onClick!=null&&(n.onclick=bn),n=!0):n=!1,n||Jn(e,!0)}function of(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ct=ct.return}}function Sa(e){if(e!==ct)return!1;if(!ye)return of(e),ye=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bu(e.type,e.memoizedProps)),a=!a),a&&Ie&&Jn(e),of(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=Dp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=Dp(e)}else n===27?(n=Ie,us(e.type)?(e=Vu,Vu=null,Ie=e):Ie=n):Ie=ct?Vt(e.stateNode.nextSibling):null;return!0}function Us(){Ie=ct=null,ye=!1}function Sc(){var e=Wn;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Wn=null),e}function ki(e){Wn===null?Wn=[e]:Wn.push(e)}var Ec=j(null),Ls=null,wn=null;function Xn(e,n,a){q(Ec,n._currentValue),n._currentValue=a}function _n(e){e._currentValue=Ec.current,C(Ec)}function Tc(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function jc(e,n,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var p=u.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=u;for(var _=0;_<n.length;_++)if(y.context===n[_]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),Tc(h.return,a,e),l||(p=null);break e}h=y.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(r(341));p.lanes|=a,h=p.alternate,h!==null&&(h.lanes|=a),Tc(p,a,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Ea(e,n,a,l){e=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var y=u.type;At(u.pendingProps.value,p.value)||(e!==null?e.push(y):e=[y])}}else if(u===de.current){if(p=u.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(nr):e=[nr])}u=u.return}e!==null&&jc(n,e,a,l),n.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Ls=e,wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return cf(Ls,e)}function ol(e,n){return Ls===null&&Is(e),cf(e,n)}function cf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wn===null){if(e===null)throw Error(r(308));wn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wn=wn.next=n;return a}var Cy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Oy=i.unstable_scheduleCallback,Ry=i.unstable_NormalPriority,Je={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Cy,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&Oy(Ry,function(){e.controller.abort()})}var Oi=null,Ac=0,Ta=0,ja=null;function Dy(e,n){if(Oi===null){var a=Oi=[];Ac=0,Ta=Ou(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ac++,n.then(uf,uf),n}function uf(){if(--Ac===0&&Oi!==null){ja!==null&&(ja.status="fulfilled");var e=Oi;Oi=null,Ta=0,ja=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function My(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var df=M.S;M.S=function(e,n){Ym=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Dy(e,n),df!==null&&df(e,n)};var zs=j(null);function kc(){var e=zs.current;return e!==null?e:De.pooledCache}function cl(e,n){n===null?q(zs,zs.current):q(zs,n.pool)}function hf(){var e=kc();return e===null?null:{parent:Je._currentValue,pool:e}}var Na=Error(r(460)),Cc=Error(r(474)),ul=Error(r(542)),dl={then:function(){}};function ff(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mf(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(bn,bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gf(e),e;default:if(typeof n.status=="string")n.then(bn,bn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gf(e),e}throw Bs=n,Na}}function Hs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Na):a}}var Bs=null;function pf(){if(Bs===null)throw Error(r(459));var e=Bs;return Bs=null,e}function gf(e){if(e===Na||e===ul)throw Error(r(483))}var Aa=null,Ri=0;function hl(e){var n=Ri;return Ri+=1,Aa===null&&(Aa=[]),mf(Aa,e,n)}function Di(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fl(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function bf(e){function n(N,T){if(e){var A=N.deletions;A===null?(N.deletions=[T],N.flags|=16):A.push(T)}}function a(N,T){if(!e)return null;for(;T!==null;)n(N,T),T=T.sibling;return null}function l(N){for(var T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function u(N,T){return N=vn(N,T),N.index=0,N.sibling=null,N}function h(N,T,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<T?(N.flags|=67108866,T):A):(N.flags|=67108866,T)):(N.flags|=1048576,T)}function p(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,T,A,L){return T===null||T.tag!==6?(T=yc(A,N.mode,L),T.return=N,T):(T=u(T,A),T.return=N,T)}function _(N,T,A,L){var ee=A.type;return ee===D?U(N,T,A.props.children,L,A.key):T!==null&&(T.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ve&&Hs(ee)===T.type)?(T=u(T,A.props),Di(T,A),T.return=N,T):(T=il(A.type,A.key,A.props,null,N.mode,L),Di(T,A),T.return=N,T)}function k(N,T,A,L){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=vc(A,N.mode,L),T.return=N,T):(T=u(T,A.children||[]),T.return=N,T)}function U(N,T,A,L,ee){return T===null||T.tag!==7?(T=Ms(A,N.mode,L,ee),T.return=N,T):(T=u(T,A),T.return=N,T)}function I(N,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=yc(""+T,N.mode,A),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return A=il(T.type,T.key,T.props,null,N.mode,A),Di(A,T),A.return=N,A;case E:return T=vc(T,N.mode,A),T.return=N,T;case ve:return T=Hs(T),I(N,T,A)}if(qe(T)||je(T))return T=Ms(T,N.mode,A,null),T.return=N,T;if(typeof T.then=="function")return I(N,hl(T),A);if(T.$$typeof===B)return I(N,ol(N,T),A);fl(N,T)}return null}function O(N,T,A,L){var ee=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ee!==null?null:y(N,T,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return A.key===ee?_(N,T,A,L):null;case E:return A.key===ee?k(N,T,A,L):null;case ve:return A=Hs(A),O(N,T,A,L)}if(qe(A)||je(A))return ee!==null?null:U(N,T,A,L,null);if(typeof A.then=="function")return O(N,T,hl(A),L);if(A.$$typeof===B)return O(N,T,ol(N,A),L);fl(N,A)}return null}function R(N,T,A,L,ee){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(A)||null,y(T,N,""+L,ee);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return N=N.get(L.key===null?A:L.key)||null,_(T,N,L,ee);case E:return N=N.get(L.key===null?A:L.key)||null,k(T,N,L,ee);case ve:return L=Hs(L),R(N,T,A,L,ee)}if(qe(L)||je(L))return N=N.get(A)||null,U(T,N,L,ee,null);if(typeof L.then=="function")return R(N,T,A,hl(L),ee);if(L.$$typeof===B)return R(N,T,A,ol(T,L),ee);fl(T,L)}return null}function Q(N,T,A,L){for(var ee=null,_e=null,X=T,ue=T=0,ge=null;X!==null&&ue<A.length;ue++){X.index>ue?(ge=X,X=null):ge=X.sibling;var Se=O(N,X,A[ue],L);if(Se===null){X===null&&(X=ge);break}e&&X&&Se.alternate===null&&n(N,X),T=h(Se,T,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se,X=ge}if(ue===A.length)return a(N,X),ye&&xn(N,ue),ee;if(X===null){for(;ue<A.length;ue++)X=I(N,A[ue],L),X!==null&&(T=h(X,T,ue),_e===null?ee=X:_e.sibling=X,_e=X);return ye&&xn(N,ue),ee}for(X=l(X);ue<A.length;ue++)ge=R(X,N,ue,A[ue],L),ge!==null&&(e&&ge.alternate!==null&&X.delete(ge.key===null?ue:ge.key),T=h(ge,T,ue),_e===null?ee=ge:_e.sibling=ge,_e=ge);return e&&X.forEach(function(ps){return n(N,ps)}),ye&&xn(N,ue),ee}function ne(N,T,A,L){if(A==null)throw Error(r(151));for(var ee=null,_e=null,X=T,ue=T=0,ge=null,Se=A.next();X!==null&&!Se.done;ue++,Se=A.next()){X.index>ue?(ge=X,X=null):ge=X.sibling;var ps=O(N,X,Se.value,L);if(ps===null){X===null&&(X=ge);break}e&&X&&ps.alternate===null&&n(N,X),T=h(ps,T,ue),_e===null?ee=ps:_e.sibling=ps,_e=ps,X=ge}if(Se.done)return a(N,X),ye&&xn(N,ue),ee;if(X===null){for(;!Se.done;ue++,Se=A.next())Se=I(N,Se.value,L),Se!==null&&(T=h(Se,T,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se);return ye&&xn(N,ue),ee}for(X=l(X);!Se.done;ue++,Se=A.next())Se=R(X,N,ue,Se.value,L),Se!==null&&(e&&Se.alternate!==null&&X.delete(Se.key===null?ue:Se.key),T=h(Se,T,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se);return e&&X.forEach(function(Vv){return n(N,Vv)}),ye&&xn(N,ue),ee}function Re(N,T,A,L){if(typeof A=="object"&&A!==null&&A.type===D&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case S:e:{for(var ee=A.key;T!==null;){if(T.key===ee){if(ee=A.type,ee===D){if(T.tag===7){a(N,T.sibling),L=u(T,A.props.children),L.return=N,N=L;break e}}else if(T.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ve&&Hs(ee)===T.type){a(N,T.sibling),L=u(T,A.props),Di(L,A),L.return=N,N=L;break e}a(N,T);break}else n(N,T);T=T.sibling}A.type===D?(L=Ms(A.props.children,N.mode,L,A.key),L.return=N,N=L):(L=il(A.type,A.key,A.props,null,N.mode,L),Di(L,A),L.return=N,N=L)}return p(N);case E:e:{for(ee=A.key;T!==null;){if(T.key===ee)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(N,T.sibling),L=u(T,A.children||[]),L.return=N,N=L;break e}else{a(N,T);break}else n(N,T);T=T.sibling}L=vc(A,N.mode,L),L.return=N,N=L}return p(N);case ve:return A=Hs(A),Re(N,T,A,L)}if(qe(A))return Q(N,T,A,L);if(je(A)){if(ee=je(A),typeof ee!="function")throw Error(r(150));return A=ee.call(A),ne(N,T,A,L)}if(typeof A.then=="function")return Re(N,T,hl(A),L);if(A.$$typeof===B)return Re(N,T,ol(N,A),L);fl(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(a(N,T.sibling),L=u(T,A),L.return=N,N=L):(a(N,T),L=yc(A,N.mode,L),L.return=N,N=L),p(N)):a(N,T)}return function(N,T,A,L){try{Ri=0;var ee=Re(N,T,A,L);return Aa=null,ee}catch(X){if(X===Na||X===ul)throw X;var _e=kt(29,X,null,N.mode);return _e.lanes=L,_e.return=N,_e}}}var Ps=bf(!0),yf=bf(!1),Zn=!1;function Oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Te&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=al(e),ef(e,null,a),n}return sl(e,l,n,a),al(e)}function Mi(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,oh(e,a)}}function Dc(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=p:h=h.next=p,a=a.next}while(a!==null);h===null?u=h=n:h=h.next=n}else u=h=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Mc=!1;function Ui(){if(Mc){var e=ja;if(e!==null)throw e}}function Li(e,n,a,l){Mc=!1;var u=e.updateQueue;Zn=!1;var h=u.firstBaseUpdate,p=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,k=_.next;_.next=null,p===null?h=k:p.next=k,p=_;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==p&&(y===null?U.firstBaseUpdate=k:y.next=k,U.lastBaseUpdate=_))}if(h!==null){var I=u.baseState;p=0,U=k=_=null,y=h;do{var O=y.lane&-536870913,R=O!==y.lane;if(R?(pe&O)===O:(l&O)===O){O!==0&&O===Ta&&(Mc=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=e,ne=y;O=n;var Re=a;switch(ne.tag){case 1:if(Q=ne.payload,typeof Q=="function"){I=Q.call(Re,I,O);break e}I=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ne.payload,O=typeof Q=="function"?Q.call(Re,I,O):Q,O==null)break e;I=w({},I,O);break e;case 2:Zn=!0}}O=y.callback,O!==null&&(e.flags|=64,R&&(e.flags|=8192),R=u.callbacks,R===null?u.callbacks=[O]:R.push(O))}else R={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(k=U=R,_=I):U=U.next=R,p|=O;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;R=y,y=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);U===null&&(_=I),u.baseState=_,u.firstBaseUpdate=k,u.lastBaseUpdate=U,h===null&&(u.shared.lanes=0),is|=p,e.lanes=p,e.memoizedState=I}}function vf(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xf(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vf(a[e],n)}var ka=j(null),ml=j(0);function wf(e,n){e=On,q(ml,e),q(ka,n),On=e|n.baseLanes}function Uc(){q(ml,On),q(ka,ka.current)}function Lc(){On=ml.current,C(ka),C(ml)}var Ct=j(null),Gt=null;function ts(e){var n=e.alternate;q(Qe,Qe.current&1),q(Ct,e),Gt===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Gt=e)}function Ic(e){q(Qe,Qe.current),q(Ct,e),Gt===null&&(Gt=e)}function _f(e){e.tag===22?(q(Qe,Qe.current),q(Ct,e),Gt===null&&(Gt=e)):ns()}function ns(){q(Qe,Qe.current),q(Ct,Ct.current)}function Ot(e){C(Ct),Gt===e&&(Gt=null),C(Qe)}var Qe=j(0);function pl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$u(a)||Gu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sn=0,oe=null,Ce=null,Xe=null,gl=!1,Ca=!1,qs=!1,bl=0,Ii=0,Oa=null,Uy=0;function $e(){throw Error(r(321))}function zc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!At(e[a],n[a]))return!1;return!0}function Hc(e,n,a,l,u,h){return Sn=h,oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?im:eu,qs=!1,h=a(l,u),qs=!1,Ca&&(h=Ef(n,a,l,u)),Sf(e),h}function Sf(e){M.H=Bi;var n=Ce!==null&&Ce.next!==null;if(Sn=0,Xe=Ce=oe=null,gl=!1,Ii=0,Oa=null,n)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&ll(e)&&(Ze=!0))}function Ef(e,n,a,l){oe=e;var u=0;do{if(Ca&&(Oa=null),Ii=0,Ca=!1,25<=u)throw Error(r(301));if(u+=1,Xe=Ce=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=rm,h=n(a,l)}while(Ca);return h}function Ly(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?zi(n):n,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(oe.flags|=1024),n}function Bc(){var e=bl!==0;return bl=0,e}function Pc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function qc(e){if(gl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gl=!1}Sn=0,Xe=Ce=oe=null,Ca=!1,Ii=bl=0,Oa=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?oe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ce===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var n=Xe===null?oe.memoizedState:Xe.next;if(n!==null)Xe=n,Ce=e;else{if(e===null)throw oe.alternate===null?Error(r(467)):Error(r(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Xe===null?oe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zi(e){var n=Ii;return Ii+=1,Oa===null&&(Oa=[]),e=mf(Oa,e,n),n=oe,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?im:eu),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zi(e);if(e.$$typeof===B)return ut(e)}throw Error(r(438,String(e)))}function $c(e){var n=null,a=oe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=yl(),oe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Pe;return n.index++,a}function En(e,n){return typeof n=="function"?n(e):n}function xl(e){var n=Ye();return Gc(n,Ce,e)}function Gc(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var p=u.next;u.next=h.next,h.next=p}n.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{n=u.next;var y=p=null,_=null,k=n,U=!1;do{var I=k.lane&-536870913;if(I!==k.lane?(pe&I)===I:(Sn&I)===I){var O=k.revertLane;if(O===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),I===Ta&&(U=!0);else if((Sn&O)===O){k=k.next,O===Ta&&(U=!0);continue}else I={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(y=_=I,p=h):_=_.next=I,oe.lanes|=O,is|=O;I=k.action,qs&&a(h,I),h=k.hasEagerState?k.eagerState:a(h,I)}else O={lane:I,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},_===null?(y=_=O,p=h):_=_.next=O,oe.lanes|=I,is|=I;k=k.next}while(k!==null&&k!==n);if(_===null?p=h:_.next=y,!At(h,e.memoizedState)&&(Ze=!0,U&&(a=ja,a!==null)))throw a;e.memoizedState=h,e.baseState=p,e.baseQueue=_,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vc(e){var n=Ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,h=n.memoizedState;if(u!==null){a.pending=null;var p=u=u.next;do h=e(h,p.action),p=p.next;while(p!==u);At(h,n.memoizedState)||(Ze=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Tf(e,n,a){var l=oe,u=Ye(),h=ye;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!At((Ce||u).memoizedState,a);if(p&&(u.memoizedState=a,Ze=!0),u=u.queue,Yc(Af.bind(null,l,u,e),[e]),u.getSnapshot!==n||p||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},Nf.bind(null,l,u,a,n),null),De===null)throw Error(r(349));h||(Sn&127)!==0||jf(l,n,a)}return a}function jf(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=oe.updateQueue,n===null?(n=yl(),oe.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Nf(e,n,a,l){n.value=a,n.getSnapshot=l,kf(n)&&Cf(e)}function Af(e,n,a){return a(function(){kf(n)&&Cf(e)})}function kf(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!At(e,a)}catch{return!0}}function Cf(e){var n=Ds(e,2);n!==null&&Nt(n,e,2)}function Kc(e){var n=vt();if(typeof e=="function"){var a=e;if(e=a(),qs){pt(!0);try{a()}finally{pt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},n}function Of(e,n,a,l){return e.baseState=a,Gc(e,Ce,typeof l=="function"?l:En)}function Iy(e,n,a,l,u){if(Sl(e))throw Error(r(485));if(e=n.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};M.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Rf(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Rf(e,n){var a=n.action,l=n.payload,u=e.state;if(n.isTransition){var h=M.T,p={};M.T=p;try{var y=a(u,l),_=M.S;_!==null&&_(p,y),Df(e,n,y)}catch(k){Qc(e,n,k)}finally{h!==null&&p.types!==null&&(h.types=p.types),M.T=h}}else try{h=a(u,l),Df(e,n,h)}catch(k){Qc(e,n,k)}}function Df(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mf(e,n,l)},function(l){return Qc(e,n,l)}):Mf(e,n,a)}function Mf(e,n,a){n.status="fulfilled",n.value=a,Uf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rf(e,a)))}function Qc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Uf(n),n=n.next;while(n!==l)}e.action=null}function Uf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lf(e,n){return n}function If(e,n){if(ye){var a=De.formState;if(a!==null){e:{var l=oe;if(ye){if(Ie){t:{for(var u=Ie,h=$t;u.nodeType!==8;){if(!h){u=null;break t}if(u=Vt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Ie=Vt(u.nextSibling),l=u.data==="F!";break e}}Jn(l)}l=!1}l&&(n=a[0])}}return a=vt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:n},a.queue=l,a=nm.bind(null,oe,l),l.dispatch=a,l=Kc(!1),h=Fc.bind(null,oe,!1,l.queue),l=vt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,a=Iy.bind(null,oe,u,h,a),u.dispatch=a,l.memoizedState=e,[n,a,!1]}function zf(e){var n=Ye();return Hf(n,Ce,e)}function Hf(e,n,a){if(n=Gc(e,n,Lf)[0],e=xl(En)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=zi(n)}catch(p){throw p===Na?ul:p}else l=n;n=Ye();var u=n.queue,h=u.dispatch;return a!==n.memoizedState&&(oe.flags|=2048,Ra(9,{destroy:void 0},zy.bind(null,u,a),null)),[l,h,e]}function zy(e,n){e.action=n}function Bf(e){var n=Ye(),a=Ce;if(a!==null)return Hf(n,a,e);Ye(),n=n.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Ra(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=oe.updateQueue,n===null&&(n=yl(),oe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Pf(){return Ye().memoizedState}function wl(e,n,a,l){var u=vt();oe.flags|=e,u.memoizedState=Ra(1|n,{destroy:void 0},a,l===void 0?null:l)}function _l(e,n,a,l){var u=Ye();l=l===void 0?null:l;var h=u.memoizedState.inst;Ce!==null&&l!==null&&zc(l,Ce.memoizedState.deps)?u.memoizedState=Ra(n,h,a,l):(oe.flags|=e,u.memoizedState=Ra(1|n,h,a,l))}function qf(e,n){wl(8390656,8,e,n)}function Yc(e,n){_l(2048,8,e,n)}function Hy(e){oe.flags|=4;var n=oe.updateQueue;if(n===null)n=yl(),oe.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function $f(e){var n=Ye().memoizedState;return Hy({ref:n,nextImpl:e}),function(){if((Te&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Gf(e,n){return _l(4,2,e,n)}function Vf(e,n){return _l(4,4,e,n)}function Kf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qf(e,n,a){a=a!=null?a.concat([e]):null,_l(4,4,Kf.bind(null,n,e),a)}function Wc(){}function Yf(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&zc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Wf(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&zc(n,l[1]))return l[0];if(l=e(),qs){pt(!0);try{e()}finally{pt(!1)}}return a.memoizedState=[l,n],l}function Jc(e,n,a){return a===void 0||(Sn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Jm(),oe.lanes|=e,is|=e,a)}function Jf(e,n,a,l){return At(a,n)?a:ka.current!==null?(e=Jc(e,a,l),At(e,n)||(Ze=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(pe&261930)===0?(Ze=!0,e.memoizedState=a):(e=Jm(),oe.lanes|=e,is|=e,n)}function Xf(e,n,a,l,u){var h=G.p;G.p=h!==0&&8>h?h:8;var p=M.T,y={};M.T=y,Fc(e,!1,n,a);try{var _=u(),k=M.S;if(k!==null&&k(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=My(_,l);Hi(e,n,U,Mt(e))}else Hi(e,n,l,Mt(e))}catch(I){Hi(e,n,{then:function(){},status:"rejected",reason:I},Mt())}finally{G.p=h,p!==null&&y.types!==null&&(p.types=y.types),M.T=p}}function By(){}function Xc(e,n,a,l){if(e.tag!==5)throw Error(r(476));var u=Zf(e).queue;Xf(e,u,n,J,a===null?By:function(){return Ff(e),a(l)})}function Zf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:J},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ff(e){var n=Zf(e);n.next===null&&(n=e.alternate.memoizedState),Hi(e,n.next.queue,{},Mt())}function Zc(){return ut(nr)}function em(){return Ye().memoizedState}function tm(){return Ye().memoizedState}function Py(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Mt();e=Fn(a);var l=es(n,e,a);l!==null&&(Nt(l,n,a),Mi(l,n,a)),n={cache:Nc()},e.payload=n;return}n=n.return}}function qy(e,n,a){var l=Mt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sl(e)?sm(n,a):(a=gc(e,n,a,l),a!==null&&(Nt(a,e,l),am(a,n,l)))}function nm(e,n,a){var l=Mt();Hi(e,n,a,l)}function Hi(e,n,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))sm(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,y=h(p,a);if(u.hasEagerState=!0,u.eagerState=y,At(y,p))return sl(e,n,u,0),De===null&&nl(),!1}catch{}if(a=gc(e,n,u,l),a!==null)return Nt(a,e,l),am(a,n,l),!0}return!1}function Fc(e,n,a,l){if(l={lane:2,revertLane:Ou(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(n)throw Error(r(479))}else n=gc(e,a,l,2),n!==null&&Nt(n,e,2)}function Sl(e){var n=e.alternate;return e===oe||n!==null&&n===oe}function sm(e,n){Ca=gl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function am(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,oh(e,a)}}var Bi={readContext:ut,use:vl,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};Bi.useEffectEvent=$e;var im={readContext:ut,use:vl,useCallback:function(e,n){return vt().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:qf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,wl(4194308,4,Kf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return wl(4194308,4,e,n)},useInsertionEffect:function(e,n){wl(4,2,e,n)},useMemo:function(e,n){var a=vt();n=n===void 0?null:n;var l=e();if(qs){pt(!0);try{e()}finally{pt(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=vt();if(a!==void 0){var u=a(n);if(qs){pt(!0);try{a(n)}finally{pt(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=qy.bind(null,oe,e),[l.memoizedState,e]},useRef:function(e){var n=vt();return e={current:e},n.memoizedState=e},useState:function(e){e=Kc(e);var n=e.queue,a=nm.bind(null,oe,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(e,n){var a=vt();return Jc(a,e,n)},useTransition:function(){var e=Kc(!1);return e=Xf.bind(null,oe,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=oe,u=vt();if(ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),De===null)throw Error(r(349));(pe&127)!==0||jf(l,n,a)}u.memoizedState=a;var h={value:a,getSnapshot:n};return u.queue=h,qf(Af.bind(null,l,h,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},Nf.bind(null,l,h,a,n),null),a},useId:function(){var e=vt(),n=De.identifierPrefix;if(ye){var a=on,l=ln;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=bl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Uy++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Zc,useFormState:If,useActionState:If,useOptimistic:function(e){var n=vt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fc.bind(null,oe,!0,a),a.dispatch=n,[e,n]},useMemoCache:$c,useCacheRefresh:function(){return vt().memoizedState=Py.bind(null,oe)},useEffectEvent:function(e){var n=vt(),a={impl:e};return n.memoizedState=a,function(){if((Te&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},eu={readContext:ut,use:vl,useCallback:Yf,useContext:ut,useEffect:Yc,useImperativeHandle:Qf,useInsertionEffect:Gf,useLayoutEffect:Vf,useMemo:Wf,useReducer:xl,useRef:Pf,useState:function(){return xl(En)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=Ye();return Jf(a,Ce.memoizedState,e,n)},useTransition:function(){var e=xl(En)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:zi(e),n]},useSyncExternalStore:Tf,useId:em,useHostTransitionStatus:Zc,useFormState:zf,useActionState:zf,useOptimistic:function(e,n){var a=Ye();return Of(a,Ce,e,n)},useMemoCache:$c,useCacheRefresh:tm};eu.useEffectEvent=$f;var rm={readContext:ut,use:vl,useCallback:Yf,useContext:ut,useEffect:Yc,useImperativeHandle:Qf,useInsertionEffect:Gf,useLayoutEffect:Vf,useMemo:Wf,useReducer:Vc,useRef:Pf,useState:function(){return Vc(En)},useDebugValue:Wc,useDeferredValue:function(e,n){var a=Ye();return Ce===null?Jc(a,e,n):Jf(a,Ce.memoizedState,e,n)},useTransition:function(){var e=Vc(En)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:zi(e),n]},useSyncExternalStore:Tf,useId:em,useHostTransitionStatus:Zc,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,n){var a=Ye();return Ce!==null?Of(a,Ce,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$c,useCacheRefresh:tm};rm.useEffectEvent=$f;function tu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Mt(),u=Fn(l);u.payload=n,a!=null&&(u.callback=a),n=es(e,u,l),n!==null&&(Nt(n,e,l),Mi(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Mt(),u=Fn(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=es(e,u,l),n!==null&&(Nt(n,e,l),Mi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Mt(),l=Fn(a);l.tag=2,n!=null&&(l.callback=n),n=es(e,l,a),n!==null&&(Nt(n,e,a),Mi(n,e,a))}};function lm(e,n,a,l,u,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,p):n.prototype&&n.prototype.isPureReactComponent?!ji(a,l)||!ji(u,h):!0}function om(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&nu.enqueueReplaceState(n,n.state,null)}function $s(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function cm(e){tl(e)}function um(e){console.error(e)}function dm(e){tl(e)}function El(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hm(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,n,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){El(e,n)},a}function fm(e){return e=Fn(e),e.tag=3,e}function mm(e,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){hm(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){hm(n,a,l),typeof u!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function $y(e,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,u,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Ll():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===dl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Au(e,l,u)),!1;case 22:return a.flags|=65536,l===dl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Au(e,l,u)),!1}throw Error(r(435,a.tag))}return Au(e,l,u),Ll(),!1}if(ye)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==_c&&(e=Error(r(422),{cause:l}),ki(Bt(e,a)))):(l!==_c&&(n=Error(r(423),{cause:l}),ki(Bt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Bt(l,a),u=su(e.stateNode,l,u),Dc(e,u),Ge!==4&&(Ge=2)),!1;var h=Error(r(520),{cause:l});if(h=Bt(h,a),Yi===null?Yi=[h]:Yi.push(h),Ge!==4&&(Ge=2),n===null)return!0;l=Bt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=su(a.stateNode,l,e),Dc(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(rs===null||!rs.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=fm(u),mm(u,e,a,l),Dc(a,u),!1}a=a.return}while(a!==null);return!1}var au=Error(r(461)),Ze=!1;function dt(e,n,a,l){n.child=e===null?yf(n,null,a,l):Ps(n,e.child,a,l)}function pm(e,n,a,l,u){a=a.render;var h=n.ref;if("ref"in l){var p={};for(var y in l)y!=="ref"&&(p[y]=l[y])}else p=l;return Is(n),l=Hc(e,n,a,p,h,u),y=Bc(),e!==null&&!Ze?(Pc(e,n,u),Tn(e,n,u)):(ye&&y&&xc(n),n.flags|=1,dt(e,n,l,u),n.child)}function gm(e,n,a,l,u){if(e===null){var h=a.type;return typeof h=="function"&&!bc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,bm(e,n,h,l,u)):(e=il(a.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!hu(e,u)){var p=h.memoizedProps;if(a=a.compare,a=a!==null?a:ji,a(p,l)&&e.ref===n.ref)return Tn(e,n,u)}return n.flags|=1,e=vn(h,l),e.ref=n.ref,e.return=n,n.child=e}function bm(e,n,a,l,u){if(e!==null){var h=e.memoizedProps;if(ji(h,l)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=l=h,hu(e,u))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,Tn(e,n,u)}return iu(e,n,a,l,u)}function ym(e,n,a,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,n.child=null;return vm(e,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(n,h!==null?h.cachePool:null),h!==null?wf(n,h):Uc(),_f(n);else return l=n.lanes=536870912,vm(e,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(cl(n,h.cachePool),wf(n,h),ns(),n.memoizedState=null):(e!==null&&cl(n,null),Uc(),ns());return dt(e,n,u,a),n.child}function Pi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vm(e,n,a,l,u){var h=kc();return h=h===null?null:{parent:Je._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&cl(n,null),Uc(),_f(n),e!==null&&Ea(e,n,l,!0),n.childLanes=u,null}function Tl(e,n){return n=Nl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xm(e,n,a){return Ps(n,e.child,null,a),e=Tl(n,n.pendingProps),e.flags|=2,Ot(n),n.memoizedState=null,e}function Gy(e,n,a){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ye){if(l.mode==="hidden")return e=Tl(n,l),n.lanes=536870912,Pi(null,e);if(Ic(n),(e=Ie)?(e=Rp(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=n,n.child=a,ct=n,Ie=null)):e=null,e===null)throw Jn(n);return n.lanes=536870912,null}return Tl(n,l)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(Ic(n),u)if(n.flags&256)n.flags&=-257,n=xm(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ze||Ea(e,n,a,!1),u=(a&e.childLanes)!==0,Ze||u){if(l=De,l!==null&&(p=ch(l,a),p!==0&&p!==h.retryLane))throw h.retryLane=p,Ds(e,p),Nt(l,e,p),au;Ll(),n=xm(e,n,a)}else e=h.treeContext,Ie=Vt(p.nextSibling),ct=n,ye=!0,Wn=null,$t=!1,e!==null&&rf(n,e),n=Tl(n,l),n.flags|=4096;return n}return e=vn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function jl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function iu(e,n,a,l,u){return Is(n),a=Hc(e,n,a,l,void 0,u),l=Bc(),e!==null&&!Ze?(Pc(e,n,u),Tn(e,n,u)):(ye&&l&&xc(n),n.flags|=1,dt(e,n,a,u),n.child)}function wm(e,n,a,l,u,h){return Is(n),n.updateQueue=null,a=Ef(n,l,a,u),Sf(e),l=Bc(),e!==null&&!Ze?(Pc(e,n,h),Tn(e,n,h)):(ye&&l&&xc(n),n.flags|=1,dt(e,n,a,h),n.child)}function _m(e,n,a,l,u){if(Is(n),n.stateNode===null){var h=xa,p=a.contextType;typeof p=="object"&&p!==null&&(h=ut(p)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=nu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Oc(n),p=a.contextType,h.context=typeof p=="object"&&p!==null?ut(p):xa,h.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(tu(n,a,p,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&nu.enqueueReplaceState(h,h.state,null),Li(n,l,h,u),Ui(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var y=n.memoizedProps,_=$s(a,y);h.props=_;var k=h.context,U=a.contextType;p=xa,typeof U=="object"&&U!==null&&(p=ut(U));var I=a.getDerivedStateFromProps;U=typeof I=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||k!==p)&&om(n,h,l,p),Zn=!1;var O=n.memoizedState;h.state=O,Li(n,l,h,u),Ui(),k=n.memoizedState,y||O!==k||Zn?(typeof I=="function"&&(tu(n,a,I,l),k=n.memoizedState),(_=Zn||lm(n,a,_,l,O,k,p))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=p,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Rc(e,n),p=n.memoizedProps,U=$s(a,p),h.props=U,I=n.pendingProps,O=h.context,k=a.contextType,_=xa,typeof k=="object"&&k!==null&&(_=ut(k)),y=a.getDerivedStateFromProps,(k=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==I||O!==_)&&om(n,h,l,_),Zn=!1,O=n.memoizedState,h.state=O,Li(n,l,h,u),Ui();var R=n.memoizedState;p!==I||O!==R||Zn||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof y=="function"&&(tu(n,a,y,l),R=n.memoizedState),(U=Zn||lm(n,a,U,l,O,R,_)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,R,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,R,_)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=R),h.props=l,h.state=R,h.context=_,l=U):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,jl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=Ps(n,e.child,null,u),n.child=Ps(n,null,a,u)):dt(e,n,a,u),n.memoizedState=h.state,e=n.child):e=Tn(e,n,u),e}function Sm(e,n,a,l){return Us(),n.flags|=256,dt(e,n,a,l),n.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lu(e){return{baseLanes:e,cachePool:hf()}}function ou(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dt),e}function Em(e,n,a){var l=n.pendingProps,u=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),p&&(u=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(ye){if(u?ts(n):ns(),(e=Ie)?(e=Rp(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=n,n.child=a,ct=n,Ie=null)):e=null,e===null)throw Jn(n);return Gu(e)?n.lanes=32:n.lanes=536870912,null}var y=l.children;return l=l.fallback,u?(ns(),u=n.mode,y=Nl({mode:"hidden",children:y},u),l=Ms(l,u,a,null),y.return=n,l.return=n,y.sibling=l,n.child=y,l=n.child,l.memoizedState=lu(a),l.childLanes=ou(e,p,a),n.memoizedState=ru,Pi(null,l)):(ts(n),cu(n,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(h)n.flags&256?(ts(n),n.flags&=-257,n=uu(e,n,a)):n.memoizedState!==null?(ns(),n.child=e.child,n.flags|=128,n=null):(ns(),y=l.fallback,u=n.mode,l=Nl({mode:"visible",children:l.children},u),y=Ms(y,u,a,null),y.flags|=2,l.return=n,y.return=n,l.sibling=y,n.child=l,Ps(n,e.child,null,a),l=n.child,l.memoizedState=lu(a),l.childLanes=ou(e,p,a),n.memoizedState=ru,n=Pi(null,l));else if(ts(n),Gu(y)){if(p=y.nextSibling&&y.nextSibling.dataset,p)var k=p.dgst;p=k,l=Error(r(419)),l.stack="",l.digest=p,ki({value:l,source:null,stack:null}),n=uu(e,n,a)}else if(Ze||Ea(e,n,a,!1),p=(a&e.childLanes)!==0,Ze||p){if(p=De,p!==null&&(l=ch(p,a),l!==0&&l!==_.retryLane))throw _.retryLane=l,Ds(e,l),Nt(p,e,l),au;$u(y)||Ll(),n=uu(e,n,a)}else $u(y)?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,Ie=Vt(y.nextSibling),ct=n,ye=!0,Wn=null,$t=!1,e!==null&&rf(n,e),n=cu(n,l.children),n.flags|=4096);return n}return u?(ns(),y=l.fallback,u=n.mode,_=e.child,k=_.sibling,l=vn(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,k!==null?y=vn(k,y):(y=Ms(y,u,a,null),y.flags|=2),y.return=n,l.return=n,l.sibling=y,n.child=l,Pi(null,l),l=n.child,y=e.child.memoizedState,y===null?y=lu(a):(u=y.cachePool,u!==null?(_=Je._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=hf(),y={baseLanes:y.baseLanes|a,cachePool:u}),l.memoizedState=y,l.childLanes=ou(e,p,a),n.memoizedState=ru,Pi(e.child,l)):(ts(n),a=e.child,e=a.sibling,a=vn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function cu(e,n){return n=Nl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Nl(e,n){return e=kt(22,e,null,n),e.lanes=0,e}function uu(e,n,a){return Ps(n,e.child,null,a),e=cu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tm(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Tc(e.return,n,a)}function du(e,n,a,l,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=u,p.treeForkCount=h)}function jm(e,n,a){var l=n.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var p=Qe.current,y=(p&2)!==0;if(y?(p=p&1|2,n.flags|=128):p&=1,q(Qe,p),dt(e,n,l,a),l=ye?Ai:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,a,n);else if(e.tag===19)Tm(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&pl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),du(n,!1,u,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&pl(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}du(n,!0,a,null,h,l);break;case"together":du(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Tn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),is|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ea(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=vn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=vn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function hu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function Vy(e,n,a){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),Xn(n,Je,e.memoizedState.cache),Us();break;case 27:case 5:at(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:Xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ic(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Em(e,n,a):(ts(n),e=Tn(e,n,a),e!==null?e.sibling:null);ts(n);break;case 19:var u=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ea(e,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return jm(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),q(Qe,Qe.current),l)break;return null;case 22:return n.lanes=0,ym(e,n,a,n.pendingProps);case 24:Xn(n,Je,e.memoizedState.cache)}return Tn(e,n,a)}function Nm(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!hu(e,a)&&(n.flags&128)===0)return Ze=!1,Vy(e,n,a);Ze=(e.flags&131072)!==0}else Ze=!1,ye&&(n.flags&1048576)!==0&&af(n,Ai,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Hs(n.elementType),n.type=e,typeof e=="function")bc(e)?(l=$s(e,l),n.tag=1,n=_m(null,n,e,l,a)):(n.tag=0,n=iu(null,n,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===K){n.tag=11,n=pm(null,n,e,l,a);break e}else if(u===Y){n.tag=14,n=gm(null,n,e,l,a);break e}}throw n=st(e)||e,Error(r(306,n,""))}}return n;case 0:return iu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=$s(l,n.pendingProps),_m(e,n,l,u,a);case 3:e:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;u=h.element,Rc(e,n),Li(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Xn(n,Je,l),l!==h.cache&&jc(n,[Je],a,!0),Ui(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Sm(e,n,l,a);break e}else if(l!==u){u=Bt(Error(r(424)),n),ki(u),n=Sm(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=Vt(e.firstChild),ct=n,ye=!0,Wn=null,$t=!0,a=yf(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===u){n=Tn(e,n,a);break e}dt(e,n,l,a)}n=n.child}return n;case 26:return jl(e,n),e===null?(a=zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:ye||(a=n.type,e=n.pendingProps,l=$l(W.current).createElement(a),l[ot]=n,l[wt]=e,ht(l,a,e),it(l),n.stateNode=l):n.memoizedState=zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return at(n),e===null&&ye&&(l=n.stateNode=Up(n.type,n.pendingProps,W.current),ct=n,$t=!0,u=Ie,us(n.type)?(Vu=u,Ie=Vt(l.firstChild)):Ie=u),dt(e,n,n.pendingProps.children,a),jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ye&&((u=l=Ie)&&(l=wv(l,n.type,n.pendingProps,$t),l!==null?(n.stateNode=l,ct=n,Ie=Vt(l.firstChild),$t=!1,u=!0):u=!1),u||Jn(n)),at(n),u=n.type,h=n.pendingProps,p=e!==null?e.memoizedProps:null,l=h.children,Bu(u,h)?l=null:p!==null&&Bu(u,p)&&(n.flags|=32),n.memoizedState!==null&&(u=Hc(e,n,Ly,null,null,a),nr._currentValue=u),jl(e,n),dt(e,n,l,a),n.child;case 6:return e===null&&ye&&((e=a=Ie)&&(a=_v(a,n.pendingProps,$t),a!==null?(n.stateNode=a,ct=n,Ie=null,e=!0):e=!1),e||Jn(n)),null;case 13:return Em(e,n,a);case 4:return Ue(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ps(n,null,l,a):dt(e,n,l,a),n.child;case 11:return pm(e,n,n.type,n.pendingProps,a);case 7:return dt(e,n,n.pendingProps,a),n.child;case 8:return dt(e,n,n.pendingProps.children,a),n.child;case 12:return dt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Xn(n,n.type,l.value),dt(e,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Is(n),u=ut(u),l=l(u),n.flags|=1,dt(e,n,l,a),n.child;case 14:return gm(e,n,n.type,n.pendingProps,a);case 15:return bm(e,n,n.type,n.pendingProps,a);case 19:return jm(e,n,a);case 31:return Gy(e,n,a);case 22:return ym(e,n,a,n.pendingProps);case 24:return Is(n),l=ut(Je),e===null?(u=kc(),u===null&&(u=De,h=Nc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),n.memoizedState={parent:l,cache:u},Oc(n),Xn(n,Je,u)):((e.lanes&a)!==0&&(Rc(e,n),Li(n,null,null,a),Ui()),u=e.memoizedState,h=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Xn(n,Je,l)):(l=h.cache,Xn(n,Je,l),l!==u.cache&&jc(n,[Je],a,!0))),dt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function jn(e){e.flags|=4}function fu(e,n,a,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ep())e.flags|=8192;else throw Bs=dl,Cc}else e.flags&=-16777217}function Am(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(n))if(ep())e.flags|=8192;else throw Bs=dl,Cc}function Al(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rh():536870912,e.lanes|=n,La|=n)}function qi(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function Ky(e,n,a){var l=n.pendingProps;switch(wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_n(Je),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?jn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sc())),ze(n),null;case 26:var u=n.type,h=n.memoizedState;return e===null?(jn(n),h!==null?(ze(n),Am(n,h)):(ze(n),fu(n,u,null,l,a))):h?h!==e.memoizedState?(jn(n),ze(n),Am(n,h)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&jn(n),ze(n),fu(n,u,e,l,a)),null;case 27:if(Gn(n),a=W.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&jn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}e=$.current,Sa(n)?lf(n):(e=Up(u,l,a),n.stateNode=e,jn(n))}return ze(n),null;case 5:if(Gn(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&jn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}if(h=$.current,Sa(n))lf(n);else{var p=$l(W.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}h[ot]=n,h[wt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=h;e:switch(ht(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jn(n)}}return ze(n),fu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&jn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=W.current,Sa(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,u=ct,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ot]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ep(e.nodeValue,a)),e||Jn(n,!0)}else e=$l(e).createTextNode(l),e[ot]=n,n.stateNode=e}return ze(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Sa(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else a=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ot(n),n):(Ot(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ze(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Sa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ot]=n}else Us(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),u=!1}else u=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ot(n),n):(Ot(n),null)}return Ot(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Al(n,n.updateQueue),ze(n),null);case 4:return we(),e===null&&Uu(n.stateNode.containerInfo),ze(n),null;case 10:return _n(n.type),ze(n),null;case 19:if(C(Qe),l=n.memoizedState,l===null)return ze(n),null;if(u=(n.flags&128)!==0,h=l.rendering,h===null)if(u)qi(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=pl(e),h!==null){for(n.flags|=128,qi(l,!1),e=h.updateQueue,n.updateQueue=e,Al(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)tf(a,e),a=a.sibling;return q(Qe,Qe.current&1|2),ye&&xn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&bt()>Dl&&(n.flags|=128,u=!0,qi(l,!1),n.lanes=4194304)}else{if(!u)if(e=pl(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Al(n,e),qi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!ye)return ze(n),null}else 2*bt()-l.renderingStartTime>Dl&&a!==536870912&&(n.flags|=128,u=!0,qi(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=bt(),e.sibling=null,a=Qe.current,q(Qe,u?a&1|2:a&1),ye&&xn(n,l.treeForkCount),e):(ze(n),null);case 22:case 23:return Ot(n),Lc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&Al(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&C(zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),_n(Je),ze(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Qy(e,n){switch(wc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return _n(Je),we(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gn(n),null;case 31:if(n.memoizedState!==null){if(Ot(n),n.alternate===null)throw Error(r(340));Us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ot(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Us()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return C(Qe),null;case 4:return we(),null;case 10:return _n(n.type),null;case 22:case 23:return Ot(n),Lc(),e!==null&&C(zs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return _n(Je),null;case 25:return null;default:return null}}function km(e,n){switch(wc(n),n.tag){case 3:_n(Je),we();break;case 26:case 27:case 5:Gn(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Ot(n);break;case 13:Ot(n);break;case 19:C(Qe);break;case 10:_n(n.type);break;case 22:case 23:Ot(n),Lc(),e!==null&&C(zs);break;case 24:_n(Je)}}function $i(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var h=a.create,p=a.inst;l=h(),p.destroy=l}a=a.next}while(a!==u)}}catch(y){Ae(n,n.return,y)}}function ss(e,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var p=l.inst,y=p.destroy;if(y!==void 0){p.destroy=void 0,u=n;var _=a,k=y;try{k()}catch(U){Ae(u,_,U)}}}l=l.next}while(l!==h)}}catch(U){Ae(n,n.return,U)}}function Cm(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{xf(n,a)}catch(l){Ae(e,e.return,l)}}}function Om(e,n,a){a.props=$s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ae(e,n,l)}}function Gi(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Ae(e,n,u)}}function cn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ae(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ae(e,n,u)}else a.current=null}function Rm(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ae(e,e.return,u)}}function mu(e,n,a){try{var l=e.stateNode;pv(l,e.type,a,n),l[wt]=n}catch(u){Ae(e,e.return,u)}}function Dm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=bn));else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(gu(e,n,a),e=e.sibling;e!==null;)gu(e,n,a),e=e.sibling}function kl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kl(e,n,a),e=e.sibling;e!==null;)kl(e,n,a),e=e.sibling}function Mm(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ht(n,l,a),n[ot]=e,n[wt]=a}catch(h){Ae(e,e.return,h)}}var Nn=!1,Fe=!1,bu=!1,Um=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Yy(e,n){if(e=e.containerInfo,zu=Jl,e=Kh(e),uc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var p=0,y=-1,_=-1,k=0,U=0,I=e,O=null;t:for(;;){for(var R;I!==a||u!==0&&I.nodeType!==3||(y=p+u),I!==h||l!==0&&I.nodeType!==3||(_=p+l),I.nodeType===3&&(p+=I.nodeValue.length),(R=I.firstChild)!==null;)O=I,I=R;for(;;){if(I===e)break t;if(O===a&&++k===u&&(y=p),O===h&&++U===l&&(_=p),(R=I.nextSibling)!==null)break;I=O,O=I.parentNode}I=R}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hu={focusedElem:e,selectionRange:a},Jl=!1,rt=n;rt!==null;)if(n=rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rt=e;else for(;rt!==null;){switch(n=rt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,u=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var Q=$s(a.type,u);e=l.getSnapshotBeforeUpdate(Q,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Ae(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)qu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,rt=e;break}rt=n.return}}function Lm(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:kn(e,a),l&4&&$i(5,a);break;case 1:if(kn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Ae(a,a.return,p)}else{var u=$s(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ae(a,a.return,p)}}l&64&&Cm(a),l&512&&Gi(a,a.return);break;case 3:if(kn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xf(e,n)}catch(p){Ae(a,a.return,p)}}break;case 27:n===null&&l&4&&Mm(a);case 26:case 5:kn(e,a),n===null&&l&4&&Rm(a),l&512&&Gi(a,a.return);break;case 12:kn(e,a);break;case 31:kn(e,a),l&4&&Hm(e,a);break;case 13:kn(e,a),l&4&&Bm(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sv.bind(null,a),Sv(e,a))));break;case 22:if(l=a.memoizedState!==null||Nn,!l){n=n!==null&&n.memoizedState!==null||Fe,u=Nn;var h=Fe;Nn=l,(Fe=n)&&!h?Cn(e,a,(a.subtreeFlags&8772)!==0):kn(e,a),Nn=u,Fe=h}break;case 30:break;default:kn(e,a)}}function Im(e){var n=e.alternate;n!==null&&(e.alternate=null,Im(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,St=!1;function An(e,n,a){for(a=a.child;a!==null;)zm(e,n,a),a=a.sibling}function zm(e,n,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ns,a)}catch{}switch(a.tag){case 26:Fe||cn(a,n),An(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||cn(a,n);var l=Be,u=St;us(a.type)&&(Be=a.stateNode,St=!1),An(e,n,a),Fi(a.stateNode),Be=l,St=u;break;case 5:Fe||cn(a,n);case 6:if(l=Be,u=St,Be=null,An(e,n,a),Be=l,St=u,Be!==null)if(St)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(h){Ae(a,n,h)}else try{Be.removeChild(a.stateNode)}catch(h){Ae(a,n,h)}break;case 18:Be!==null&&(St?(e=Be,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):Cp(Be,a.stateNode));break;case 4:l=Be,u=St,Be=a.stateNode.containerInfo,St=!0,An(e,n,a),Be=l,St=u;break;case 0:case 11:case 14:case 15:ss(2,a,n),Fe||ss(4,a,n),An(e,n,a);break;case 1:Fe||(cn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Om(a,n,l)),An(e,n,a);break;case 21:An(e,n,a);break;case 22:Fe=(l=Fe)||a.memoizedState!==null,An(e,n,a),Fe=l;break;default:An(e,n,a)}}function Hm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Ae(n,n.return,a)}}}function Bm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Ae(n,n.return,a)}}function Wy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Um),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Um),n;default:throw Error(r(435,e.tag))}}function Cl(e,n){var a=Wy(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var u=av.bind(null,e,l);l.then(u,u)}})}function Et(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],h=e,p=n,y=p;e:for(;y!==null;){switch(y.tag){case 27:if(us(y.type)){Be=y.stateNode,St=!1;break e}break;case 5:Be=y.stateNode,St=!1;break e;case 3:case 4:Be=y.stateNode.containerInfo,St=!0;break e}y=y.return}if(Be===null)throw Error(r(160));zm(h,p,u),Be=null,St=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Pm(n,e),n=n.sibling}var Xt=null;function Pm(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(n,e),Tt(e),l&4&&(ss(3,e,e.return),$i(3,e),ss(5,e,e.return));break;case 1:Et(n,e),Tt(e),l&512&&(Fe||a===null||cn(a,a.return)),l&64&&Nn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Xt;if(Et(n,e),Tt(e),l&512&&(Fe||a===null||cn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[bi]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),ht(h,l,a),h[ot]=e,it(h),l=h;break e;case"link":var p=Pp("link","href",u).get(l+(a.href||""));if(p){for(var y=0;y<p.length;y++)if(h=p[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(y,1);break t}}h=u.createElement(l),ht(h,l,a),u.head.appendChild(h);break;case"meta":if(p=Pp("meta","content",u).get(l+(a.content||""))){for(y=0;y<p.length;y++)if(h=p[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(y,1);break t}}h=u.createElement(l),ht(h,l,a),u.head.appendChild(h);break;default:throw Error(r(468,l))}h[ot]=e,it(h),l=h}e.stateNode=l}else qp(u,e.type,e.stateNode);else e.stateNode=Bp(u,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?qp(u,e.type,e.stateNode):Bp(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&mu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Et(n,e),Tt(e),l&512&&(Fe||a===null||cn(a,a.return)),a!==null&&l&4&&mu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Et(n,e),Tt(e),l&512&&(Fe||a===null||cn(a,a.return)),e.flags&32){u=e.stateNode;try{fa(u,"")}catch(Q){Ae(e,e.return,Q)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,mu(e,u,a!==null?a.memoizedProps:u)),l&1024&&(bu=!0);break;case 6:if(Et(n,e),Tt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Q){Ae(e,e.return,Q)}}break;case 3:if(Kl=null,u=Xt,Xt=Gl(n.containerInfo),Et(n,e),Xt=u,Tt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(Q){Ae(e,e.return,Q)}bu&&(bu=!1,qm(e));break;case 4:l=Xt,Xt=Gl(e.stateNode.containerInfo),Et(n,e),Tt(e),Xt=l;break;case 12:Et(n,e),Tt(e);break;case 31:Et(n,e),Tt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 13:Et(n,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rl=bt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,k=Nn,U=Fe;if(Nn=k||u,Fe=U||_,Et(n,e),Fe=U,Nn=k,Tt(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||_||Nn||Fe||Gs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){_=a=n;try{if(h=_.stateNode,u)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{y=_.stateNode;var I=_.memoizedProps.style,O=I!=null&&I.hasOwnProperty("display")?I.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Q){Ae(_,_.return,Q)}}}else if(n.tag===6){if(a===null){_=n;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(Q){Ae(_,_.return,Q)}}}else if(n.tag===18){if(a===null){_=n;try{var R=_.stateNode;u?Op(R,!0):Op(_.stateNode,!1)}catch(Q){Ae(_,_.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cl(e,a))));break;case 19:Et(n,e),Tt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 30:break;case 21:break;default:Et(n,e),Tt(e)}}function Tt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Dm(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,h=pu(e);kl(e,h,u);break;case 5:var p=a.stateNode;a.flags&32&&(fa(p,""),a.flags&=-33);var y=pu(e);kl(e,y,p);break;case 3:case 4:var _=a.stateNode.containerInfo,k=pu(e);gu(e,k,_);break;default:throw Error(r(161))}}catch(U){Ae(e,e.return,U)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lm(e,n.alternate,n),n=n.sibling}function Gs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ss(4,n,n.return),Gs(n);break;case 1:cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Om(n,n.return,a),Gs(n);break;case 27:Fi(n.stateNode);case 26:case 5:cn(n,n.return),Gs(n);break;case 22:n.memoizedState===null&&Gs(n);break;case 30:Gs(n);break;default:Gs(n)}e=e.sibling}}function Cn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:Cn(u,h,a),$i(4,h);break;case 1:if(Cn(u,h,a),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Ae(l,l.return,k)}if(l=h,u=l.updateQueue,u!==null){var y=l.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)vf(_[u],y)}catch(k){Ae(l,l.return,k)}}a&&p&64&&Cm(h),Gi(h,h.return);break;case 27:Mm(h);case 26:case 5:Cn(u,h,a),a&&l===null&&p&4&&Rm(h),Gi(h,h.return);break;case 12:Cn(u,h,a);break;case 31:Cn(u,h,a),a&&p&4&&Hm(u,h);break;case 13:Cn(u,h,a),a&&p&4&&Bm(u,h);break;case 22:h.memoizedState===null&&Cn(u,h,a),Gi(h,h.return);break;case 30:break;default:Cn(u,h,a)}n=n.sibling}}function yu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ci(a))}function vu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ci(e))}function Zt(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$m(e,n,a,l),n=n.sibling}function $m(e,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Zt(e,n,a,l),u&2048&&$i(9,n);break;case 1:Zt(e,n,a,l);break;case 3:Zt(e,n,a,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Zt(e,n,a,l),e=n.stateNode;try{var h=n.memoizedProps,p=h.id,y=h.onPostCommit;typeof y=="function"&&y(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ae(n,n.return,_)}}else Zt(e,n,a,l);break;case 31:Zt(e,n,a,l);break;case 13:Zt(e,n,a,l);break;case 23:break;case 22:h=n.stateNode,p=n.alternate,n.memoizedState!==null?h._visibility&2?Zt(e,n,a,l):Vi(e,n):h._visibility&2?Zt(e,n,a,l):(h._visibility|=2,Da(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&yu(p,n);break;case 24:Zt(e,n,a,l),u&2048&&vu(n.alternate,n);break;default:Zt(e,n,a,l)}}function Da(e,n,a,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,p=n,y=a,_=l,k=p.flags;switch(p.tag){case 0:case 11:case 15:Da(h,p,y,_,u),$i(8,p);break;case 23:break;case 22:var U=p.stateNode;p.memoizedState!==null?U._visibility&2?Da(h,p,y,_,u):Vi(h,p):(U._visibility|=2,Da(h,p,y,_,u)),u&&k&2048&&yu(p.alternate,p);break;case 24:Da(h,p,y,_,u),u&&k&2048&&vu(p.alternate,p);break;default:Da(h,p,y,_,u)}n=n.sibling}}function Vi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,u=l.flags;switch(l.tag){case 22:Vi(a,l),u&2048&&yu(l.alternate,l);break;case 24:Vi(a,l),u&2048&&vu(l.alternate,l);break;default:Vi(a,l)}n=n.sibling}}var Ki=8192;function Ma(e,n,a){if(e.subtreeFlags&Ki)for(e=e.child;e!==null;)Gm(e,n,a),e=e.sibling}function Gm(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&Ki&&e.memoizedState!==null&&Uv(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var l=Xt;Xt=Gl(e.stateNode.containerInfo),Ma(e,n,a),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ki,Ki=16777216,Ma(e,n,a),Ki=l):Ma(e,n,a));break;default:Ma(e,n,a)}}function Vm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];rt=l,Qm(l,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Km(e),e=e.sibling}function Km(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ol(e)):Qi(e);break;default:Qi(e)}}function Ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];rt=l,Qm(l,e)}Vm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ss(8,n,n.return),Ol(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(n));break;default:Ol(n)}e=e.sibling}}function Qm(e,n){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:ss(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rt=l;else e:for(a=e;rt!==null;){l=rt;var u=l.sibling,h=l.return;if(Im(l),l===a){rt=null;break e}if(u!==null){u.return=h,rt=u;break e}rt=h}}}var Jy={getCacheForType:function(e){var n=ut(Je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ut(Je).controller.signal}},Xy=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,he=null,pe=0,Ne=0,Rt=null,as=!1,Ua=!1,xu=!1,On=0,Ge=0,is=0,Vs=0,wu=0,Dt=0,La=0,Yi=null,jt=null,_u=!1,Rl=0,Ym=0,Dl=1/0,Ml=null,rs=null,tt=0,ls=null,Ia=null,Rn=0,Su=0,Eu=null,Wm=null,Wi=0,Tu=null;function Mt(){return(Te&2)!==0&&pe!==0?pe&-pe:M.T!==null?Ou():uh()}function Jm(){if(Dt===0)if((pe&536870912)===0||ye){var e=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),Dt=e}else Dt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Dt}function Nt(e,n,a){(e===De&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(za(e,0),os(e,pe,Dt,!1)),gi(e,a),((Te&2)===0||e!==De)&&(e===De&&((Te&2)===0&&(Vs|=a),Ge===4&&os(e,pe,Dt,!1)),un(e))}function Xm(e,n,a){if((Te&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||pi(e,n),u=l?ev(e,n):Nu(e,n,!0),h=l;do{if(u===0){Ua&&!l&&os(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!Zy(a)){u=Nu(e,n,!1),h=!1;continue}if(u===2){if(h=n,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var y=e;u=Yi;var _=y.current.memoizedState.isDehydrated;if(_&&(za(y,p).flags|=256),p=Nu(y,p,!1),p!==2){if(xu&&!_){y.errorRecoveryDisabledLanes|=h,Vs|=h,u=4;break e}h=jt,jt=u,h!==null&&(jt===null?jt=h:jt.push.apply(jt,h))}u=p}if(h=!1,u!==2)continue}}if(u===1){za(e,0),os(e,n,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:os(l,n,Dt,!as);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Rl+300-bt(),10<u)){if(os(l,n,Dt,!as),Gr(l,0,!0)!==0)break e;Rn=n,l.timeoutHandle=Ap(Zm.bind(null,l,a,jt,Ml,_u,n,Dt,Vs,La,as,h,"Throttled",-0,0),u);break e}Zm(l,a,jt,Ml,_u,n,Dt,Vs,La,as,h,null,-0,0)}}break}while(!0);un(e)}function Zm(e,n,a,l,u,h,p,y,_,k,U,I,O,R){if(e.timeoutHandle=-1,I=n.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},Gm(n,h,I);var Q=(h&62914560)===h?Rl-bt():(h&4194048)===h?Ym-bt():0;if(Q=Lv(I,Q),Q!==null){Rn=h,e.cancelPendingCommit=Q(rp.bind(null,e,n,h,a,l,u,p,y,_,U,I,null,O,R)),os(e,h,p,!k);return}}rp(e,n,h,a,l,u,p,y,_)}function Zy(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],h=u.getSnapshot;u=u.value;try{if(!At(h(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function os(e,n,a,l){n&=~wu,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var h=31-He(u),p=1<<h;l[h]=-1,u&=~p}a!==0&&lh(e,a,n)}function Ul(){return(Te&6)===0?(Ji(0),!1):!0}function ju(){if(he!==null){if(Ne===0)var e=he.return;else e=he,wn=Ls=null,qc(e),Aa=null,Ri=0,e=he;for(;e!==null;)km(e.alternate,e),e=e.return;he=null}}function za(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rn=0,ju(),De=e,he=a=vn(e.current,null),pe=n,Ne=0,Rt=null,as=!1,Ua=pi(e,n),xu=!1,La=Dt=wu=Vs=is=Ge=0,jt=Yi=null,_u=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-He(l),h=1<<u;n|=e[u],l&=~h}return On=n,nl(),a}function Fm(e,n){oe=null,M.H=Bi,n===Na||n===ul?(n=pf(),Ne=3):n===Cc?(n=pf(),Ne=4):Ne=n===au?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,he===null&&(Ge=1,El(e,Bt(n,e.current)))}function ep(){var e=Ct.current;return e===null?!0:(pe&4194048)===pe?Gt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Gt:!1}function tp(){var e=M.H;return M.H=Bi,e===null?Bi:e}function np(){var e=M.A;return M.A=Jy,e}function Ll(){Ge=4,as||(pe&4194048)!==pe&&Ct.current!==null||(Ua=!0),(is&134217727)===0&&(Vs&134217727)===0||De===null||os(De,pe,Dt,!1)}function Nu(e,n,a){var l=Te;Te|=2;var u=tp(),h=np();(De!==e||pe!==n)&&(Ml=null,za(e,n)),n=!1;var p=Ge;e:do try{if(Ne!==0&&he!==null){var y=he,_=Rt;switch(Ne){case 8:ju(),p=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var k=Ne;if(Ne=0,Rt=null,Ha(e,y,_,k),a&&Ua){p=0;break e}break;default:k=Ne,Ne=0,Rt=null,Ha(e,y,_,k)}}Fy(),p=Ge;break}catch(U){Fm(e,U)}while(!0);return n&&e.shellSuspendCounter++,wn=Ls=null,Te=l,M.H=u,M.A=h,he===null&&(De=null,pe=0,nl()),p}function Fy(){for(;he!==null;)sp(he)}function ev(e,n){var a=Te;Te|=2;var l=tp(),u=np();De!==e||pe!==n?(Ml=null,Dl=bt()+500,za(e,n)):Ua=pi(e,n);e:do try{if(Ne!==0&&he!==null){n=he;var h=Rt;t:switch(Ne){case 1:Ne=0,Rt=null,Ha(e,n,h,1);break;case 2:case 9:if(ff(h)){Ne=0,Rt=null,ap(n);break}n=function(){Ne!==2&&Ne!==9||De!==e||(Ne=7),un(e)},h.then(n,n);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:ff(h)?(Ne=0,Rt=null,ap(n)):(Ne=0,Rt=null,Ha(e,n,h,7));break;case 5:var p=null;switch(he.tag){case 26:p=he.memoizedState;case 5:case 27:var y=he;if(p?$p(p):y.stateNode.complete){Ne=0,Rt=null;var _=y.sibling;if(_!==null)he=_;else{var k=y.return;k!==null?(he=k,Il(k)):he=null}break t}}Ne=0,Rt=null,Ha(e,n,h,5);break;case 6:Ne=0,Rt=null,Ha(e,n,h,6);break;case 8:ju(),Ge=6;break e;default:throw Error(r(462))}}tv();break}catch(U){Fm(e,U)}while(!0);return wn=Ls=null,M.H=l,M.A=u,Te=a,he!==null?0:(De=null,pe=0,nl(),Ge)}function tv(){for(;he!==null&&!zo();)sp(he)}function sp(e){var n=Nm(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?Il(e):he=n}function ap(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=wm(a,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=wm(a,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:qc(n);default:km(a,n),n=he=tf(n,On),n=Nm(a,n,On)}e.memoizedProps=e.pendingProps,n===null?Il(e):he=n}function Ha(e,n,a,l){wn=Ls=null,qc(n),Aa=null,Ri=0;var u=n.return;try{if($y(e,u,n,a,pe)){Ge=1,El(e,Bt(a,e.current)),he=null;return}}catch(h){if(u!==null)throw he=u,h;Ge=1,El(e,Bt(a,e.current)),he=null;return}n.flags&32768?(ye||l===1?e=!0:Ua||(pe&536870912)!==0?e=!1:(as=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),ip(n,e)):Il(n)}function Il(e){var n=e;do{if((n.flags&32768)!==0){ip(n,as);return}e=n.return;var a=Ky(n.alternate,n,On);if(a!==null){he=a;return}if(n=n.sibling,n!==null){he=n;return}he=n=e}while(n!==null);Ge===0&&(Ge=5)}function ip(e,n){do{var a=Qy(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);Ge=6,he=null}function rp(e,n,a,l,u,h,p,y,_){e.cancelPendingCommit=null;do zl();while(tt!==0);if((Te&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=pc,Mb(e,a,h,p,y,_),e===De&&(he=De=null,pe=0),Ia=n,ls=e,Rn=a,Su=h,Eu=u,Wm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iv(ra,function(){return dp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=G.p,G.p=2,p=Te,Te|=4;try{Yy(e,n,a)}finally{Te=p,G.p=u,M.T=l}}tt=1,lp(),op(),cp()}}function lp(){if(tt===1){tt=0;var e=ls,n=Ia,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var u=Te;Te|=4;try{Pm(n,e);var h=Hu,p=Kh(e.containerInfo),y=h.focusedElem,_=h.selectionRange;if(p!==y&&y&&y.ownerDocument&&Vh(y.ownerDocument.documentElement,y)){if(_!==null&&uc(y)){var k=_.start,U=_.end;if(U===void 0&&(U=k),"selectionStart"in y)y.selectionStart=k,y.selectionEnd=Math.min(U,y.value.length);else{var I=y.ownerDocument||document,O=I&&I.defaultView||window;if(O.getSelection){var R=O.getSelection(),Q=y.textContent.length,ne=Math.min(_.start,Q),Re=_.end===void 0?ne:Math.min(_.end,Q);!R.extend&&ne>Re&&(p=Re,Re=ne,ne=p);var N=Gh(y,ne),T=Gh(y,Re);if(N&&T&&(R.rangeCount!==1||R.anchorNode!==N.node||R.anchorOffset!==N.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var A=I.createRange();A.setStart(N.node,N.offset),R.removeAllRanges(),ne>Re?(R.addRange(A),R.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),R.addRange(A))}}}}for(I=[],R=y;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<I.length;y++){var L=I[y];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Jl=!!zu,Hu=zu=null}finally{Te=u,G.p=l,M.T=a}}e.current=n,tt=2}}function op(){if(tt===2){tt=0;var e=ls,n=Ia,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var u=Te;Te|=4;try{Lm(e,n.alternate,n)}finally{Te=u,G.p=l,M.T=a}}tt=3}}function cp(){if(tt===4||tt===3){tt=0,zr();var e=ls,n=Ia,a=Rn,l=Wm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,Ia=ls=null,up(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(rs=null),Vo(a),n=n.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ns,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=G.p,G.p=2,M.T=null;try{for(var h=e.onRecoverableError,p=0;p<l.length;p++){var y=l[p];h(y.value,{componentStack:y.stack})}}finally{M.T=n,G.p=u}}(Rn&3)!==0&&zl(),un(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Tu?Wi++:(Wi=0,Tu=e):Wi=0,Ji(0)}}function up(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ci(n)))}function zl(){return lp(),op(),cp(),dp()}function dp(){if(tt!==5)return!1;var e=ls,n=Su;Su=0;var a=Vo(Rn),l=M.T,u=G.p;try{G.p=32>a?32:a,M.T=null,a=Eu,Eu=null;var h=ls,p=Rn;if(tt=0,Ia=ls=null,Rn=0,(Te&6)!==0)throw Error(r(331));var y=Te;if(Te|=4,Km(h.current),$m(h,h.current,p,a),Te=y,Ji(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ns,h)}catch{}return!0}finally{G.p=u,M.T=l,up(e,n)}}function hp(e,n,a){n=Bt(a,n),n=su(e.stateNode,n,2),e=es(e,n,2),e!==null&&(gi(e,2),un(e))}function Ae(e,n,a){if(e.tag===3)hp(e,e,a);else for(;n!==null;){if(n.tag===3){hp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){e=Bt(a,e),a=fm(2),l=es(n,a,2),l!==null&&(mm(a,l,n,e),gi(l,2),un(l));break}}n=n.return}}function Au(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Xy;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(xu=!0,u.add(a),e=nv.bind(null,e,n,a),n.then(e,e))}function nv(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(pe&a)===a&&(Ge===4||Ge===3&&(pe&62914560)===pe&&300>bt()-Rl?(Te&2)===0&&za(e,0):wu|=a,La===pe&&(La=0)),un(e)}function fp(e,n){n===0&&(n=rh()),e=Ds(e,n),e!==null&&(gi(e,n),un(e))}function sv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),fp(e,a)}function av(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),fp(e,a)}function iv(e,n){return ia(e,n)}var Hl=null,Ba=null,ku=!1,Bl=!1,Cu=!1,cs=0;function un(e){e!==Ba&&e.next===null&&(Ba===null?Hl=Ba=e:Ba=Ba.next=e),Bl=!0,ku||(ku=!0,lv())}function Ji(e,n){if(!Cu&&Bl){Cu=!0;do for(var a=!1,l=Hl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var p=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-He(42|e)+1)-1,h&=u&~(p&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,bp(l,h))}else h=pe,h=Gr(l,l===De?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||pi(l,h)||(a=!0,bp(l,h));l=l.next}while(a);Cu=!1}}function rv(){mp()}function mp(){Bl=ku=!1;var e=0;cs!==0&&bv()&&(e=cs);for(var n=bt(),a=null,l=Hl;l!==null;){var u=l.next,h=pp(l,n);h===0?(l.next=null,a===null?Hl=u:a.next=u,u===null&&(Ba=a)):(a=l,(e!==0||(h&3)!==0)&&(Bl=!0)),l=u}tt!==0&&tt!==5||Ji(e),cs!==0&&(cs=0)}function pp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-He(h),y=1<<p,_=u[p];_===-1?((y&a)===0||(y&l)!==0)&&(u[p]=Db(y,n)):_<=n&&(e.expiredLanes|=y),h&=~y}if(n=De,a=pe,a=Gr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&mi(l),Vo(a)){case 2:case 8:a=Br;break;case 32:a=ra;break;case 268435456:a=Pr;break;default:a=ra}return l=gp.bind(null,e),a=ia(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&mi(l),e.callbackPriority=2,e.callbackNode=null,2}function gp(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zl()&&e.callbackNode!==a)return null;var l=pe;return l=Gr(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Xm(e,l,n),pp(e,bt()),e.callbackNode!=null&&e.callbackNode===a?gp.bind(null,e):null)}function bp(e,n){if(zl())return null;Xm(e,n,!0)}function lv(){vv(function(){(Te&6)!==0?ia(Hr,rv):mp()})}function Ou(){if(cs===0){var e=Ta;e===0&&(e=pn,pn<<=1,(pn&261888)===0&&(pn=256)),cs=e}return cs}function yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yr(""+e)}function vp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function ov(e,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var h=yp((u[wt]||null).action),p=l.submitter;p&&(n=(n=p[wt]||null)?yp(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var y=new Zr("action","action",null,l,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var _=p?vp(u,p):new FormData(u);Xc(a,{pending:!0,data:_,method:u.method,action:h},null,_)}}else typeof h=="function"&&(y.preventDefault(),_=p?vp(u,p):new FormData(u),Xc(a,{pending:!0,data:_,method:u.method,action:h},h,_))},currentTarget:u}]})}}for(var Ru=0;Ru<mc.length;Ru++){var Du=mc[Ru],cv=Du.toLowerCase(),uv=Du[0].toUpperCase()+Du.slice(1);Jt(cv,"on"+uv)}Jt(Wh,"onAnimationEnd"),Jt(Jh,"onAnimationIteration"),Jt(Xh,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(jy,"onTransitionRun"),Jt(Ny,"onTransitionStart"),Jt(Ay,"onTransitionCancel"),Jt(Zh,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xi));function xp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var p=l.length-1;0<=p;p--){var y=l[p],_=y.instance,k=y.currentTarget;if(y=y.listener,_!==h&&u.isPropagationStopped())break e;h=y,u.currentTarget=k;try{h(u)}catch(U){tl(U)}u.currentTarget=null,h=_}else for(p=0;p<l.length;p++){if(y=l[p],_=y.instance,k=y.currentTarget,y=y.listener,_!==h&&u.isPropagationStopped())break e;h=y,u.currentTarget=k;try{h(u)}catch(U){tl(U)}u.currentTarget=null,h=_}}}}function fe(e,n){var a=n[Ko];a===void 0&&(a=n[Ko]=new Set);var l=e+"__bubble";a.has(l)||(wp(n,e,2,!1),a.add(l))}function Mu(e,n,a){var l=0;n&&(l|=4),wp(a,e,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Pl]){e[Pl]=!0,fh.forEach(function(a){a!=="selectionchange"&&(dv.has(a)||Mu(a,!1,e),Mu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,Mu("selectionchange",!1,n))}}function wp(e,n,a,l){switch(Jp(n)){case 2:var u=Hv;break;case 8:u=Bv;break;default:u=Ju}a=u.bind(null,n,a,e),u=void 0,!tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Lu(e,n,a,l,u){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var y=l.stateNode.containerInfo;if(y===u)break;if(p===4)for(p=l.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;y!==null;){if(p=oa(y),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){l=h=p;continue e}y=y.parentNode}}l=l.return}Th(function(){var k=h,U=Fo(a),I=[];e:{var O=Fh.get(e);if(O!==void 0){var R=Zr,Q=e;switch(e){case"keypress":if(Jr(a)===0)break e;case"keydown":case"keyup":R=ay;break;case"focusin":Q="focus",R=ic;break;case"focusout":Q="blur",R=ic;break;case"beforeblur":case"afterblur":R=ic;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=ly;break;case Wh:case Jh:case Xh:R=Wb;break;case Zh:R=cy;break;case"scroll":case"scrollend":R=Gb;break;case"wheel":R=dy;break;case"copy":case"cut":case"paste":R=Xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Ch;break;case"toggle":case"beforetoggle":R=fy}var ne=(n&4)!==0,Re=!ne&&(e==="scroll"||e==="scrollend"),N=ne?O!==null?O+"Capture":null:O;ne=[];for(var T=k,A;T!==null;){var L=T;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||N===null||(L=vi(T,N),L!=null&&ne.push(Zi(T,L,A))),Re)break;T=T.return}0<ne.length&&(O=new R(O,Q,null,a,U),I.push({event:O,listeners:ne}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",O&&a!==Zo&&(Q=a.relatedTarget||a.fromElement)&&(oa(Q)||Q[la]))break e;if((R||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,R?(Q=a.relatedTarget||a.toElement,R=k,Q=Q?oa(Q):null,Q!==null&&(Re=d(Q),ne=Q.tag,Q!==Re||ne!==5&&ne!==27&&ne!==6)&&(Q=null)):(R=null,Q=k),R!==Q)){if(ne=Ah,L="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Ch,L="onPointerLeave",N="onPointerEnter",T="pointer"),Re=R==null?O:yi(R),A=Q==null?O:yi(Q),O=new ne(L,T+"leave",R,a,U),O.target=Re,O.relatedTarget=A,L=null,oa(U)===k&&(ne=new ne(N,T+"enter",Q,a,U),ne.target=A,ne.relatedTarget=Re,L=ne),Re=L,R&&Q)t:{for(ne=hv,N=R,T=Q,A=0,L=N;L;L=ne(L))A++;L=0;for(var ee=T;ee;ee=ne(ee))L++;for(;0<A-L;)N=ne(N),A--;for(;0<L-A;)T=ne(T),L--;for(;A--;){if(N===T||T!==null&&N===T.alternate){ne=N;break t}N=ne(N),T=ne(T)}ne=null}else ne=null;R!==null&&_p(I,O,R,ne,!1),Q!==null&&Re!==null&&_p(I,Re,Q,ne,!0)}}e:{if(O=k?yi(k):window,R=O.nodeName&&O.nodeName.toLowerCase(),R==="select"||R==="input"&&O.type==="file")var _e=zh;else if(Lh(O))if(Hh)_e=Sy;else{_e=wy;var X=xy}else R=O.nodeName,!R||R.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?k&&Xo(k.elementType)&&(_e=zh):_e=_y;if(_e&&(_e=_e(e,k))){Ih(I,_e,a,U);break e}X&&X(e,O,k),e==="focusout"&&k&&O.type==="number"&&k.memoizedProps.value!=null&&Jo(O,"number",O.value)}switch(X=k?yi(k):window,e){case"focusin":(Lh(X)||X.contentEditable==="true")&&(ba=X,dc=k,Ni=null);break;case"focusout":Ni=dc=ba=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Qh(I,a,U);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":Qh(I,a,U)}var ue;if(lc)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ga?Mh(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Oh&&a.locale!=="ko"&&(ga||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ga&&(ue=jh()):(Qn=U,nc="value"in Qn?Qn.value:Qn.textContent,ga=!0)),X=ql(k,ge),0<X.length&&(ge=new kh(ge,e,null,a,U),I.push({event:ge,listeners:X}),ue?ge.data=ue:(ue=Uh(a),ue!==null&&(ge.data=ue)))),(ue=py?gy(e,a):by(e,a))&&(ge=ql(k,"onBeforeInput"),0<ge.length&&(X=new kh("onBeforeInput","beforeinput",null,a,U),I.push({event:X,listeners:ge}),X.data=ue)),ov(I,e,k,a,U)}xp(I,n)})}function Zi(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ql(e,n){for(var a=n+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=vi(e,a),u!=null&&l.unshift(Zi(e,u,h)),u=vi(e,n),u!=null&&l.push(Zi(e,u,h))),e.tag===3)return l;e=e.return}return[]}function hv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _p(e,n,a,l,u){for(var h=n._reactName,p=[];a!==null&&a!==l;){var y=a,_=y.alternate,k=y.stateNode;if(y=y.tag,_!==null&&_===l)break;y!==5&&y!==26&&y!==27||k===null||(_=k,u?(k=vi(a,h),k!=null&&p.unshift(Zi(a,k,_))):u||(k=vi(a,h),k!=null&&p.push(Zi(a,k,_)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var fv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(mv,"")}function Ep(e,n){return n=Sp(n),Sp(e)===n}function Oe(e,n,a,l,u,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fa(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fa(e,""+l);break;case"className":Kr(e,"class",l);break;case"tabIndex":Kr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(e,a,l);break;case"style":Sh(e,l,h);break;case"data":if(n!=="object"){Kr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Oe(e,n,"name",u.name,u,null),Oe(e,n,"formEncType",u.formEncType,u,null),Oe(e,n,"formMethod",u.formMethod,u,null),Oe(e,n,"formTarget",u.formTarget,u,null)):(Oe(e,n,"encType",u.encType,u,null),Oe(e,n,"method",u.method,u,null),Oe(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=bn);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Vr(e,"popover",l);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qb.get(a)||a,Vr(e,a,l))}}function Iu(e,n,a,l,u,h){switch(a){case"style":Sh(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?fa(e,l):(typeof l=="number"||typeof l=="bigint")&&fa(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),h=e[wt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Vr(e,a,l)}}}function ht(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var p=a[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(e,n,h,p,a,null)}}u&&Oe(e,n,"srcSet",a.srcSet,a,null),l&&Oe(e,n,"src",a.src,a,null);return;case"input":fe("invalid",e);var y=h=p=u=null,_=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":u=U;break;case"type":p=U;break;case"checked":_=U;break;case"defaultChecked":k=U;break;case"value":h=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:Oe(e,n,l,U,a,null)}}vh(e,h,y,_,k,p,u,!1);return;case"select":fe("invalid",e),l=p=h=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":h=y;break;case"defaultValue":p=y;break;case"multiple":l=y;default:Oe(e,n,u,y,a,null)}n=h,a=p,e.multiple=!!l,n!=null?ha(e,!!l,n,!1):a!=null&&ha(e,!!l,a,!0);return;case"textarea":fe("invalid",e),h=u=l=null;for(p in a)if(a.hasOwnProperty(p)&&(y=a[p],y!=null))switch(p){case"value":l=y;break;case"defaultValue":u=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Oe(e,n,p,y,a,null)}wh(e,l,u,h);return;case"option":for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null)&&(_==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Oe(e,n,_,l,a,null));return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<Xi.length;l++)fe(Xi[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(e,n,k,l,a,null)}return;default:if(Xo(n)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&Iu(e,n,U,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Oe(e,n,y,l,a,null))}function pv(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,p=null,y=null,_=null,k=null,U=null;for(R in a){var I=a[R];if(a.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":_=I;default:l.hasOwnProperty(R)||Oe(e,n,R,null,l,I)}}for(var O in l){var R=l[O];if(I=a[O],l.hasOwnProperty(O)&&(R!=null||I!=null))switch(O){case"type":h=R;break;case"name":u=R;break;case"checked":k=R;break;case"defaultChecked":U=R;break;case"value":p=R;break;case"defaultValue":y=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:R!==I&&Oe(e,n,O,R,l,I)}}Wo(e,p,y,_,k,U,h,u);return;case"select":R=p=y=O=null;for(h in a)if(_=a[h],a.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":R=_;default:l.hasOwnProperty(h)||Oe(e,n,h,null,l,_)}for(u in l)if(h=l[u],_=a[u],l.hasOwnProperty(u)&&(h!=null||_!=null))switch(u){case"value":O=h;break;case"defaultValue":y=h;break;case"multiple":p=h;default:h!==_&&Oe(e,n,u,h,l,_)}n=y,a=p,l=R,O!=null?ha(e,!!a,O,!1):!!l!=!!a&&(n!=null?ha(e,!!a,n,!0):ha(e,!!a,a?[]:"",!1));return;case"textarea":R=O=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Oe(e,n,y,null,l,u)}for(p in l)if(u=l[p],h=a[p],l.hasOwnProperty(p)&&(u!=null||h!=null))switch(p){case"value":O=u;break;case"defaultValue":R=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&Oe(e,n,p,u,l,h)}xh(e,O,R);return;case"option":for(var Q in a)O=a[Q],a.hasOwnProperty(Q)&&O!=null&&!l.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Oe(e,n,Q,null,l,O));for(_ in l)O=l[_],R=a[_],l.hasOwnProperty(_)&&O!==R&&(O!=null||R!=null)&&(_==="selected"?e.selected=O&&typeof O!="function"&&typeof O!="symbol":Oe(e,n,_,O,l,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)O=a[ne],a.hasOwnProperty(ne)&&O!=null&&!l.hasOwnProperty(ne)&&Oe(e,n,ne,null,l,O);for(k in l)if(O=l[k],R=a[k],l.hasOwnProperty(k)&&O!==R&&(O!=null||R!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Oe(e,n,k,O,l,R)}return;default:if(Xo(n)){for(var Re in a)O=a[Re],a.hasOwnProperty(Re)&&O!==void 0&&!l.hasOwnProperty(Re)&&Iu(e,n,Re,void 0,l,O);for(U in l)O=l[U],R=a[U],!l.hasOwnProperty(U)||O===R||O===void 0&&R===void 0||Iu(e,n,U,O,l,R);return}}for(var N in a)O=a[N],a.hasOwnProperty(N)&&O!=null&&!l.hasOwnProperty(N)&&Oe(e,n,N,null,l,O);for(I in l)O=l[I],R=a[I],!l.hasOwnProperty(I)||O===R||O==null&&R==null||Oe(e,n,I,O,l,R)}function Tp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],h=u.transferSize,p=u.initiatorType,y=u.duration;if(h&&y&&Tp(p)){for(p=0,y=u.responseEnd,l+=1;l<a.length;l++){var _=a[l],k=_.startTime;if(k>y)break;var U=_.transferSize,I=_.initiatorType;U&&Tp(I)&&(_=_.responseEnd,p+=U*(_<y?1:(y-k)/(_-k)))}if(--l,n+=8*(h+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zu=null,Hu=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pu=null;function bv(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var Ap=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(xv)}:Ap;function xv(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function Cp(e,n){var a=n,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),Ga(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Fi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Fi(a);for(var h=a.firstChild;h;){var p=h.nextSibling,y=h.nodeName;h[bi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=p}}else a==="body"&&Fi(e.ownerDocument.body);a=u}while(a);Ga(n)}function Op(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function qu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qu(a),Qo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wv(e,n,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function _v(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Rp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function $u(e){return e.data==="$?"||e.data==="$~"}function Gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sv(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vu=null;function Dp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Mp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Up(e,n,a){switch(n=$l(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Fi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qo(e)}var Kt=new Map,Lp=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=G.d;G.d={f:Ev,r:Tv,D:jv,C:Nv,L:Av,m:kv,X:Ov,S:Cv,M:Rv};function Ev(){var e=Dn.f(),n=Ul();return e||n}function Tv(e){var n=ca(e);n!==null&&n.tag===5&&n.type==="form"?Ff(n):Dn.r(e)}var Pa=typeof document>"u"?null:document;function Ip(e,n,a){var l=Pa;if(l&&typeof n=="string"&&n){var u=zt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Lp.has(u)||(Lp.add(u),e={rel:e,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ht(n,"link",e),it(n),l.head.appendChild(n)))}}function jv(e){Dn.D(e),Ip("dns-prefetch",e,null)}function Nv(e,n){Dn.C(e,n),Ip("preconnect",e,n)}function Av(e,n,a){Dn.L(e,n,a);var l=Pa;if(l&&e&&n){var u='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+zt(a.imageSizes)+'"]')):u+='[href="'+zt(e)+'"]';var h=u;switch(n){case"style":h=qa(e);break;case"script":h=$a(e)}Kt.has(h)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Kt.set(h,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(er(h))||n==="script"&&l.querySelector(tr(h))||(n=l.createElement("link"),ht(n,"link",e),it(n),l.head.appendChild(n)))}}function kv(e,n){Dn.m(e,n);var a=Pa;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=$a(e)}if(!Kt.has(h)&&(e=w({rel:"modulepreload",href:e},n),Kt.set(h,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(tr(h)))return}l=a.createElement("link"),ht(l,"link",e),it(l),a.head.appendChild(l)}}}function Cv(e,n,a){Dn.S(e,n,a);var l=Pa;if(l&&e){var u=ua(l).hoistableStyles,h=qa(e);n=n||"default";var p=u.get(h);if(!p){var y={loading:0,preload:null};if(p=l.querySelector(er(h)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Kt.get(h))&&Ku(e,a);var _=p=l.createElement("link");it(_),ht(_,"link",e),_._p=new Promise(function(k,U){_.onload=k,_.onerror=U}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Vl(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:y},u.set(h,p)}}}function Ov(e,n){Dn.X(e,n);var a=Pa;if(a&&e){var l=ua(a).hoistableScripts,u=$a(e),h=l.get(u);h||(h=a.querySelector(tr(u)),h||(e=w({src:e,async:!0},n),(n=Kt.get(u))&&Qu(e,n),h=a.createElement("script"),it(h),ht(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function Rv(e,n){Dn.M(e,n);var a=Pa;if(a&&e){var l=ua(a).hoistableScripts,u=$a(e),h=l.get(u);h||(h=a.querySelector(tr(u)),h||(e=w({src:e,async:!0,type:"module"},n),(n=Kt.get(u))&&Qu(e,n),h=a.createElement("script"),it(h),ht(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function zp(e,n,a,l){var u=(u=W.current)?Gl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=ua(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var h=ua(u).hoistableStyles,p=h.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=u.querySelector(er(e)))&&!h._p&&(p.instance=h,p.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),h||Dv(u,e,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=ua(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qa(e){return'href="'+zt(e)+'"'}function er(e){return'link[rel="stylesheet"]['+e+"]"}function Hp(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Dv(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ht(n,"link",a),it(n),e.head.appendChild(n))}function $a(e){return'[src="'+zt(e)+'"]'}function tr(e){return"script[async]"+e}function Bp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+zt(a.href)+'"]');if(l)return n.instance=l,it(l),l;var u=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ht(l,"style",u),Vl(l,a.precedence,e),n.instance=l;case"stylesheet":u=qa(a.href);var h=e.querySelector(er(u));if(h)return n.state.loading|=4,n.instance=h,it(h),h;l=Hp(a),(u=Kt.get(u))&&Ku(l,u),h=(e.ownerDocument||e).createElement("link"),it(h);var p=h;return p._p=new Promise(function(y,_){p.onload=y,p.onerror=_}),ht(h,"link",l),n.state.loading|=4,Vl(h,a.precedence,e),n.instance=h;case"script":return h=$a(a.src),(u=e.querySelector(tr(h)))?(n.instance=u,it(u),u):(l=a,(u=Kt.get(h))&&(l=w({},a),Qu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),it(u),ht(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vl(l,a.precedence,e));return n.instance}function Vl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,p=0;p<l.length;p++){var y=l[p];if(y.dataset.precedence===n)h=y;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ku(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Kl=null;function Pp(e,n,a){if(Kl===null){var l=new Map,u=Kl=new Map;u.set(a,l)}else u=Kl,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[bi]||h[ot]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=e+p;var y=l.get(p);y?y.push(h):l.set(p,[h])}}return l}function qp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Mv(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Uv(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=qa(l.href),h=n.querySelector(er(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ql.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,it(h);return}h=n.ownerDocument||n,l=Hp(l),(u=Kt.get(u))&&Ku(l,u),h=h.createElement("link"),it(h);var p=h;p._p=new Promise(function(y,_){p.onload=y,p.onerror=_}),ht(h,"link",l),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ql.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Yu=0;function Lv(e,n){return e.stylesheets&&e.count===0&&Wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Wl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Yu===0&&(Yu=62500*gv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Yu?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yl=null;function Wl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yl=new Map,n.forEach(Iv,e),Yl=null,Ql.call(e))}function Iv(e,n){if(!(n.state.loading&4)){var a=Yl.get(e);if(a)var l=a.get(null);else{a=new Map,Yl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var p=u[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}u=n.instance,p=u.getAttribute("data-precedence"),h=a.get(p)||l,h===l&&a.set(null,u),a.set(p,u),this.count++,l=Ql.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var nr={$$typeof:B,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function zv(e,n,a,l,u,h,p,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Gp(e,n,a,l,u,h,p,y,_,k,U,I){return e=new zv(e,n,a,p,_,k,U,I,y),n=1,h===!0&&(n|=24),h=kt(3,null,null,n),e.current=h,h.stateNode=e,n=Nc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Oc(h),e}function Vp(e){return e?(e=xa,e):xa}function Kp(e,n,a,l,u,h){u=Vp(u),l.context===null?l.context=u:l.pendingContext=u,l=Fn(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=es(e,l,n),a!==null&&(Nt(a,e,n),Mi(a,e,n))}function Qp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Wu(e,n){Qp(e,n),(e=e.alternate)&&Qp(e,n)}function Yp(e){if(e.tag===13||e.tag===31){var n=Ds(e,67108864);n!==null&&Nt(n,e,67108864),Wu(e,67108864)}}function Wp(e){if(e.tag===13||e.tag===31){var n=Mt();n=Go(n);var a=Ds(e,n);a!==null&&Nt(a,e,n),Wu(e,n)}}var Jl=!0;function Hv(e,n,a,l){var u=M.T;M.T=null;var h=G.p;try{G.p=2,Ju(e,n,a,l)}finally{G.p=h,M.T=u}}function Bv(e,n,a,l){var u=M.T;M.T=null;var h=G.p;try{G.p=8,Ju(e,n,a,l)}finally{G.p=h,M.T=u}}function Ju(e,n,a,l){if(Jl){var u=Xu(l);if(u===null)Lu(e,n,l,Xl,a),Xp(e,l);else if(qv(u,e,n,a,l))l.stopPropagation();else if(Xp(e,l),n&4&&-1<Pv.indexOf(e)){for(;u!==null;){var h=ca(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=As(h.pendingLanes);if(p!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;p;){var _=1<<31-He(p);y.entanglements[1]|=_,p&=~_}un(h),(Te&6)===0&&(Dl=bt()+500,Ji(0))}}break;case 31:case 13:y=Ds(h,2),y!==null&&Nt(y,h,2),Ul(),Wu(h,2)}if(h=Xu(l),h===null&&Lu(e,n,l,Xl,a),h===u)break;u=h}u!==null&&l.stopPropagation()}else Lu(e,n,l,null,a)}}function Xu(e){return e=Fo(e),Zu(e)}var Xl=null;function Zu(e){if(Xl=null,e=oa(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xl=e,null}function Jp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case Hr:return 2;case Br:return 8;case ra:case Bo:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var Fu=!1,ds=null,hs=null,fs=null,sr=new Map,ar=new Map,ms=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(e,n){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":sr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(n.pointerId)}}function ir(e,n,a,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},n!==null&&(n=ca(n),n!==null&&Yp(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function qv(e,n,a,l,u){switch(n){case"focusin":return ds=ir(ds,e,n,a,l,u),!0;case"dragenter":return hs=ir(hs,e,n,a,l,u),!0;case"mouseover":return fs=ir(fs,e,n,a,l,u),!0;case"pointerover":var h=u.pointerId;return sr.set(h,ir(sr.get(h)||null,e,n,a,l,u)),!0;case"gotpointercapture":return h=u.pointerId,ar.set(h,ir(ar.get(h)||null,e,n,a,l,u)),!0}return!1}function Zp(e){var n=oa(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,dh(e.priority,function(){Wp(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,dh(e.priority,function(){Wp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return n=ca(a),n!==null&&Yp(n),e.blockedOn=a,!1;n.shift()}return!0}function Fp(e,n,a){Zl(e)&&a.delete(n)}function $v(){Fu=!1,ds!==null&&Zl(ds)&&(ds=null),hs!==null&&Zl(hs)&&(hs=null),fs!==null&&Zl(fs)&&(fs=null),sr.forEach(Fp),ar.forEach(Fp)}function Fl(e,n){e.blockedOn===n&&(e.blockedOn=null,Fu||(Fu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$v)))}var eo=null;function eg(e){eo!==e&&(eo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eo===e&&(eo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(Zu(l||a)===null)continue;break}var h=ca(a);h!==null&&(e.splice(n,3),n-=3,Xc(h,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Ga(e){function n(_){return Fl(_,e)}ds!==null&&Fl(ds,e),hs!==null&&Fl(hs,e),fs!==null&&Fl(fs,e),sr.forEach(n),ar.forEach(n);for(var a=0;a<ms.length;a++){var l=ms[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)Zp(a),a.blockedOn===null&&ms.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],h=a[l+1],p=u[wt]||null;if(typeof h=="function")p||eg(a);else if(p){var y=null;if(h&&h.hasAttribute("formAction")){if(u=h,p=h[wt]||null)y=p.formAction;else if(Zu(u)!==null)continue}else y=p.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),eg(a)}}}function tg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function ed(e){this._internalRoot=e}to.prototype.render=ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Mt();Kp(a,l,e,n,null,null)},to.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kp(e.current,2,null,e,null,null),Ul(),n[la]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var n=uh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ms.length&&n!==0&&n<ms[a].priority;a++);ms.splice(a,0,e),a===0&&Zp(e)}};var ng=t.version;if(ng!=="19.2.4")throw Error(r(527,ng,"19.2.4"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=b(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Gv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{Ns=no.inject(Gv),yt=no}catch{}}return lr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",u=cm,h=um,p=dm;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Gp(e,1,!1,null,null,a,l,null,u,h,p,tg),e[la]=n.current,Uu(e),new ed(n)},lr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,u="",h=cm,p=um,y=dm,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),n=Gp(e,1,!0,n,a??null,l,u,_,h,p,y,tg),n.context=Vp(null),a=n.current,l=Mt(),l=Go(l),u=Fn(l),u.callback=null,es(a,u,l),a=l,n.current.lanes=a,gi(n,a),un(n),e[la]=n.current,Uu(e),new to(n)},lr.version="19.2.4",lr}var hg;function ex(){if(hg)return sd.exports;hg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),sd.exports=Fv(),sd.exports}var tx=ex();const y0=(...i)=>i.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();const nx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,r)=>r?r.toUpperCase():s.toLowerCase());const fg=i=>{const t=sx(i);return t.charAt(0).toUpperCase()+t.slice(1)};var ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ix=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rx=V.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:d,iconNode:f,...m},g)=>V.createElement("svg",{ref:g,...ax,width:t,height:t,stroke:i,strokeWidth:r?Number(s)*24/Number(t):s,className:y0("lucide",o),...!d&&!ix(m)&&{"aria-hidden":"true"},...m},[...f.map(([b,v])=>V.createElement(b,v)),...Array.isArray(d)?d:[d]]));const xe=(i,t)=>{const s=V.forwardRef(({className:r,...o},d)=>V.createElement(rx,{ref:d,iconNode:t,className:y0(`lucide-${nx(fg(i))}`,`lucide-${i}`,r),...o}));return s.displayName=fg(i),s};const lx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wt=xe("arrow-left",lx);const ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cx=xe("arrow-right",ox);const ux=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dx=xe("arrow-up",ux);const hx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],fx=xe("bell-off",hx);const mx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],px=xe("bell-ring",mx);const gx=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bx=xe("bell",gx);const yx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sd=xe("calendar",yx);const vx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ao=xe("check",vx);const xx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gr=xe("circle-check-big",xx);const wx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],br=xe("circle-x",wx);const _x=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oi=xe("clock",_x);const Sx=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ed=xe("flame",Sx);const Ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Tx=xe("globe",Ex);const jx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],mg=xe("heart",jx);const Nx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v0=xe("lock",Nx);const Ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pg=xe("log-out",Ax);const kx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ld=xe("mail",kx);const Cx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],x0=xe("plus",Cx);const Ox=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rx=xe("shield",Ox);const Dx=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Mx=xe("shopping-bag",Dx);const Ux=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],an=xe("sparkles",Ux);const Lx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Td=xe("star",Lx);const Ix=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],zx=xe("sword",Ix);const Hx=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],Bx=xe("swords",Hx);const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qx=xe("target",Px);const $x=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],w0=xe("trash-2",$x);const Gx=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],gg=xe("tree-pine",Gx);const Vx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_0=xe("trending-up",Vx);const Kx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qx=xe("triangle-alert",Kx);const Yx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],od=xe("trophy",Yx);const Wx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jx=xe("user",Wx);const Xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],S0=xe("x",Xx);const Zx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fx=xe("zap",Zx);function ew({habits:i,toggleHabit:t,deleteHabit:s,t:r}){return i.length===0?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-8 text-center border-2 border-white/30",children:[c.jsx(oi,{className:"w-14 h-14 text-white/60 mx-auto mb-3"}),c.jsx("p",{className:"text-white/90 font-bold text-lg",children:r.noHabits})]}):c.jsx("div",{className:"space-y-3 mb-24",children:i.map(o=>c.jsxs("div",{className:`bg-white/20 backdrop-blur rounded-2xl p-4 flex items-center gap-4 border-2 border-white/30 ${o.completed?"opacity-75":""}`,children:[c.jsx("button",{onClick:()=>t(o.id),className:`w-14 h-14 rounded-full flex items-center justify-center shadow-xl ${o.completed?"bg-green-500 border-4 border-green-300":"bg-white/30 border-4 border-white/50"}`,children:o.completed&&c.jsx(Ao,{className:"w-8 h-8 text-white",strokeWidth:3})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-white font-bold text-lg ${o.completed?"line-through opacity-70":""}`,children:o.name}),c.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[c.jsx(oi,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:o.time}),o.completed&&c.jsx("span",{className:"text-yellow-300 font-black",children:"+2 "})]})]}),c.jsx("button",{onClick:()=>s(o.id),className:"w-11 h-11 rounded-full bg-white/20 flex items-center justify-center hover:bg-red-500/60 border-2 border-white/30",children:c.jsx(w0,{className:"w-5 h-5 text-white"})})]},o.id))})}function tw({showModal:i,setShowModal:t,newHabit:s,setNewHabit:r,newTime:o,setNewTime:d,addHabit:f,theme:m,t:g}){return i?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl border-4 border-purple-200",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-black text-gray-800 flex items-center gap-2",children:[c.jsx(an,{className:`w-6 h-6 ${m.textPrimary}`}),g.newHabit]}),c.jsx("button",{onClick:()=>t(!1),className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:c.jsx(S0,{className:"w-6 h-6 text-gray-600"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold text-gray-700 mb-2",children:g.whatHabit}),c.jsx("input",{type:"text",value:s,onChange:b=>r(b.target.value),placeholder:g.habitPlaceholder,className:"w-full px-4 py-4 rounded-xl bg-gray-100 border-3 border-transparent focus:border-purple-500 outline-none text-lg font-medium"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block font-bold text-gray-700 mb-2 flex items-center gap-2",children:[c.jsx(oi,{className:`w-5 h-5 ${m.textPrimary}`}),g.reminderTime]}),c.jsx("input",{type:"time",value:o,onChange:b=>d(b.target.value),className:`w-full px-4 py-4 rounded-xl bg-gray-100 border-3 border-transparent focus:border-${m.buttonBg.replace("bg-","")} outline-none text-lg font-medium`}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2 font-medium",children:[" ",g.eachHabit]})]}),c.jsxs("button",{onClick:f,disabled:!s.trim(),className:`w-full py-4 bg-gradient-to-r ${m.primary} text-white font-black text-xl rounded-xl disabled:opacity-50 shadow-xl flex items-center justify-center gap-2`,children:[c.jsx(an,{className:"w-6 h-6"}),g.create]})]})]})}):null}function jd({isEnemy:i,anim:t,isHit:s,isAttacking:r,equipment:o,size:d="normal"}){const f=d==="small"?.5:1,m=95*f,g=175*f;return c.jsx("div",{className:`transition-all duration-300 ${t} ${s?"brightness-125 scale-98":""} ${r?"scale-105":""}`,children:c.jsxs("svg",{width:m,height:g,viewBox:"0 0 95 175",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"skinLight",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#fce4d6"}),c.jsx("stop",{offset:"30%",stopColor:"#f5d5c8"}),c.jsx("stop",{offset:"70%",stopColor:"#eec4b3"}),c.jsx("stop",{offset:"100%",stopColor:"#e5b5a0"})]}),c.jsxs("linearGradient",{id:"skinMid",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#f5d5c8"}),c.jsx("stop",{offset:"100%",stopColor:"#daa590"})]}),c.jsxs("linearGradient",{id:"skinDark",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#daa590"}),c.jsx("stop",{offset:"100%",stopColor:"#c99580"})]}),c.jsxs("linearGradient",{id:"hairBrownLight",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6b4423"}),c.jsx("stop",{offset:"50%",stopColor:"#5a3a1f"}),c.jsx("stop",{offset:"100%",stopColor:"#4a2f18"})]}),c.jsxs("linearGradient",{id:"hairBrownDark",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#4a2f18"}),c.jsx("stop",{offset:"100%",stopColor:"#3a2410"})]}),c.jsxs("linearGradient",{id:"hairBlackBase",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#2a2a2a"}),c.jsx("stop",{offset:"50%",stopColor:"#1a1a1a"}),c.jsx("stop",{offset:"100%",stopColor:"#0f0f0f"})]}),c.jsxs("radialGradient",{id:"eyeWhiteReal",cx:"50%",cy:"40%",r:"50%",children:[c.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),c.jsx("stop",{offset:"70%",stopColor:"#f8f8f8"}),c.jsx("stop",{offset:"100%",stopColor:"#e8e8e8"})]}),c.jsxs("radialGradient",{id:"irisBlueReal",cx:"40%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#6ba3d6"}),c.jsx("stop",{offset:"30%",stopColor:"#4a8bc4"}),c.jsx("stop",{offset:"60%",stopColor:"#3a7ab5"}),c.jsx("stop",{offset:"100%",stopColor:"#2a5a8a"})]}),c.jsxs("radialGradient",{id:"irisRedReal",cx:"40%",cy:"35%",r:"60%",children:[c.jsx("stop",{offset:"0%",stopColor:"#c46a6a"}),c.jsx("stop",{offset:"30%",stopColor:"#a54545"}),c.jsx("stop",{offset:"60%",stopColor:"#8a3030"}),c.jsx("stop",{offset:"100%",stopColor:"#5a1a1a"})]}),c.jsxs("linearGradient",{id:"blueShirt",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#3b7dd8"}),c.jsx("stop",{offset:"50%",stopColor:"#2d6bc4"}),c.jsx("stop",{offset:"100%",stopColor:"#1f5aaa"})]}),c.jsxs("linearGradient",{id:"blackHoodie",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#3a3a3a"}),c.jsx("stop",{offset:"50%",stopColor:"#2a2a2a"}),c.jsx("stop",{offset:"100%",stopColor:"#1a1a1a"})]}),c.jsxs("linearGradient",{id:"armorMetal",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#a8b5c4"}),c.jsx("stop",{offset:"30%",stopColor:"#8a9aab"}),c.jsx("stop",{offset:"70%",stopColor:"#6a7a8b"}),c.jsx("stop",{offset:"100%",stopColor:"#5a6a7a"})]}),c.jsxs("linearGradient",{id:"jeansDark",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#2a3a50"}),c.jsx("stop",{offset:"100%",stopColor:"#1a2a3a"})]})]}),c.jsx("ellipse",{cx:"47.5",cy:"170",rx:"18",ry:"4",fill:"rgba(0,0,0,0.12)"}),c.jsx("path",{d:"M34 118 L36 155 L44 155 L46 128 L46 128 L48 155 L56 155 L58 118",fill:i?"#1a1a1a":"url(#jeansDark)"}),c.jsx("path",{d:"M38 126 Q39 138 38 150",stroke:i?"#252525":"#3a4a5a",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),c.jsx("path",{d:"M54 126 Q53 138 54 150",stroke:i?"#252525":"#3a4a5a",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),c.jsx("path",{d:"M40 132 Q41 135 40 138",stroke:i?"#252525":"#3a4a5a",strokeWidth:"0.5",fill:"none",opacity:"0.3"}),c.jsx("path",{d:"M52 132 Q51 135 52 138",stroke:i?"#252525":"#3a4a5a",strokeWidth:"0.5",fill:"none",opacity:"0.3"}),c.jsx("path",{d:"M34 153 L32 162 Q34 167 46 167 L46 162 L44 153 Z",fill:i?"#1a1a1a":o?.boots?.equipped?"#2d8a4e":"#3a3a3a"}),c.jsx("path",{d:"M48 153 L46 162 Q49 167 61 167 L63 162 L56 153 Z",fill:i?"#1a1a1a":o?.boots?.equipped?"#2d8a4e":"#3a3a3a"}),c.jsx("path",{d:"M34 157 L44 157",stroke:i?"#252525":o?.boots?.equipped?"#3a9a5e":"#4a4a4a",strokeWidth:"1"}),c.jsx("path",{d:"M48 157 L58 157",stroke:i?"#252525":o?.boots?.equipped?"#3a9a5e":"#4a4a4a",strokeWidth:"1"}),c.jsx("ellipse",{cx:"39",cy:"162",rx:"4",ry:"2",fill:i?"#252525":o?.boots?.equipped?"#3a9a5e":"#4a4a4a",opacity:"0.5"}),c.jsx("ellipse",{cx:"53",cy:"162",rx:"4",ry:"2",fill:i?"#252525":o?.boots?.equipped?"#3a9a5e":"#4a4a4a",opacity:"0.5"}),i?c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M26 62 Q18 68 16 80 L16 118 L79 118 L79 80 Q77 68 69 62 Z",fill:"url(#blackHoodie)"}),c.jsx("path",{d:"M26 62 Q22 74 20 88 L20 116 L30 116 L32 70 Z",fill:"#1f1f1f"}),c.jsx("path",{d:"M69 62 Q73 74 75 88 L75 116 L65 116 L63 70 Z",fill:"#1f1f1f"}),c.jsx("path",{d:"M32 93 L32 113 L63 113 L63 93 Q47.5 88 32 93",fill:"#2a2a2a",stroke:"#353535",strokeWidth:"0.5"}),c.jsx("path",{d:"M28 62 Q33 55 47.5 58 Q62 55 67 62",fill:"#2f2f2f"}),c.jsx("path",{d:"M26 64 Q31 58 47.5 60 Q64 58 69 64",stroke:"#3a3a3a",strokeWidth:"1",fill:"none"}),c.jsx("line",{x1:"44",y1:"62",x2:"42",y2:"75",stroke:"#555",strokeWidth:"1.5"}),c.jsx("line",{x1:"51",y1:"62",x2:"53",y2:"75",stroke:"#555",strokeWidth:"1.5"}),c.jsx("circle",{cx:"42",cy:"77",r:"2",fill:"#555"}),c.jsx("circle",{cx:"53",cy:"77",r:"2",fill:"#555"})]}):c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M26 62 Q18 68 16 80 L16 118 L79 118 L79 80 Q77 68 69 62 Z",fill:o?.armor?.equipped?"url(#armorMetal)":"url(#blueShirt)"}),c.jsx("path",{d:"M26 62 Q22 74 20 88 L20 116 L30 116 L32 70 Z",fill:o?.armor?.equipped?"#5a6a7a":"#1f5aaa"}),c.jsx("path",{d:"M69 62 Q73 74 75 88 L75 116 L65 116 L63 70 Z",fill:o?.armor?.equipped?"#5a6a7a":"#1f5aaa"}),o?.armor?.equipped?c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:"33",y:"70",width:"29",height:"42",rx:"2",fill:"#8a9aab"}),c.jsx("line",{x1:"47.5",y1:"70",x2:"47.5",y2:"112",stroke:"#a8b5c4",strokeWidth:"1.8"}),c.jsx("line",{x1:"33",y1:"84",x2:"62",y2:"84",stroke:"#a8b5c4",strokeWidth:"1"}),c.jsx("line",{x1:"33",y1:"98",x2:"62",y2:"98",stroke:"#a8b5c4",strokeWidth:"1"}),c.jsx("ellipse",{cx:"47.5",cy:"77",rx:"5",ry:"3",fill:"#b8c5d4",opacity:"0.6"}),c.jsx("circle",{cx:"36",cy:"73",r:"1.5",fill:"#c8d0d8"}),c.jsx("circle",{cx:"59",cy:"73",r:"1.5",fill:"#c8d0d8"}),c.jsx("circle",{cx:"36",cy:"109",r:"1.5",fill:"#c8d0d8"}),c.jsx("circle",{cx:"59",cy:"109",r:"1.5",fill:"#c8d0d8"})]}):c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M39 60 Q47.5 67 56 60",fill:"#e8e8e8"}),c.jsx("path",{d:"M39 60 Q47.5 65 56 60",stroke:"#d0d0d0",strokeWidth:"0.5",fill:"none"}),c.jsx("path",{d:"M33 75 Q36 90 33 110",stroke:"#2a5a90",strokeWidth:"0.7",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M62 75 Q59 90 62 110",stroke:"#2a5a90",strokeWidth:"0.7",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M44 80 Q45 88 44 95",stroke:"#2a5a90",strokeWidth:"0.5",fill:"none",opacity:"0.3"})]})]}),c.jsx("path",{d:"M16 68 Q10 75 8 88 L8 107 Q10 113 15 111 L18 108 Q16 95 18 82 L26 70 Z",fill:i?"url(#blackHoodie)":o?.armor?.equipped?"url(#armorMetal)":"url(#blueShirt)"}),c.jsx("path",{d:"M79 68 Q85 75 87 88 L87 107 Q85 113 80 111 L77 108 Q79 95 77 82 L69 70 Z",fill:i?"url(#blackHoodie)":o?.armor?.equipped?"url(#armorMetal)":"url(#blueShirt)"}),c.jsx("ellipse",{cx:"12",cy:"113",rx:"5",ry:"6",fill:"url(#skinLight)"}),c.jsx("ellipse",{cx:"83",cy:"113",rx:"5",ry:"6",fill:"url(#skinLight)"}),c.jsx("path",{d:"M9 111 Q6 107 8 103",stroke:"url(#skinLight)",strokeWidth:"3",strokeLinecap:"round"}),c.jsx("path",{d:"M86 111 Q89 107 87 103",stroke:"url(#skinLight)",strokeWidth:"3",strokeLinecap:"round"}),!i&&o?.weapon?.equipped&&c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:"85",y:"93",width:"4",height:"28",fill:"#8a8a8a",rx:"1"}),c.jsx("rect",{x:"83",y:"88",width:"8",height:"6",fill:"#c9a227",rx:"1"}),c.jsx("rect",{x:"84",y:"85",width:"6",height:"4",fill:"#a8850f"}),c.jsx("line",{x1:"87",y1:"96",x2:"87",y2:"118",stroke:"#a5a5a5",strokeWidth:"0.8",opacity:"0.5"})]}),c.jsx("path",{d:"M40 52 L40 64 L55 64 L55 52",fill:"url(#skinLight)"}),c.jsx("path",{d:"M42 54 Q44 57 42 61",stroke:"url(#skinDark)",strokeWidth:"0.7",fill:"none",opacity:"0.25"}),c.jsx("path",{d:"M53 54 Q51 57 53 61",stroke:"url(#skinDark)",strokeWidth:"0.7",fill:"none",opacity:"0.25"}),c.jsx("ellipse",{cx:"47.5",cy:"32",rx:"21",ry:"22",fill:"url(#skinLight)"}),c.jsx("path",{d:"M26.5 38 L26.5 44 Q28 49 32 51 Q47.5 52 63 51 Q67 49 68.5 44 L68.5 38",fill:"url(#skinLight)",stroke:"url(#skinMid)",strokeWidth:"0.3",opacity:"0.4"}),c.jsx("path",{d:"M27 34 Q29 40 31 46",stroke:"url(#skinDark)",strokeWidth:"1.5",fill:"none",opacity:"0.15"}),c.jsx("path",{d:"M68 34 Q66 40 64 46",stroke:"url(#skinDark)",strokeWidth:"1.5",fill:"none",opacity:"0.15"}),c.jsx("ellipse",{cx:"47.5",cy:"44",rx:"15",ry:"8",fill:"url(#skinMid)",opacity:"0.1"}),c.jsx("ellipse",{cx:"25",cy:"34",rx:"4",ry:"7.5",fill:"url(#skinLight)"}),c.jsx("ellipse",{cx:"70",cy:"34",rx:"4",ry:"7.5",fill:"url(#skinLight)"}),c.jsx("path",{d:"M24 30 Q26 34 24 38",stroke:"url(#skinDark)",strokeWidth:"1",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M71 30 Q69 34 71 38",stroke:"url(#skinDark)",strokeWidth:"1",fill:"none",opacity:"0.4"}),c.jsx("ellipse",{cx:"25",cy:"34",rx:"2",ry:"4",fill:"url(#skinMid)",opacity:"0.3"}),c.jsx("ellipse",{cx:"70",cy:"34",rx:"2",ry:"4",fill:"url(#skinMid)",opacity:"0.3"}),i?c.jsxs(c.Fragment,{children:[c.jsx("ellipse",{cx:"47.5",cy:"18",rx:"22",ry:"13",fill:"url(#hairBlackBase)"}),c.jsx("path",{d:"M25.5 30 Q28 19 37 16 Q47.5 13 58 16 Q67 19 69.5 30 L66 28 Q60 18 47.5 16 Q35 18 29 28 Z",fill:"#1f1f1f"}),c.jsx("path",{d:"M30 32 Q35 29 41 32 Q47.5 29 54 32 Q60 29 65 32 L63 34 Q57 31 47.5 31 Q38 31 32 34 Z",fill:"url(#hairBlackBase)"}),c.jsx("ellipse",{cx:"40",cy:"16",rx:"5",ry:"2",fill:"white",opacity:"0.05"}),c.jsx("ellipse",{cx:"55",cy:"15",rx:"4",ry:"1.8",fill:"white",opacity:"0.04"})]}):c.jsxs(c.Fragment,{children:[c.jsx("ellipse",{cx:"47.5",cy:"18",rx:"22",ry:"13",fill:"url(#hairBrownLight)"}),c.jsx("path",{d:"M25.5 30 Q28 19 37 16 Q47.5 13 58 16 Q67 19 69.5 30 L66 28 Q59 18 47.5 16 Q36 18 29 28 Z",fill:"url(#hairBrownDark)"}),c.jsx("path",{d:`M30 32 Q35 28 41 31 Q47.5 28 54 31 Q60 28 65 32
                     L63 34 Q58 30 47.5 30 Q37 30 32 34 Z`,fill:"url(#hairBrownLight)"}),c.jsx("path",{d:"M26 30 Q25 33 26 36 L27 35 Q26.5 32 27 30 Z",fill:"url(#hairBrownDark)"}),c.jsx("path",{d:"M69 30 Q70 33 69 36 L68 35 Q68.5 32 68 30 Z",fill:"url(#hairBrownDark)"}),c.jsx("ellipse",{cx:"40",cy:"17",rx:"6",ry:"2.5",fill:"white",opacity:"0.15"}),c.jsx("ellipse",{cx:"55",cy:"16",rx:"5",ry:"2",fill:"white",opacity:"0.12"}),o?.helmet?.equipped&&c.jsxs(c.Fragment,{children:[c.jsx("ellipse",{cx:"47.5",cy:"15",rx:"20",ry:"12",fill:"#c9a227"}),c.jsx("ellipse",{cx:"47.5",cy:"13",rx:"17",ry:"10",fill:"#dab32f"}),c.jsx("ellipse",{cx:"47.5",cy:"10",rx:"13",ry:"7",fill:"#e8c547"}),c.jsx("ellipse",{cx:"47.5",cy:"6",rx:"4.5",ry:"4.5",fill:"#b83030"}),c.jsx("ellipse",{cx:"45.5",cy:"4",rx:"1.5",ry:"1.5",fill:"white",opacity:"0.3"})]})]}),i?c.jsxs(c.Fragment,{children:[c.jsx("ellipse",{cx:"37",cy:"36",rx:"6.5",ry:"6",fill:"url(#eyeWhiteReal)"}),c.jsx("ellipse",{cx:"58",cy:"36",rx:"6.5",ry:"6",fill:"url(#eyeWhiteReal)"}),c.jsx("ellipse",{cx:"37",cy:"37",rx:"4.2",ry:"4.8",fill:"url(#irisRedReal)"}),c.jsx("ellipse",{cx:"58",cy:"37",rx:"4.2",ry:"4.8",fill:"url(#irisRedReal)"}),c.jsx("ellipse",{cx:"37",cy:"37.5",rx:"2",ry:"2.4",fill:"#1a0a0a"}),c.jsx("ellipse",{cx:"58",cy:"37.5",rx:"2",ry:"2.4",fill:"#1a0a0a"}),c.jsx("circle",{cx:"35",cy:"35",r:"1.4",fill:"white",opacity:"0.9"}),c.jsx("circle",{cx:"56",cy:"35",r:"1.4",fill:"white",opacity:"0.9"}),c.jsx("circle",{cx:"38",cy:"38.5",r:"0.7",fill:"white",opacity:"0.5"}),c.jsx("circle",{cx:"59",cy:"38.5",r:"0.7",fill:"white",opacity:"0.5"}),c.jsx("path",{d:"M30.5 35 Q37 30 43.5 35",stroke:"#1a1a1a",strokeWidth:"2",fill:"none"}),c.jsx("path",{d:"M51.5 35 Q58 30 64.5 35",stroke:"#1a1a1a",strokeWidth:"2",fill:"none"}),c.jsx("path",{d:"M31 38 Q37 39.5 43 38",stroke:"#d4a5a5",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),c.jsx("path",{d:"M52 38 Q58 39.5 64 38",stroke:"#d4a5a5",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),c.jsx("path",{d:"M29 29 L43 32",stroke:"#1a1a1a",strokeWidth:"2.2",strokeLinecap:"round"}),c.jsx("path",{d:"M66 29 L52 32",stroke:"#1a1a1a",strokeWidth:"2.2",strokeLinecap:"round"})]}):c.jsxs(c.Fragment,{children:[c.jsx("ellipse",{cx:"37",cy:"36",rx:"6.5",ry:"6.5",fill:"url(#eyeWhiteReal)"}),c.jsx("ellipse",{cx:"58",cy:"36",rx:"6.5",ry:"6.5",fill:"url(#eyeWhiteReal)"}),c.jsx("path",{d:"M30.5 35 Q37 30 43.5 35",stroke:"#3a2a20",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M51.5 35 Q58 30 64.5 35",stroke:"#3a2a20",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M31 34 L29 31",stroke:"#3a2a20",strokeWidth:"1",strokeLinecap:"round"}),c.jsx("path",{d:"M64 34 L66 31",stroke:"#3a2a20",strokeWidth:"1",strokeLinecap:"round"}),c.jsx("ellipse",{cx:"37",cy:"37",rx:"4.2",ry:"4.8",fill:"url(#irisBlueReal)"}),c.jsx("ellipse",{cx:"58",cy:"37",rx:"4.2",ry:"4.8",fill:"url(#irisBlueReal)"}),c.jsx("ellipse",{cx:"37",cy:"37",rx:"4.2",ry:"4.8",fill:"none",stroke:"#2a4a6a",strokeWidth:"0.5",opacity:"0.5"}),c.jsx("ellipse",{cx:"58",cy:"37",rx:"4.2",ry:"4.8",fill:"none",stroke:"#2a4a6a",strokeWidth:"0.5",opacity:"0.5"}),c.jsx("ellipse",{cx:"37",cy:"37.5",rx:"2",ry:"2.4",fill:"#0a1520"}),c.jsx("ellipse",{cx:"58",cy:"37.5",rx:"2",ry:"2.4",fill:"#0a1520"}),c.jsx("circle",{cx:"35",cy:"35.5",r:"1.4",fill:"white",opacity:"0.85"}),c.jsx("circle",{cx:"56",cy:"35.5",r:"1.4",fill:"white",opacity:"0.85"}),c.jsx("circle",{cx:"38",cy:"38.5",r:"0.7",fill:"white",opacity:"0.4"}),c.jsx("circle",{cx:"59",cy:"38.5",r:"0.7",fill:"white",opacity:"0.4"}),c.jsx("path",{d:"M31.5 39 Q37 40.5 42.5 39",stroke:"#e8c8c8",strokeWidth:"0.4",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M52.5 39 Q58 40.5 63.5 39",stroke:"#e8c8c8",strokeWidth:"0.4",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M30 30 Q37 27 43 30",stroke:"#4a3525",strokeWidth:"1.7",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M52 30 Q58 27 65 30",stroke:"#4a3525",strokeWidth:"1.7",fill:"none",strokeLinecap:"round"})]}),c.jsx("ellipse",{cx:"29",cy:"42",rx:"3.5",ry:"2",fill:"#e8a0a0",opacity:"0.12"}),c.jsx("ellipse",{cx:"66",cy:"42",rx:"3.5",ry:"2",fill:"#e8a0a0",opacity:"0.12"}),c.jsx("path",{d:"M47.5 39 L45.5 45 Q47.5 47 49.5 45 Z",fill:"url(#skinMid)",opacity:"0.45"}),c.jsx("path",{d:"M45.5 45 Q47.5 46.5 49.5 45",stroke:"url(#skinDark)",strokeWidth:"1",fill:"none",opacity:"0.55"}),c.jsx("path",{d:"M46.5 39 L46.5 43",stroke:"url(#skinDark)",strokeWidth:"0.6",fill:"none",opacity:"0.18"}),c.jsx("path",{d:"M48.5 39 L48.5 43",stroke:"url(#skinDark)",strokeWidth:"0.6",fill:"none",opacity:"0.18"}),c.jsx("ellipse",{cx:"45",cy:"45",rx:"1.2",ry:"0.7",fill:"url(#skinDark)",opacity:"0.25"}),c.jsx("ellipse",{cx:"50",cy:"45",rx:"1.2",ry:"0.7",fill:"url(#skinDark)",opacity:"0.25"}),i?c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M39 51 Q47.5 50 56 51",stroke:"#8a5050",strokeWidth:"1.7",fill:"none"}),c.jsx("path",{d:"M41 51 L41 50",stroke:"#8a5050",strokeWidth:"0.5",opacity:"0.5"}),c.jsx("path",{d:"M54 51 L54 50",stroke:"#8a5050",strokeWidth:"0.5",opacity:"0.5"})]}):c.jsxs(c.Fragment,{children:[c.jsx("path",{d:"M39 50 Q47.5 53 56 50",stroke:"#c47a7a",strokeWidth:"1.6",fill:"none",strokeLinecap:"round"}),c.jsx("path",{d:"M41 51 Q47.5 52.5 54 51",fill:"#d4a0a0",opacity:"0.35"}),c.jsx("path",{d:"M42 49 Q47.5 48 53 49",stroke:"#c47a7a",strokeWidth:"0.5",fill:"none",opacity:"0.6"}),c.jsx("ellipse",{cx:"47.5",cy:"50.5",rx:"2",ry:"0.8",fill:"white",opacity:"0.12"})]}),!i&&o?.accessory?.equipped&&c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"70",cy:"34",r:"4",fill:"#7c3aed"}),c.jsx("circle",{cx:"68.5",cy:"32.5",r:"1.2",fill:"white",opacity:"0.4"})]})]})})}function nw({playerHP:i,enemyHP:t,playerAnim:s,enemyAnim:r,playerHit:o,enemyHit:d,playerAttacking:f,enemyAttacking:m,battleMsg:g,fighting:b,showDamage:v,comboCount:w,equipment:x,playerLevel:S,attack:E,resetFight:D,onNextFight:z}){return c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-center text-2xl font-black text-white mt-10",children:" BATALLA!! "}),c.jsxs("div",{className:"flex justify-between mt-3 px-1",children:[c.jsxs("div",{className:"bg-blue-700/80 rounded-xl p-2 border-2 border-blue-400",children:[c.jsxs("p",{className:"font-bold text-white text-sm",children:[" T Nv.",S]}),c.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[c.jsx(mg,{className:"w-4 h-4 text-red-400",fill:"currentColor"}),c.jsx("span",{className:"text-white text-sm font-bold",children:i})]}),c.jsx("div",{className:"w-20 h-3 bg-gray-900 rounded-full overflow-hidden mt-1",children:c.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${i}%`}})})]}),c.jsxs("div",{className:"bg-red-700/80 rounded-xl p-2 border-2 border-red-400 text-right",children:[c.jsx("p",{className:"font-bold text-white text-sm",children:" Malo Nv.3"}),c.jsxs("div",{className:"flex items-center gap-1 mt-1 justify-end",children:[c.jsx("span",{className:"text-white text-sm font-bold",children:t}),c.jsx(mg,{className:"w-4 h-4 text-red-400",fill:"currentColor"})]}),c.jsx("div",{className:"w-20 h-3 bg-gray-900 rounded-full overflow-hidden mt-1 ml-auto",children:c.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:`${t}%`}})})]})]}),w>0&&c.jsx("div",{className:"text-center mt-2",children:c.jsxs("span",{className:"bg-yellow-400 text-yellow-900 px-4 py-1 rounded-full font-black text-sm animate-pulse",children:[" COMBO x",w," "]})}),c.jsxs("div",{className:"relative h-52 mt-1",children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-green-700 via-green-600 to-green-500 rounded-t-3xl"}),c.jsx(gg,{className:"absolute text-green-800 w-12 h-12",style:{left:"-2%",bottom:"60px"}}),c.jsx(gg,{className:"absolute text-green-700 w-10 h-10",style:{right:"2%",bottom:"65px"}}),v.show&&c.jsx("div",{className:`absolute top-0 ${v.isEnemy?"right-8":"left-8"} z-50`,children:c.jsxs("span",{className:"text-4xl font-black text-red-500 animate-bounce",style:{textShadow:"2px 2px 0 white"},children:["-",v.amount]})}),c.jsx("div",{className:"absolute bottom-6 left-2",children:c.jsx(jd,{isEnemy:!1,anim:s,isHit:o,isAttacking:f,equipment:x})}),c.jsx("div",{className:"absolute bottom-6 right-2",children:c.jsx(jd,{isEnemy:!0,anim:r,isHit:d,isAttacking:m})})]}),c.jsx("div",{className:"bg-purple-700/80 rounded-xl p-3 text-center border-2 border-purple-400",children:c.jsx("p",{className:"text-white font-black text-lg",children:g})}),i>0&&t>0&&c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[c.jsxs("button",{onClick:()=>E("bsico"),disabled:b,className:"py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-black text-lg rounded-xl disabled:opacity-50 shadow-xl flex flex-col items-center justify-center gap-1",children:[c.jsx(zx,{className:"w-6 h-6"}),c.jsx("span",{children:"Bsico"}),c.jsx("span",{className:"text-xs font-normal opacity-80",children:"Nv.0"})]}),c.jsxs("button",{onClick:()=>E("rpido"),disabled:b||S<2,className:"py-4 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-black text-lg rounded-xl disabled:opacity-50 shadow-xl flex flex-col items-center justify-center gap-1 relative",children:[c.jsx(Fx,{className:"w-6 h-6"}),c.jsx("span",{children:"Rpido"}),c.jsx("span",{className:"text-xs font-normal opacity-80",children:"Nv.2"}),S<2&&c.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-xl flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:" Nv.2"})})]}),c.jsxs("button",{onClick:()=>E("fuerte"),disabled:b||S<3,className:"py-4 bg-gradient-to-r from-orange-500 to-red-500 text-white font-black text-lg rounded-xl disabled:opacity-50 shadow-xl flex flex-col items-center justify-center gap-1 relative",children:[c.jsx(Ed,{className:"w-6 h-6"}),c.jsx("span",{children:"Fuerte"}),c.jsx("span",{className:"text-xs font-normal opacity-80",children:"Nv.3"}),S<3&&c.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-xl flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:" Nv.3"})})]}),c.jsxs("button",{onClick:()=>E("crtico"),disabled:b||S<4,className:"py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-black text-lg rounded-xl disabled:opacity-50 shadow-xl flex flex-col items-center justify-center gap-1 relative",children:[c.jsx(an,{className:"w-6 h-6"}),c.jsx("span",{children:"Crtico"}),c.jsx("span",{className:"text-xs font-normal opacity-80",children:"Nv.4"}),S<4&&c.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-xl flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:" Nv.4"})})]})]}),(i<=0||t<=0)&&c.jsxs("div",{className:"mt-3 flex flex-col gap-3",children:[t<=0&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:z,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-black text-lg rounded-xl shadow-xl border-2 border-emerald-300 hover:scale-[1.02] transition active:scale-95",children:" Siguiente pelea"}),c.jsx("button",{onClick:D,className:"w-full py-3 bg-gradient-to-r from-purple-500 to-purple-700 text-white font-black rounded-xl shadow-xl border-2 border-purple-400 hover:scale-[1.02] transition active:scale-95",children:" Volver a pelear"})]}),i<=0&&c.jsx("button",{onClick:D,className:"w-full py-4 bg-gradient-to-r from-red-500 to-rose-600 text-white font-black text-lg rounded-xl shadow-xl border-2 border-red-400 hover:scale-[1.02] transition active:scale-95",children:" Volver a pelear"})]})]})}function sw({showFight:i,setShowFight:t,setShowWorld:s,points:r,startFight:o,playerHP:d,enemyHP:f,playerAnim:m,enemyAnim:g,playerHit:b,enemyHit:v,playerAttacking:w,enemyAttacking:x,battleMsg:S,fighting:E,showDamage:D,comboCount:z,equipment:H,playerLevel:P,attack:B,resetFight:K}){const te=V.useRef(null),Z=V.useRef(null),[Y,ve]=V.useState(!1),Pe=(()=>{const C=[];let q=0;for(let $=1;$<=100;$++)q+=$+1,C.push({num:$,pts:q});return C})();V.useEffect(()=>{Z.current&&te.current&&!i&&setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"center"})},300)},[i]);const Ke=5,je=90,lt=52,st=16,qe=C=>C<=25?"prairie":C<=50?"forest":C<=75?"mountain":"snow",M=(C,q)=>{if(!q)return{bg:"#6b7280",border:"#4b5563",text:"#9ca3af"};switch(C){case"prairie":return{bg:"#65a30d",border:"#84cc16",text:"#ecfccb"};case"forest":return{bg:"#047857",border:"#10b981",text:"#d1fae5"};case"mountain":return{bg:"#57534e",border:"#a8a29e",text:"#e7e5e4"};case"snow":return{bg:"#0891b2",border:"#22d3ee",text:"#ecfeff"};default:return{bg:"#6b7280",border:"#4b5563",text:"#9ca3af"}}},G=C=>C<=25?["","","","",""][C%5]:C<=50?["","","","",""][C%5]:C<=75?["","","","",""][C%5]:["","","","",""][C%5],J=Math.ceil(100/Ke),me=J*je+160,be=C=>{const q=Math.floor(C/Ke),$=C%Ke,W=q%2===0?$:Ke-1-$,de=J-1-q,Ue=W/(Ke-1)*100,we=st+Ue/100*(100-st*2),at=de*je+120;return{x:we,y:at,row:q,col:W}},j=()=>{const q=P+1+1;if(q>100){K();return}const $=Pe[q-1];r>=$.pts?K():ve(!0)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-600 via-purple-500 to-indigo-700 relative",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-b from-indigo-900/95 to-indigo-900/0 pb-8 pt-3 px-4",children:c.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[c.jsx("button",{onClick:()=>{s(!1),t(!1)},className:"bg-white/20 backdrop-blur rounded-full p-2 hover:scale-110 transition border border-white/30",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-xl font-black text-white drop-shadow-lg",children:"Mi Mundo"}),c.jsxs("p",{className:"text-white/80 text-xs font-bold",children:["Nivel ",P," / 100"]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-yellow-400 rounded-full px-4 py-1.5 flex items-center gap-1.5 shadow-xl",children:[c.jsx(an,{className:"w-4 h-4 text-yellow-600"}),c.jsx("span",{className:"font-black text-yellow-800",children:r})]})]})}),i?c.jsxs(c.Fragment,{children:[c.jsx(nw,{playerHP:d,enemyHP:f,playerAnim:m,enemyAnim:g,playerHit:b,enemyHit:v,playerAttacking:w,enemyAttacking:x,battleMsg:S,fighting:E,showDamage:D,comboCount:z,equipment:H,playerLevel:P,attack:B,resetFight:K,onNextFight:j}),Y&&c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-indigo-800 to-purple-900 rounded-2xl p-6 max-w-sm w-full border-2 border-purple-400 shadow-2xl text-center",children:[c.jsx("div",{className:"text-5xl mb-4",children:""}),c.jsx("h2",{className:"text-white font-black text-xl mb-2",children:"Puntos insuficientes"}),c.jsxs("p",{className:"text-white/80 text-sm mb-1",children:["Necesitas ms puntos para el nivel ",P+1]}),c.jsxs("p",{className:"text-yellow-300 font-bold text-lg mb-4",children:["Te faltan ",Pe[P]?.pts-r," puntos"]}),c.jsx("p",{className:"text-white/60 text-xs mb-5",children:"Completa tus hbitos para ganar ms puntos"}),c.jsx("button",{onClick:()=>{ve(!1),t(!1)},className:"w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-black rounded-xl shadow-xl border-2 border-purple-400 hover:scale-[1.02] transition active:scale-95",children:"Volver al mapa"})]})})]}):c.jsxs("div",{ref:te,className:"h-screen overflow-y-auto pt-20 pb-8",style:{scrollBehavior:"smooth"},children:[c.jsxs("div",{className:"max-w-md mx-auto relative",style:{height:`${me}px`},children:[c.jsxs("div",{className:"absolute left-0 right-0 rounded-t-2xl",style:{top:0,height:`${5*je+80}px`,background:"linear-gradient(to bottom, #e0f2fe, #bae6fd, #7dd3fc)",zIndex:0},children:[c.jsx("div",{className:"absolute top-4 left-4 text-2xl opacity-40",children:""}),c.jsx("div",{className:"absolute top-12 right-8 text-3xl opacity-30",children:""}),c.jsx("div",{className:"absolute bottom-20 left-8 text-xl opacity-35",children:""}),c.jsx("div",{className:"absolute top-1/3 right-4 text-lg opacity-30 animate-pulse",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute top-1/2 left-12 text-2xl opacity-25",children:""})]}),c.jsxs("div",{className:"absolute left-0 right-0",style:{top:`${5*je+60}px`,height:`${5*je+40}px`,background:"linear-gradient(to bottom, #a8a29e, #78716c, #57534e)",zIndex:0},children:[c.jsx("div",{className:"absolute top-4 right-6 text-2xl opacity-40",children:""}),c.jsx("div",{className:"absolute top-16 left-4 text-xl opacity-35",children:""}),c.jsx("div",{className:"absolute bottom-12 right-12 text-2xl opacity-30",children:""}),c.jsx("div",{className:"absolute top-1/3 left-8 text-lg opacity-30",children:""})]}),c.jsxs("div",{className:"absolute left-0 right-0",style:{top:`${10*je+80}px`,height:`${5*je+40}px`,background:"linear-gradient(to bottom, #166534, #15803d, #22c55e)",zIndex:0},children:[c.jsx("div",{className:"absolute top-6 left-6 text-2xl opacity-50",children:""}),c.jsx("div",{className:"absolute top-4 right-4 text-2xl opacity-45",children:""}),c.jsx("div",{className:"absolute bottom-8 left-12 text-xl opacity-40",children:""}),c.jsx("div",{className:"absolute top-1/2 right-8 text-xl opacity-35",children:""}),c.jsx("div",{className:"absolute bottom-20 right-4 text-2xl opacity-45",children:""})]}),c.jsxs("div",{className:"absolute left-0 right-0 rounded-b-2xl",style:{top:`${15*je+100}px`,height:`${5*je+80}px`,background:"linear-gradient(to bottom, #84cc16, #a3e635, #d9f99d)",zIndex:0},children:[c.jsx("div",{className:"absolute top-6 left-8 text-2xl opacity-50",children:""}),c.jsx("div",{className:"absolute top-4 right-6 text-xl opacity-45",children:""}),c.jsx("div",{className:"absolute bottom-16 left-4 text-2xl opacity-40",children:""}),c.jsx("div",{className:"absolute top-1/3 right-12 text-lg opacity-40",children:""}),c.jsx("div",{className:"absolute bottom-8 right-8 text-xl opacity-35",children:""})]}),c.jsx("svg",{className:"absolute inset-0 w-full",style:{height:`${me}px`,zIndex:1},children:Pe.map((C,q)=>{if(q>=Pe.length-1)return null;const $=be(q),ae=be(q+1),W=r>=C.pts,de=`${$.x}%`,Ue=$.y+lt/2,we=`${ae.x}%`,at=ae.y+lt/2;return c.jsx("line",{x1:de,y1:Ue,x2:we,y2:at,stroke:W?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.15)",strokeWidth:W?"3":"2",strokeDasharray:W?"none":"6 4",strokeLinecap:"round"},`path-${q}`)})}),Pe.map((C,q)=>{const $=r>=C.pts,W=C.num===P+1&&P<100,de=qe(C.num),Ue=M(de,$),we=be(q),at=W;return c.jsxs("div",{ref:W?Z:null,className:"absolute",style:{left:`${we.x}%`,top:`${we.y}px`,transform:"translateX(-50%)",zIndex:W?15:10,width:`${lt}px`,cursor:at?"pointer":"default"},onClick:at?o:void 0,children:[W&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute -inset-3 rounded-full animate-ping",style:{background:"rgba(239, 68, 68, 0.3)"}}),c.jsx("div",{className:"absolute -inset-2 rounded-full animate-pulse",style:{background:"rgba(251, 191, 36, 0.4)",animationDuration:"1.5s"}})]}),c.jsxs("div",{className:`relative rounded-full flex flex-col items-center justify-center transition-all ${W?"scale-115 active:scale-95":$?"scale-100":""}`,style:{width:`${lt}px`,height:`${lt}px`,background:W?"linear-gradient(145deg, #fef3c7, #fbbf24, #d97706)":$?`linear-gradient(145deg, ${Ue.text}, ${Ue.border}, ${Ue.bg})`:"linear-gradient(145deg, #9ca3af, #6b7280, #4b5563)",boxShadow:W?"0 0 24px rgba(251, 191, 36, 0.7), 0 0 48px rgba(239, 68, 68, 0.3), 0 4px 12px rgba(0,0,0,0.3), inset 0 2px 4px rgba(255,255,255,0.4)":$?"0 4px 12px rgba(0,0,0,0.3), inset 0 2px 4px rgba(255,255,255,0.3)":"0 2px 8px rgba(0,0,0,0.3), inset 0 1px 2px rgba(255,255,255,0.1)",border:W?"3px solid #fef3c7":$?`2px solid ${Ue.border}`:"2px solid #4b5563"},children:[c.jsx("div",{className:"absolute top-0 left-1/4 right-1/4 h-1/3 bg-white/20 rounded-full blur-sm"}),W?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(Bx,{className:"w-5 h-5 text-amber-800",strokeWidth:2.5}),c.jsx("span",{className:"text-[10px] font-black text-amber-900",children:C.num})]}):$?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm font-black drop-shadow-lg text-white",children:C.num}),c.jsx(Ao,{className:"w-3 h-3 text-white/80",strokeWidth:3})]}):c.jsx(v0,{className:"w-4 h-4 text-gray-400",strokeWidth:2.5})]}),W&&c.jsx("div",{className:"text-center mt-1",children:c.jsx("span",{className:"text-[10px] font-black text-yellow-300 drop-shadow-lg animate-pulse",children:"PELEAR"})}),!W&&C.num%5===0&&c.jsx("div",{className:"text-center mt-0.5",children:c.jsx("span",{className:"text-xs opacity-70",children:G(C.num)})}),C.num%25===0&&$&&c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 text-lg animate-bounce",style:{animationDuration:"2s"},children:""}),C.num===100&&$&&c.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xl",style:{animation:"bounce 1.5s infinite",filter:"drop-shadow(0 2px 4px rgba(234, 179, 8, 0.8))"},children:""})]},C.num)}),[{label:" Cima Glacial",y:40,color:"#0369a1"},{label:" Montaas",y:5*je+90,color:"#44403c"},{label:" Bosque",y:10*je+110,color:"#14532d"},{label:" Praderas",y:15*je+130,color:"#365314"}].map((C,q)=>c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 px-4 py-1 rounded-full text-xs font-black text-white/90 backdrop-blur-sm",style:{top:`${C.y}px`,zIndex:5,background:`${C.color}88`},children:C.label},q))]}),c.jsx("div",{className:"max-w-md mx-auto px-4 pb-4",children:P<100?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-xl p-4 border border-white/20",children:[c.jsxs("h3",{className:"text-white font-bold mb-2 text-sm",children:[" Siguiente: Nivel ",P+1]}),c.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[c.jsx("span",{className:"text-white/80",children:"Progreso"}),c.jsxs("span",{className:"text-white font-bold",children:[Pe[P].pts-r," pts ms"]})]}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-2.5 overflow-hidden",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-400 h-full rounded-full transition-all duration-500",style:{width:`${P>0?(r-Pe[P-1].pts)/(Pe[P].pts-Pe[P-1].pts)*100:r/Pe[0].pts*100}%`}})})]}):c.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl p-4 text-center",children:[c.jsx("p",{className:"text-xl font-black text-amber-900",children:" NIVEL MXIMO"}),c.jsx("p",{className:"text-amber-800 font-bold text-sm",children:"Maestro de los hbitos"})]})})]})]})}const aw={weapon:[{tier:1,name:"Palo",icon:"",cost:0,baseLevel:1,baseUpgradeCost:4},{tier:2,name:"Espada",icon:"",cost:8,baseLevel:2,baseUpgradeCost:6},{tier:3,name:"Hacha de Guerra",icon:"",cost:20,baseLevel:4,baseUpgradeCost:8},{tier:4,name:"Espada de Fuego",icon:"",cost:40,baseLevel:7,baseUpgradeCost:12},{tier:5,name:"Espada Legendaria",icon:"",cost:80,baseLevel:12,baseUpgradeCost:18}],helmet:[{tier:1,name:"Gorra",icon:"",cost:0,baseLevel:1,baseUpgradeCost:4},{tier:2,name:"Casco",icon:"",cost:8,baseLevel:2,baseUpgradeCost:6},{tier:3,name:"Casco Vikingo",icon:"",cost:20,baseLevel:4,baseUpgradeCost:8},{tier:4,name:"Yelmo Dorado",icon:"",cost:40,baseLevel:7,baseUpgradeCost:12},{tier:5,name:"Corona Legendaria",icon:"",cost:80,baseLevel:12,baseUpgradeCost:18}],armor:[{tier:1,name:"Camiseta",icon:"",cost:0,baseLevel:1,baseUpgradeCost:4},{tier:2,name:"Armadura Cuero",icon:"",cost:8,baseLevel:2,baseUpgradeCost:6},{tier:3,name:"Armadura Hierro",icon:"",cost:20,baseLevel:4,baseUpgradeCost:8},{tier:4,name:"Armadura Oro",icon:"",cost:40,baseLevel:7,baseUpgradeCost:12},{tier:5,name:"Armadura Legendaria",icon:"",cost:80,baseLevel:12,baseUpgradeCost:18}],boots:[{tier:1,name:"Sandalias",icon:"",cost:0,baseLevel:1,baseUpgradeCost:4},{tier:2,name:"Botas",icon:"",cost:8,baseLevel:2,baseUpgradeCost:6},{tier:3,name:"Botas de Hierro",icon:"",cost:20,baseLevel:4,baseUpgradeCost:8},{tier:4,name:"Botas Aladas",icon:"",cost:40,baseLevel:7,baseUpgradeCost:12},{tier:5,name:"Botas Legendarias",icon:"",cost:80,baseLevel:12,baseUpgradeCost:18}],accessory:[{tier:1,name:"Pulsera",icon:"",cost:0,baseLevel:1,baseUpgradeCost:4},{tier:2,name:"Anillo",icon:"",cost:8,baseLevel:2,baseUpgradeCost:6},{tier:3,name:"Amuleto",icon:"",cost:20,baseLevel:4,baseUpgradeCost:8},{tier:4,name:"Gema Magica",icon:"",cost:40,baseLevel:7,baseUpgradeCost:12},{tier:5,name:"Reliquia Legendaria",icon:"",cost:80,baseLevel:12,baseUpgradeCost:18}]},iw={weapon:"Armas",helmet:"Cascos",armor:"Armaduras",boots:"Botas",accessory:"Accesorios"},rw={1:{bg:"from-gray-500 to-gray-600",border:"border-gray-400",label:"Comun",labelColor:"text-gray-300"},2:{bg:"from-green-500 to-green-600",border:"border-green-400",label:"Poco comun",labelColor:"text-green-300"},3:{bg:"from-blue-500 to-blue-600",border:"border-blue-400",label:"Raro",labelColor:"text-blue-300"},4:{bg:"from-purple-500 to-purple-600",border:"border-purple-400",label:"Epico",labelColor:"text-purple-300"},5:{bg:"from-amber-500 to-yellow-500",border:"border-yellow-300",label:"Legendario",labelColor:"text-yellow-300"}};function lw({equipment:i,availablePoints:t,toggleEquip:s,upgradeEquipment:r,buyShopItem:o,getEquipmentBonus:d,setShowEquipment:f}){const[m,g]=V.useState("equipo");return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-slate-900 p-4 relative overflow-hidden",children:[c.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 left-4 bg-white/20 backdrop-blur rounded-full p-2 z-50",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-amber-400 to-yellow-500 rounded-full px-4 py-2 flex items-center gap-2 shadow-xl",children:[c.jsx(an,{className:"w-5 h-5 text-yellow-100"}),c.jsx("span",{className:"font-black text-white",children:t})]}),c.jsx("h1",{className:"text-center text-2xl font-black text-white mt-12",children:" Equipamiento "}),c.jsxs("div",{className:"flex gap-2 mt-4 max-w-xs mx-auto",children:[c.jsxs("button",{onClick:()=>g("equipo"),className:`flex-1 py-2 rounded-xl font-black text-sm flex items-center justify-center gap-1.5 transition ${m==="equipo"?"bg-blue-600 text-white border-2 border-blue-400":"bg-white/10 text-white/60 border-2 border-white/10"}`,children:[c.jsx(Rx,{className:"w-4 h-4"}),"Equipo"]}),c.jsxs("button",{onClick:()=>g("tienda"),className:`flex-1 py-2 rounded-xl font-black text-sm flex items-center justify-center gap-1.5 transition ${m==="tienda"?"bg-amber-600 text-white border-2 border-amber-400":"bg-white/10 text-white/60 border-2 border-white/10"}`,children:[c.jsx(Mx,{className:"w-4 h-4"}),"Tienda"]})]}),m==="equipo"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-4 flex justify-center",children:c.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full max-w-xs",children:[c.jsx("div",{}),c.jsxs("div",{onClick:()=>s("helmet"),className:`${i.helmet.equipped?"bg-amber-600 border-amber-400":"bg-slate-700 border-slate-500"} rounded-xl p-2 flex flex-col items-center cursor-pointer border-2`,children:[c.jsx("span",{className:"text-2xl",children:i.helmet.icon}),c.jsxs("span",{className:"text-white text-xs font-bold",children:["Nv.",i.helmet.level]})]}),c.jsx("div",{}),c.jsxs("div",{onClick:()=>s("weapon"),className:`${i.weapon.equipped?"bg-red-600 border-red-400":"bg-slate-700 border-slate-500"} rounded-xl p-2 flex flex-col items-center cursor-pointer border-2`,children:[c.jsx("span",{className:"text-2xl",children:i.weapon.icon}),c.jsxs("span",{className:"text-white text-xs font-bold",children:["Nv.",i.weapon.level]})]}),c.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl p-1 flex flex-col items-center border-2 border-blue-400",children:c.jsx(jd,{isEnemy:!1,equipment:i,size:"small"})}),c.jsxs("div",{onClick:()=>s("armor"),className:`${i.armor.equipped?"bg-blue-600 border-blue-400":"bg-slate-700 border-slate-500"} rounded-xl p-2 flex flex-col items-center cursor-pointer border-2`,children:[c.jsx("span",{className:"text-2xl",children:i.armor.icon}),c.jsxs("span",{className:"text-white text-xs font-bold",children:["Nv.",i.armor.level]})]}),c.jsxs("div",{onClick:()=>s("accessory"),className:`${i.accessory.equipped?"bg-purple-600 border-purple-400":"bg-slate-700 border-slate-500"} rounded-xl p-2 flex flex-col items-center cursor-pointer border-2`,children:[c.jsx("span",{className:"text-2xl",children:i.accessory.icon}),c.jsxs("span",{className:"text-white text-xs font-bold",children:["Nv.",i.accessory.level]})]}),c.jsxs("div",{onClick:()=>s("boots"),className:`${i.boots.equipped?"bg-green-600 border-green-400":"bg-slate-700 border-slate-500"} rounded-xl p-2 flex flex-col items-center cursor-pointer border-2`,children:[c.jsx("span",{className:"text-2xl",children:i.boots.icon}),c.jsxs("span",{className:"text-white text-xs font-bold",children:["Nv.",i.boots.level]})]}),c.jsx("div",{})]})}),c.jsxs("div",{className:"mt-4 bg-white/10 backdrop-blur rounded-xl p-3",children:[c.jsx("h2",{className:"text-white font-bold mb-2",children:"Estadisticas"}),c.jsxs("div",{className:"flex justify-between text-white text-sm",children:[c.jsx("span",{children:"Bonus de Equipo:"}),c.jsxs("span",{className:"font-bold text-amber-400",children:["+",d()," dano"]})]})]}),c.jsxs("div",{className:"mt-4 bg-white/10 backdrop-blur rounded-xl p-3",children:[c.jsx("h2",{className:"text-white font-bold mb-3",children:"Mejorar Equipo"}),c.jsx("div",{className:"space-y-2",children:Object.entries(i).map(([b,v])=>c.jsxs("div",{className:"flex items-center gap-2 bg-white/5 p-2 rounded-lg",children:[c.jsx("span",{className:"text-xl",children:v.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-white text-sm font-medium",children:[v.name," Nv.",v.level]}),c.jsxs("p",{className:"text-white/60 text-xs",children:["+",v.level*2," dano"]})]}),c.jsxs("button",{onClick:()=>r(b),disabled:t<v.upgradeCost,className:`flex items-center gap-1 px-3 py-1 rounded-lg text-sm font-bold ${t>=v.upgradeCost?"bg-green-500 text-white":"bg-gray-600 text-gray-400"}`,children:[c.jsx(dx,{className:"w-4 h-4"}),v.upgradeCost]})]},b))})]}),c.jsx("p",{className:"text-center text-white/50 text-xs mt-3 pb-4",children:"Toca items para equipar - Gasta puntos para mejorar"})]}):c.jsx("div",{className:"mt-4 space-y-4 pb-6",children:Object.entries(aw).map(([b,v])=>c.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3",children:[c.jsx("h3",{className:"text-white font-black text-sm mb-2",children:iw[b]}),c.jsx("div",{className:"space-y-2",children:v.map(w=>{const x=i[b].tier||1,S=x>=w.tier,E=x===w.tier,D=!S&&t>=w.cost&&x===w.tier-1,z=!S&&x<w.tier-1,H=rw[w.tier];return c.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-xl border-2 transition ${E?`bg-gradient-to-r ${H.bg} ${H.border} shadow-lg`:S?"bg-white/5 border-white/10 opacity-60":D?`bg-white/5 ${H.border} border-dashed`:"bg-white/5 border-white/5 opacity-40"}`,children:[c.jsx("div",{className:"text-3xl w-10 text-center",children:w.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white text-sm font-bold",children:w.name}),c.jsx("span",{className:`text-[10px] font-black ${H.labelColor}`,children:H.label})]}),c.jsxs("p",{className:"text-white/60 text-xs",children:["+",w.baseLevel*2," dano base"]})]}),E?c.jsx("span",{className:"text-xs font-black text-white bg-white/20 px-2 py-1 rounded-lg",children:"EN USO"}):S?c.jsx("span",{className:"text-xs font-bold text-white/50 px-2 py-1",children:"COMPRADO"}):D?c.jsxs("button",{onClick:()=>o(b,w),className:"flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-amber-500 to-yellow-500 text-white font-black text-sm rounded-lg shadow-lg hover:scale-105 transition active:scale-95",children:[w.cost,c.jsx(an,{className:"w-3.5 h-3.5"})]}):z?c.jsx("span",{className:"text-xs text-white/30 px-2 py-1",children:""}):c.jsxs("span",{className:"text-xs text-white/40 px-2 py-1",children:[w.cost,c.jsx(an,{className:"w-3 h-3 inline ml-0.5"})]})]},w.tier)})})]},b))})]})}const ow=()=>{};var bg={};const E0=function(i){const t=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},cw=function(i){const t=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const d=i[s++];t[r++]=String.fromCharCode((o&31)<<6|d&63)}else if(o>239&&o<365){const d=i[s++],f=i[s++],m=i[s++],g=((o&7)<<18|(d&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const d=i[s++],f=i[s++];t[r++]=String.fromCharCode((o&15)<<12|(d&63)<<6|f&63)}}return t.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const d=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,b=g?i[o+2]:0,v=d>>2,w=(d&3)<<4|m>>4;let x=(m&15)<<2|b>>6,S=b&63;g||(S=64,f||(x=64)),r.push(s[v],s[w],s[x],s[S])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(E0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):cw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const d=s[i.charAt(o++)],m=o<i.length?s[i.charAt(o)]:0;++o;const b=o<i.length?s[i.charAt(o)]:64;++o;const w=o<i.length?s[i.charAt(o)]:64;if(++o,d==null||m==null||b==null||w==null)throw new uw;const x=d<<2|m>>4;if(r.push(x),b!==64){const S=m<<4&240|b>>2;if(r.push(S),w!==64){const E=b<<6&192|w;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dw=function(i){const t=E0(i);return T0.encodeByteArray(t,!0)},j0=function(i){return dw(i).replace(/\./g,"")},N0=function(i){try{return T0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fw=()=>hw().__FIREBASE_DEFAULTS__,mw=()=>{if(typeof process>"u"||typeof bg>"u")return;const i=bg.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},pw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&N0(i[1]);return t&&JSON.parse(t)},Kd=()=>{try{return ow()||fw()||mw()||pw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gw=i=>Kd()?.emulatorHosts?.[i],A0=()=>Kd()?.config,k0=i=>Kd()?.[`_${i}`];let bw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,r))}}};function ko(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yw(i){return(await fetch(i,{credentials:"include"})).ok}const hr={};function vw(){const i={prod:[],emulator:[]};for(const t of Object.keys(hr))hr[t]?i.emulator.push(t):i.prod.push(t);return i}function xw(i){let t=document.getElementById(i),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),s=!0),{created:s,element:t}}let yg=!1;function ww(i,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||hr[i]===t||hr[i]||yg)return;hr[i]=t;function s(x){return`__firebase__banner__${x}`}const r="__firebase__banner",d=vw().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function b(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{yg=!0,f()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=xw(r),S=s("text"),E=document.getElementById(S)||document.createElement("span"),D=s("learnmore"),z=document.getElementById(D)||document.createElement("a"),H=s("preprendIcon"),P=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;m(B),v(z,D);const K=b();g(P,H),B.append(P,E,z,K),document.body.appendChild(B)}d?(E.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function Sw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ew(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jw(){const i=xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((i,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(s){t(s)}})}const kw="FirebaseError";class Ts extends Error{constructor(t,s,r){super(s),this.code=t,this.customData=r,this.name=kw,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(t,s,r){this.service=t,this.serviceName=s,this.errors=r}create(t,...s){const r=s[0]||{},o=`${this.service}/${t}`,d=this.errors[t],f=d?Cw(d,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ts(o,m,r)}}function Cw(i,t){return i.replace(Ow,(s,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Ow=/\{\$([^}]+)}/g;function Rw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ci(i,t){if(i===t)return!0;const s=Object.keys(i),r=Object.keys(t);for(const o of s){if(!r.includes(o))return!1;const d=i[o],f=t[o];if(vg(d)&&vg(f)){if(!ci(d,f))return!1}else if(d!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function vg(i){return i!==null&&typeof i=="object"}function kr(i){const t=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cr(i){const t={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,d]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(d)}}),t}function ur(i){const t=i.indexOf("?");if(!t)return"";const s=i.indexOf("#",t);return i.substring(t,s>0?s:void 0)}function Dw(i,t){const s=new Mw(i,t);return s.subscribe.bind(s)}class Mw{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,r){let o;if(t===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");Uw(t,["next","error","complete"])?o=t:o={next:t,error:s,complete:r},o.next===void 0&&(o.next=cd),o.error===void 0&&(o.error=cd),o.complete===void 0&&(o.complete=cd);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),d}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(i,t){if(typeof i!="object"||i===null)return!1;for(const s of t)if(s in i&&typeof i[s]=="function")return!0;return!1}function cd(){}function hn(i){return i&&i._delegate?i._delegate:i}class ui{constructor(t,s,r){this.name=t,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ys="[DEFAULT]";class Lw{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const r=new bw;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zw(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const d=this.getOrInitializeService({instanceIdentifier:o});r.resolve(d)}catch{}}}}clearInstance(t=Ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ys){return this.instances.has(t)}getOptions(t=Ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[d,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(d);r===m&&f.resolve(o)}return o}onInit(t,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const d=this.instances.get(r);return d&&t(d,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(t),options:s}),this.instances.set(t,r),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ys){return this.component?this.component.multipleInstances?t:Ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(i){return i===Ys?void 0:i}function zw(i){return i.instantiationMode==="EAGER"}class Hw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new Lw(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const Bw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Pw=Me.INFO,qw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},$w=(i,t,...s)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=qw[t];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class C0{constructor(t){this.name=t,this._logLevel=Pw,this._logHandler=$w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}const Gw=(i,t)=>t.some(s=>i instanceof s);let xg,wg;function Vw(){return xg||(xg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kw(){return wg||(wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,Nd=new WeakMap,R0=new WeakMap,ud=new WeakMap,Qd=new WeakMap;function Qw(i){const t=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",d),i.removeEventListener("error",f)},d=()=>{s(Ss(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",d),i.addEventListener("error",f)});return t.then(s=>{s instanceof IDBCursor&&O0.set(s,i)}).catch(()=>{}),Qd.set(t,i),t}function Yw(i){if(Nd.has(i))return;const t=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",d),i.removeEventListener("error",f),i.removeEventListener("abort",f)},d=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",d),i.addEventListener("error",f),i.addEventListener("abort",f)});Nd.set(i,t)}let Ad={get(i,t,s){if(i instanceof IDBTransaction){if(t==="done")return Nd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||R0.get(i);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ss(i[t])},set(i,t,s){return i[t]=s,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ww(i){Ad=i(Ad)}function Jw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const r=i.call(dd(this),t,...s);return R0.set(r,t.sort?t.sort():[t]),Ss(r)}:Kw().includes(i)?function(...t){return i.apply(dd(this),t),Ss(O0.get(this))}:function(...t){return Ss(i.apply(dd(this),t))}}function Xw(i){return typeof i=="function"?Jw(i):(i instanceof IDBTransaction&&Yw(i),Gw(i,Vw())?new Proxy(i,Ad):i)}function Ss(i){if(i instanceof IDBRequest)return Qw(i);if(ud.has(i))return ud.get(i);const t=Xw(i);return t!==i&&(ud.set(i,t),Qd.set(t,i)),t}const dd=i=>Qd.get(i);function Zw(i,t,{blocked:s,upgrade:r,blocking:o,terminated:d}={}){const f=indexedDB.open(i,t),m=Ss(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Ss(f.result),g.oldVersion,g.newVersion,Ss(f.transaction),g)}),s&&f.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),m.then(g=>{d&&g.addEventListener("close",()=>d()),o&&g.addEventListener("versionchange",b=>o(b.oldVersion,b.newVersion,b))}).catch(()=>{}),m}const Fw=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],hd=new Map;function _g(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,o=e1.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Fw.includes(s)))return;const d=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let b=g.store;return r&&(b=b.index(m.shift())),(await Promise.all([b[s](...m),o&&g.done]))[0]};return hd.set(t,d),d}Ww(i=>({...i,get:(t,s,r)=>_g(t,s)||i.get(t,s,r),has:(t,s)=>!!_g(t,s)||i.has(t,s)}));class t1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(n1(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function n1(i){return i.getComponent()?.type==="VERSION"}const kd="@firebase/app",Sg="0.14.8";const Hn=new C0("@firebase/app"),s1="@firebase/app-compat",a1="@firebase/analytics-compat",i1="@firebase/analytics",r1="@firebase/app-check-compat",l1="@firebase/app-check",o1="@firebase/auth",c1="@firebase/auth-compat",u1="@firebase/database",d1="@firebase/data-connect",h1="@firebase/database-compat",f1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",b1="@firebase/messaging",y1="@firebase/messaging-compat",v1="@firebase/performance",x1="@firebase/performance-compat",w1="@firebase/remote-config",_1="@firebase/remote-config-compat",S1="@firebase/storage",E1="@firebase/storage-compat",T1="@firebase/firestore",j1="@firebase/ai",N1="@firebase/firestore-compat",A1="firebase",k1="12.9.0";const Cd="[DEFAULT]",C1={[kd]:"fire-core",[s1]:"fire-core-compat",[i1]:"fire-analytics",[a1]:"fire-analytics-compat",[l1]:"fire-app-check",[r1]:"fire-app-check-compat",[o1]:"fire-auth",[c1]:"fire-auth-compat",[u1]:"fire-rtdb",[d1]:"fire-data-connect",[h1]:"fire-rtdb-compat",[f1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[b1]:"fire-fcm",[y1]:"fire-fcm-compat",[v1]:"fire-perf",[x1]:"fire-perf-compat",[w1]:"fire-rc",[_1]:"fire-rc-compat",[S1]:"fire-gcs",[E1]:"fire-gcs-compat",[T1]:"fire-fst",[N1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};const bo=new Map,O1=new Map,Od=new Map;function Eg(i,t){try{i.container.addComponent(t)}catch(s){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,s)}}function yr(i){const t=i.name;if(Od.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,i);for(const s of bo.values())Eg(s,i);for(const s of O1.values())Eg(s,i);return!0}function D0(i,t){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(t)}function Qt(i){return i==null?!1:i.settings!==void 0}const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Ar("app","Firebase",R1);class D1{constructor(t,s,r){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const Cr=k1;function M0(i,t={}){let s=i;typeof t!="object"&&(t={name:t});const r={name:Cd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(s||(s=A0()),!s)throw Es.create("no-options");const d=bo.get(o);if(d){if(ci(s,d.options)&&ci(r,d.config))return d;throw Es.create("duplicate-app",{appName:o})}const f=new Hw(o);for(const g of Od.values())f.addComponent(g);const m=new D1(s,r,f);return bo.set(o,m),m}function M1(i=Cd){const t=bo.get(i);if(!t&&i===Cd&&A0())return M0();if(!t)throw Es.create("no-app",{appName:i});return t}function si(i,t,s){let r=C1[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),d=t.match(/\s|\//);if(o||d){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(f.join(" "));return}yr(new ui(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const U1="firebase-heartbeat-database",L1=1,vr="firebase-heartbeat-store";let fd=null;function U0(){return fd||(fd=Zw(U1,L1,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(vr)}catch(s){console.warn(s)}}}}).catch(i=>{throw Es.create("idb-open",{originalErrorMessage:i.message})})),fd}async function I1(i){try{const s=(await U0()).transaction(vr),r=await s.objectStore(vr).get(L0(i));return await s.done,r}catch(t){if(t instanceof Ts)Hn.warn(t.message);else{const s=Es.create("idb-get",{originalErrorMessage:t?.message});Hn.warn(s.message)}}}async function Tg(i,t){try{const r=(await U0()).transaction(vr,"readwrite");await r.objectStore(vr).put(t,L0(i)),await r.done}catch(s){if(s instanceof Ts)Hn.warn(s.message);else{const r=Es.create("idb-set",{originalErrorMessage:s?.message});Hn.warn(r.message)}}}function L0(i){return`${i.name}!${i.options.appId}`}const z1=1024,H1=30;class B1{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new q1(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>H1){const o=$1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jg(),{heartbeatsToSend:s,unsentEntries:r}=P1(this._heartbeatsCache.heartbeats),o=j0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hn.warn(t),""}}}function jg(){return new Date().toISOString().substring(0,10)}function P1(i,t=z1){const s=[];let r=i.slice();for(const o of i){const d=s.find(f=>f.agent===o.agent);if(d){if(d.dates.push(o.date),Ng(s)>t){d.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Ng(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await I1(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ng(i){return j0(JSON.stringify({version:2,heartbeats:i})).length}function $1(i){if(i.length===0)return-1;let t=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,t=r);return t}function G1(i){yr(new ui("platform-logger",t=>new t1(t),"PRIVATE")),yr(new ui("heartbeat",t=>new B1(t),"PRIVATE")),si(kd,Sg,i),si(kd,Sg,"esm2020"),si("fire-js","")}G1("");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=I0,z0=new Ar("auth","Firebase",I0());const yo=new C0("@firebase/auth");function K1(i,...t){yo.logLevel<=Me.WARN&&yo.warn(`Auth (${Cr}): ${i}`,...t)}function fo(i,...t){yo.logLevel<=Me.ERROR&&yo.error(`Auth (${Cr}): ${i}`,...t)}function Yt(i,...t){throw Wd(i,...t)}function rn(i,...t){return Wd(i,...t)}function Yd(i,t,s){const r={...V1(),[t]:s};return new Ar("auth","Firebase",r).create(t,{appName:i.name})}function zn(i){return Yd(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q1(i,t,s){const r=s;if(!(t instanceof r))throw r.name!==t.constructor.name&&Yt(i,"argument-error"),Yd(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wd(i,...t){if(typeof i!="string"){const s=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return z0.create(i,...t)}function re(i,t,...s){if(!i)throw Wd(t,...s)}function Ln(i){const t="INTERNAL ASSERTION FAILED: "+i;throw fo(t),new Error(t)}function Bn(i,t){i||Ln(t)}function Rd(){return typeof self<"u"&&self.location?.href||""}function Y1(){return Ag()==="http:"||Ag()==="https:"}function Ag(){return typeof self<"u"&&self.location?.protocol||null}function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y1()||Ew()||"connection"in navigator)?navigator.onLine:!0}function J1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Or{constructor(t,s){this.shortDelay=t,this.longDelay=s,Bn(s>t,"Short delay should be less than long delay!"),this.isMobile=_w()||Tw()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jd(i,t){Bn(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}class H0{static initialize(t,s,r){this.fetchImpl=t,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F1=new Or(3e4,6e4);function Pn(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function fn(i,t,s,r,o={}){return B0(i,o,async()=>{let d={},f={};r&&(t==="GET"?f=r:d={body:JSON.stringify(r)});const m=kr({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const b={method:t,headers:g,...d};return Sw()||(b.referrerPolicy="no-referrer"),i.emulatorConfig&&ko(i.emulatorConfig.host)&&(b.credentials="include"),H0.fetch()(await P0(i,i.config.apiHost,s,m),b)})}async function B0(i,t,s){i._canInitEmulator=!1;const r={...X1,...t};try{const o=new t_(i),d=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await d.json();if("needConfirmation"in f)throw so(i,"account-exists-with-different-credential",f);if(d.ok&&!("errorMessage"in f))return f;{const m=d.ok?f.errorMessage:f.error.message,[g,b]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw so(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw so(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw so(i,"user-disabled",f);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Yd(i,v,b);Yt(i,v)}}catch(o){if(o instanceof Ts)throw o;Yt(i,"network-request-failed",{message:String(o)})}}async function Rr(i,t,s,r,o={}){const d=await fn(i,t,s,r,o);return"mfaPendingCredential"in d&&Yt(i,"multi-factor-auth-required",{_serverResponse:d}),d}async function P0(i,t,s,r){const o=`${t}${s}?${r}`,d=i,f=d.config.emulator?Jd(i.config,o):`${i.config.apiScheme}://${o}`;return Z1.includes(s)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(f).toString():f}function e_(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),F1.get())})}}function so(i,t,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=rn(i,t,r);return o.customData._tokenResponse=s,o}function kg(i){return i!==void 0&&i.enterprise!==void 0}class n_{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return e_(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s_(i,t){return fn(i,"GET","/v2/recaptchaConfig",Pn(i,t))}async function a_(i,t){return fn(i,"POST","/v1/accounts:delete",t)}async function vo(i,t){return fn(i,"POST","/v1/accounts:lookup",t)}function fr(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i_(i,t=!1){const s=hn(i),r=await s.getIdToken(t),o=Xd(r);re(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const d=typeof o.firebase=="object"?o.firebase:void 0,f=d?.sign_in_provider;return{claims:o,token:r,authTime:fr(md(o.auth_time)),issuedAtTime:fr(md(o.iat)),expirationTime:fr(md(o.exp)),signInProvider:f||null,signInSecondFactor:d?.sign_in_second_factor||null}}function md(i){return Number(i)*1e3}function Xd(i){const[t,s,r]=i.split(".");if(t===void 0||s===void 0||r===void 0)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(s);return o?JSON.parse(o):(fo("Failed to decode base64 JWT payload"),null)}catch(o){return fo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Cg(i){const t=Xd(i);return re(t,"internal-error"),re(typeof t.exp<"u","internal-error"),re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function di(i,t,s=!1){if(s)return t;try{return await t}catch(r){throw r instanceof Ts&&r_(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function r_({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class l_{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dd{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xo(i){const t=i.auth,s=await i.getIdToken(),r=await di(i,vo(t,{idToken:s}));re(r?.users.length,t,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const d=o.providerUserInfo?.length?q0(o.providerUserInfo):[],f=c_(i.providerData,d),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,b=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dd(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(i,v)}async function o_(i){const t=hn(i);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function c_(i,t){return[...i.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function q0(i){return i.map(({providerId:t,...s})=>({providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function u_(i,t){const s=await B0(i,{},async()=>{const r=kr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:d}=i.config,f=await P0(i,o,"/v1/token",`key=${d}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&ko(i.emulatorConfig.host)&&(g.credentials="include"),H0.fetch()(f,g)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function d_(i,t){return fn(i,"POST","/v2/accounts:revokeToken",Pn(i,t))}class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){re(t.idToken,"internal-error"),re(typeof t.idToken<"u","internal-error"),re(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){re(t.length!==0,"internal-error");const s=Cg(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:r,refreshToken:o,expiresIn:d}=await u_(t,s);this.updateTokensAndExpiration(r,o,Number(d))}updateTokensAndExpiration(t,s,r){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,s){const{refreshToken:r,accessToken:o,expirationTime:d}=s,f=new ai;return r&&(re(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(re(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),d&&(re(typeof d=="number","internal-error",{appName:t}),f.expirationTime=d),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function gs(i,t){re(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class nn{constructor({uid:t,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new l_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const s=await di(this,this.stsTokenManager.getToken(this.auth,t));return re(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return i_(this,t)}reload(){return o_(this)}_assign(t){this!==t&&(re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>({...s})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new nn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(t){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),s&&await xo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(zn(this.auth));const t=await this.getIdToken();return await di(this,a_(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){const r=s.displayName??void 0,o=s.email??void 0,d=s.phoneNumber??void 0,f=s.photoURL??void 0,m=s.tenantId??void 0,g=s._redirectEventId??void 0,b=s.createdAt??void 0,v=s.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:S,providerData:E,stsTokenManager:D}=s;re(w&&D,t,"internal-error");const z=ai.fromJSON(this.name,D);re(typeof w=="string",t,"internal-error"),gs(r,t.name),gs(o,t.name),re(typeof x=="boolean",t,"internal-error"),re(typeof S=="boolean",t,"internal-error"),gs(d,t.name),gs(f,t.name),gs(m,t.name),gs(g,t.name),gs(b,t.name),gs(v,t.name);const H=new nn({uid:w,auth:t,email:o,emailVerified:x,displayName:r,isAnonymous:S,photoURL:f,phoneNumber:d,tenantId:m,stsTokenManager:z,createdAt:b,lastLoginAt:v});return E&&Array.isArray(E)&&(H.providerData=E.map(P=>({...P}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(t,s,r=!1){const o=new ai;o.updateFromServerResponse(s);const d=new nn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await xo(d),d}static async _fromGetAccountInfoResponse(t,s,r){const o=s.users[0];re(o.localId!==void 0,"internal-error");const d=o.providerUserInfo!==void 0?q0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!d?.length,m=new ai;m.updateFromIdToken(r);const g=new nn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Dd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!d?.length};return Object.assign(g,b),g}}const Og=new Map;function In(i){Bn(i instanceof Function,"Expected a class definition");let t=Og.get(i);return t?(Bn(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Og.set(i,t),t)}class $0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}$0.type="NONE";const Rg=$0;function mo(i,t,s){return`firebase:${i}:${t}:${s}`}class ii{constructor(t,s,r){this.persistence=t,this.auth=s,this.userKey=r;const{config:o,name:d}=this.auth;this.fullUserKey=mo(this.userKey,o.apiKey,d),this.fullPersistenceKey=mo("persistence",o.apiKey,d),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await vo(this.auth,{idToken:t}).catch(()=>{});return s?nn._fromGetAccountInfoResponse(this.auth,s,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,r="authUser"){if(!s.length)return new ii(In(Rg),t,r);const o=(await Promise.all(s.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let d=o[0]||In(Rg);const f=mo(r,t.config.apiKey,t.name);let m=null;for(const b of s)try{const v=await b._get(f);if(v){let w;if(typeof v=="string"){const x=await vo(t,{idToken:v}).catch(()=>{});if(!x)break;w=await nn._fromGetAccountInfoResponse(t,x,v)}else w=nn._fromJSON(t,v);b!==d&&(m=w),d=b;break}}catch{}const g=o.filter(b=>b._shouldAllowMigration);return!d._shouldAllowMigration||!g.length?new ii(d,t,r):(d=g[0],m&&await d._set(f,m.toJSON()),await Promise.all(s.map(async b=>{if(b!==d)try{await b._remove(f)}catch{}})),new ii(d,t,r))}}function Dg(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if(J0(t))return"Webos";if(V0(t))return"Safari";if((t.includes("chrome/")||K0(t))&&!t.includes("edge/"))return"Chrome";if(Y0(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function G0(i=xt()){return/firefox\//i.test(i)}function V0(i=xt()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function K0(i=xt()){return/crios\//i.test(i)}function Q0(i=xt()){return/iemobile/i.test(i)}function Y0(i=xt()){return/android/i.test(i)}function W0(i=xt()){return/blackberry/i.test(i)}function J0(i=xt()){return/webos/i.test(i)}function Zd(i=xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function h_(i=xt()){return Zd(i)&&!!window.navigator?.standalone}function f_(){return jw()&&document.documentMode===10}function X0(i=xt()){return Zd(i)||Y0(i)||J0(i)||W0(i)||/windows phone/i.test(i)||Q0(i)}function Z0(i,t=[]){let s;switch(i){case"Browser":s=Dg(xt());break;case"Worker":s=`${Dg(xt())}-${i}`;break;default:s=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Cr}/${r}`}class m_{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const r=d=>new Promise((f,m)=>{try{const g=t(d);f(g)}catch(g){m(g)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const r of this.queue)await r(t),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function p_(i,t={}){return fn(i,"GET","/v2/passwordPolicy",Pn(i,t))}const g_=6;class b_{constructor(t){const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??g_,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,s),this.validatePasswordCharacterOptions(t,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(t,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=t.length>=r),o&&(s.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,s,r,o,d){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=d))}}class y_{constructor(t,s,r,o){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mg(this),this.idTokenSubscription=new Mg(this),this.beforeStateQueue=new m_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=In(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ii.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await vo(this,{idToken:t}),r=await nn._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!d||d===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await xo(t)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qt(this.app))return Promise.reject(zn(this));const s=t?hn(t):null;return s&&re(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&re(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qt(this.app)?Promise.reject(zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(In(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await p_(this),s=new b_(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ar("auth","Firebase",t())}onAuthStateChanged(t,s,r){return this.registerStateListener(this.authStateSubscription,t,s,r)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,r){return this.registerStateListener(this.idTokenSubscription,t,s,r)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await d_(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,s){const r=await this.getOrInitRedirectPersistenceManager(s);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&In(t)||this._popupRedirectResolver;re(s,this,"argument-error"),this.redirectPersistenceManager=await ii.create(this,[In(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,r,o){if(this._deleted)return()=>{};const d=typeof s=="function"?s:s.next.bind(s);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(m,this,"internal-error"),m.then(()=>{f||d(this.currentUser)}),typeof s=="function"){const g=t.addObserver(s,r,o);return()=>{f=!0,g()}}else{const g=t.addObserver(s);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(t["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&K1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function qn(i){return hn(i)}class Mg{constructor(t){this.auth=t,this.observer=null,this.addObserver=Dw(s=>this.observer=s)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Co={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v_(i){Co=i}function F0(i){return Co.loadJS(i)}function x_(){return Co.recaptchaEnterpriseScript}function w_(){return Co.gapiScript}function __(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class S_{constructor(){this.enterprise=new E_}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class E_{ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const T_="recaptcha-enterprise",eb="NO_RECAPTCHA";class j_{constructor(t){this.type=T_,this.auth=qn(t)}async verify(t="verify",s=!1){async function r(d){if(!s){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(f,m)=>{s_(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const b=new n_(g);return d.tenantId==null?d._agentRecaptchaConfig=b:d._tenantRecaptchaConfigs[d.tenantId]=b,f(b.siteKey)}}).catch(g=>{m(g)})})}function o(d,f,m){const g=window.grecaptcha;kg(g)?g.enterprise.ready(()=>{g.enterprise.execute(d,{action:t}).then(b=>{f(b)}).catch(()=>{f(eb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S_().execute("siteKey",{action:"verify"}):new Promise((d,f)=>{r(this.auth).then(m=>{if(!s&&kg(window.grecaptcha))o(m,d,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=x_();g.length!==0&&(g+=m),F0(g).then(()=>{o(m,d,f)}).catch(b=>{f(b)})}}).catch(m=>{f(m)})})}}async function Ug(i,t,s,r=!1,o=!1){const d=new j_(i);let f;if(o)f=eb;else try{f=await d.verify(s)}catch{f=await d.verify(s,!0)}const m={...t};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,b=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wo(i,t,s,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Ug(i,t,s,s==="getOobCode");return r(i,d)}else return r(i,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ug(i,t,s,s==="getOobCode");return r(i,f)}else return Promise.reject(d)})}function N_(i,t){const s=D0(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),d=s.getOptions();if(ci(d,t??{}))return o;Yt(o,"already-initialized")}return s.initialize({options:t})}function A_(i,t){const s=t?.persistence||[],r=(Array.isArray(s)?s:[s]).map(In);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t?.popupRedirectResolver)}function k_(i,t,s){const r=qn(i);re(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,d=tb(t),{host:f,port:m}=C_(t),g=m===null?"":`:${m}`,b={url:`${d}//${f}${g}/`},v=Object.freeze({host:f,port:m,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(ci(b,r.config.emulator)&&ci(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=b,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ko(f)?(yw(`${d}//${f}${g}`),ww("Auth",!0)):O_()}function tb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function C_(i){const t=tb(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const d=o[1];return{host:d,port:Lg(r.substr(d.length+1))}}else{const[d,f]=r.split(":");return{host:d,port:Lg(f)}}}function Lg(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function O_(){function i(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Fd{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return Ln("not implemented")}_getIdTokenResponse(t){return Ln("not implemented")}_linkToIdToken(t,s){return Ln("not implemented")}_getReauthenticationResolver(t){return Ln("not implemented")}}async function R_(i,t){return fn(i,"POST","/v1/accounts:signUp",t)}async function D_(i,t){return Rr(i,"POST","/v1/accounts:signInWithPassword",Pn(i,t))}async function M_(i,t){return fn(i,"POST","/v1/accounts:sendOobCode",Pn(i,t))}async function U_(i,t){return M_(i,t)}async function L_(i,t){return Rr(i,"POST","/v1/accounts:signInWithEmailLink",Pn(i,t))}async function I_(i,t){return Rr(i,"POST","/v1/accounts:signInWithEmailLink",Pn(i,t))}class xr extends Fd{constructor(t,s,r,o=null){super("password",r),this._email=t,this._password=s,this._tenantId=o}static _fromEmailAndPassword(t,s){return new xr(t,s,"password")}static _fromEmailAndCode(t,s,r=null){return new xr(t,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s?.email&&s?.password){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wo(t,s,"signInWithPassword",D_);case"emailLink":return L_(t,{email:this._email,oobCode:this._password});default:Yt(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wo(t,r,"signUpPassword",R_);case"emailLink":return I_(t,{idToken:s,email:this._email,oobCode:this._password});default:Yt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ri(i,t){return Rr(i,"POST","/v1/accounts:signInWithIdp",Pn(i,t))}const z_="http://localhost";class ea extends Fd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):Yt("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...d}=s;if(!r||!o)return null;const f=new ea(r,o);return f.idToken=d.idToken||void 0,f.accessToken=d.accessToken||void 0,f.secret=d.secret,f.nonce=d.nonce,f.pendingToken=d.pendingToken||null,f}_getIdTokenResponse(t){const s=this.buildRequest();return ri(t,s)}_linkToIdToken(t,s){const r=this.buildRequest();return r.idToken=s,ri(t,r)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,ri(t,s)}buildRequest(){const t={requestUri:z_,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=kr(s)}return t}}function H_(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B_(i){const t=cr(ur(i)).link,s=t?cr(ur(t)).deep_link_id:null,r=cr(ur(i)).deep_link_id;return(r?cr(ur(r)).link:null)||r||s||t||i}class eh{constructor(t){const s=cr(ur(t)),r=s.apiKey??null,o=s.oobCode??null,d=H_(s.mode??null);re(r&&o&&d,"argument-error"),this.apiKey=r,this.operation=d,this.code=o,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(t){const s=B_(t);try{return new eh(s)}catch{return null}}}class hi{constructor(){this.providerId=hi.PROVIDER_ID}static credential(t,s){return xr._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const r=eh.parseLink(s);return re(r,"argument-error"),xr._fromEmailAndCode(t,r.code,r.tenantId)}}hi.PROVIDER_ID="password";hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class th{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Dr extends th{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class vs extends Dr{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";class Un extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return ea._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return Un.credentialFromTaggedObject(t)}static credentialFromError(t){return Un.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:r}=t;if(!s&&!r)return null;try{return Un.credential(s,r)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";class xs extends Dr{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";class ws extends Dr{constructor(){super("twitter.com")}static credential(t,s){return ea._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=t;if(!s||!r)return null;try{return ws.credential(s,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";async function P_(i,t){return Rr(i,"POST","/v1/accounts:signUp",Pn(i,t))}class ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,r,o=!1){const d=await nn._fromIdTokenResponse(t,r,o),f=Ig(r);return new ta({user:d,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(t,s,r){await t._updateTokensIfNecessary(r,!0);const o=Ig(r);return new ta({user:t,providerId:o,_tokenResponse:r,operationType:s})}}function Ig(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class _o extends Ts{constructor(t,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_o.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,s,r,o){return new _o(t,s,r,o)}}function nb(i,t,s,r){return(t==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?_o._fromErrorAndOperation(i,d,t,r):d})}async function q_(i,t,s=!1){const r=await di(i,t._linkToIdToken(i.auth,await i.getIdToken()),s);return ta._forOperation(i,"link",r)}async function $_(i,t,s=!1){const{auth:r}=i;if(Qt(r.app))return Promise.reject(zn(r));const o="reauthenticate";try{const d=await di(i,nb(r,o,t,i),s);re(d.idToken,r,"internal-error");const f=Xd(d.idToken);re(f,r,"internal-error");const{sub:m}=f;return re(i.uid===m,r,"user-mismatch"),ta._forOperation(i,o,d)}catch(d){throw d?.code==="auth/user-not-found"&&Yt(r,"user-mismatch"),d}}async function sb(i,t,s=!1){if(Qt(i.app))return Promise.reject(zn(i));const r="signIn",o=await nb(i,r,t),d=await ta._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(d.user),d}async function G_(i,t){return sb(qn(i),t)}async function ab(i){const t=qn(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function V_(i,t,s){const r=qn(i);await wo(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",U_)}async function K_(i,t,s){if(Qt(i.app))return Promise.reject(zn(i));const r=qn(i),f=await wo(r,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P_).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&ab(i),g}),m=await ta._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function Q_(i,t,s){return Qt(i.app)?Promise.reject(zn(i)):G_(hn(i),hi.credential(t,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ab(i),r})}async function Y_(i,t){return fn(i,"POST","/v1/accounts:update",t)}async function zg(i,{displayName:t,photoURL:s}){if(t===void 0&&s===void 0)return;const r=hn(i),d={idToken:await r.getIdToken(),displayName:t,photoUrl:s,returnSecureToken:!0},f=await di(r,Y_(r.auth,d));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function W_(i,t,s,r){return hn(i).onIdTokenChanged(t,s,r)}function J_(i,t,s){return hn(i).beforeAuthStateChanged(t,s)}function X_(i,t,s,r){return hn(i).onAuthStateChanged(t,s,r)}function Z_(i){return hn(i).signOut()}const So="__sak";class ib{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(So,"1"),this.storage.removeItem(So),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const F_=1e3,e2=10;class rb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&t(s,o,r)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=t.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},d=this.storage.getItem(r);f_()&&d!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,e2):o()}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:r}),!0)})},F_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}rb.type="LOCAL";const t2=rb;class lb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}lb.type="SESSION";const ob=lb;function n2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}class Oo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(o=>o.isListeningto(t));if(s)return s;const r=new Oo(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:r,eventType:o,data:d}=s.data,f=this.handlersMap[o];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async b=>b(s.origin,d)),g=await n2(m);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oo.receivers=[];function nh(i="",t=10){let s="";for(let r=0;r<t;r++)s+=Math.floor(Math.random()*10);return i+s}class s2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let d,f;return new Promise((m,g)=>{const b=nh("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===b)switch(x.data.status){case"ack":clearTimeout(v),d=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(x.data.response);break;default:clearTimeout(v),clearTimeout(d),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:b,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function dn(){return window}function a2(i){dn().location.href=i}function cb(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){return navigator?.serviceWorker?.controller||null}function l2(){return cb()?self:null}const ub="firebaseLocalStorageDb",o2=1,Eo="firebaseLocalStorage",db="fbase_key";class Mr{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ro(i,t){return i.transaction([Eo],t?"readwrite":"readonly").objectStore(Eo)}function c2(){const i=indexedDB.deleteDatabase(ub);return new Mr(i).toPromise()}function Md(){const i=indexedDB.open(ub,o2);return new Promise((t,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Eo,{keyPath:db})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Eo)?t(r):(r.close(),await c2(),t(await Md()))})})}async function Hg(i,t,s){const r=Ro(i,!0).put({[db]:t,value:s});return new Mr(r).toPromise()}async function u2(i,t){const s=Ro(i,!1).get(t),r=await new Mr(s).toPromise();return r===void 0?null:r.value}function Bg(i,t){const s=Ro(i,!0).delete(t);return new Mr(s).toPromise()}const d2=800,h2=3;class hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(t){let s=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(s++>h2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oo._getInstance(l2()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new s2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Md();return await Hg(t,So,"1"),await Bg(t,So),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hg(r,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(r=>u2(r,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bg(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const d=Ro(o,!1).getAll();return new Mr(d).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:d}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(d)&&(this.notifyListeners(o,d),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hb.type="LOCAL";const f2=hb;new Or(3e4,6e4);function fb(i,t){return t?In(t):(re(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class sh extends Fd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ri(t,this._buildIdpRequest())}_linkToIdToken(t,s){return ri(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return ri(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function m2(i){return sb(i.auth,new sh(i),i.bypassAuthState)}function p2(i){const{auth:t,user:s}=i;return re(s,t,"internal-error"),$_(s,new sh(i),i.bypassAuthState)}async function g2(i){const{auth:t,user:s}=i;return re(s,t,"internal-error"),q_(s,new sh(i),i.bypassAuthState)}class mb{constructor(t,s,r,o,d=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:r,postBody:o,tenantId:d,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:s,sessionId:r,tenantId:d||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(b){this.reject(b)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:Yt(this.auth,"internal-error")}}resolve(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const b2=new Or(2e3,1e4);async function y2(i,t,s){if(Qt(i.app))return Promise.reject(rn(i,"operation-not-supported-in-this-environment"));const r=qn(i);Q1(i,t,th);const o=fb(r,s);return new Zs(r,"signInViaPopup",t,o).executeNotNull()}class Zs extends mb{constructor(t,s,r,o,d){super(t,s,o,d),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return re(t,this.auth,"internal-error"),t}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const t=nh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,b2.get())};t()}}Zs.currentPopupAction=null;const v2="pendingRedirect",po=new Map;class x2 extends mb{constructor(t,s,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let t=po.get(this.auth._key());if(!t){try{const r=await w2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(s){t=()=>Promise.reject(s)}po.set(this.auth._key(),t)}return this.bypassAuthState||po.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w2(i,t){const s=E2(t),r=S2(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function _2(i,t){po.set(i._key(),t)}function S2(i){return In(i._redirectPersistence)}function E2(i){return mo(v2,i.config.apiKey,i.name)}async function T2(i,t,s=!1){if(Qt(i.app))return Promise.reject(zn(i));const r=qn(i),o=fb(r,t),f=await new x2(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const j2=600*1e3;class N2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(s=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!A2(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){if(t.error&&!pb(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";s.onError(rn(this.auth,r))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const r=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pg(t))}saveEventToCache(t){this.cachedEventUids.add(Pg(t)),this.lastProcessedEventTime=Date.now()}}function Pg(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function pb({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function A2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(i);default:return!1}}async function k2(i,t={}){return fn(i,"GET","/v1/projects",t)}const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O2=/^https?/;async function R2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await k2(i);for(const s of t)try{if(D2(s))return}catch{}Yt(i,"unauthorized-domain")}function D2(i){const t=Rd(),{protocol:s,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!O2.test(s))return!1;if(C2.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const M2=new Or(3e4,6e4);function qg(){const i=dn().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function U2(i){return new Promise((t,s)=>{function r(){qg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qg(),s(rn(i,"network-request-failed"))},timeout:M2.get()})}if(dn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(dn().gapi?.load)r();else{const o=__("iframefcb");return dn()[o]=()=>{gapi.load?r():s(rn(i,"network-request-failed"))},F0(`${w_()}?onload=${o}`).catch(d=>s(d))}}).catch(t=>{throw go=null,t})}let go=null;function L2(i){return go=go||U2(i),go}const I2=new Or(5e3,15e3),z2="__/auth/iframe",H2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q2(i){const t=i.config;re(t.authDomain,i,"auth-domain-config-required");const s=t.emulator?Jd(t,H2):`https://${i.config.authDomain}/${z2}`,r={apiKey:t.apiKey,appName:i.name,v:Cr},o=P2.get(i.config.apiHost);o&&(r.eid=o);const d=i._getFrameworks();return d.length&&(r.fw=d.join(",")),`${s}?${kr(r).slice(1)}`}async function $2(i){const t=await L2(i),s=dn().gapi;return re(s,i,"internal-error"),t.open({where:document.body,url:q2(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise(async(o,d)=>{await r.restyle({setHideOnLeave:!1});const f=rn(i,"network-request-failed"),m=dn().setTimeout(()=>{d(f)},I2.get());function g(){dn().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{d(f)})}))}const G2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,K2=600,Q2="_blank",Y2="http://localhost";class $g{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W2(i,t,s,r=V2,o=K2){const d=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...G2,width:r.toString(),height:o.toString(),top:d,left:f},b=xt().toLowerCase();s&&(m=K0(b)?Q2:s),G0(b)&&(t=t||Y2,g.scrollbars="yes");const v=Object.entries(g).reduce((x,[S,E])=>`${x}${S}=${E},`,"");if(h_(b)&&m!=="_self")return J2(t||"",m),new $g(null);const w=window.open(t||"",m,v);re(w,i,"popup-blocked");try{w.focus()}catch{}return new $g(w)}function J2(i,t){const s=document.createElement("a");s.href=i,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const X2="__/auth/handler",Z2="emulator/auth/handler",F2=encodeURIComponent("fac");async function Gg(i,t,s,r,o,d){re(i.config.authDomain,i,"auth-domain-config-required"),re(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:Cr,eventId:o};if(t instanceof th){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",Rw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(t instanceof Dr){const v=t.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await i._getAppCheckToken(),b=g?`#${F2}=${encodeURIComponent(g)}`:"";return`${eS(i)}?${kr(m).slice(1)}${b}`}function eS({config:i}){return i.emulator?Jd(i,Z2):`https://${i.authDomain}/${X2}`}const pd="webStorageSupport";class tS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=T2,this._overrideRedirectResult=_2}async _openPopup(t,s,r,o){Bn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const d=await Gg(t,s,r,Rd(),o);return W2(t,d,nh())}async _openRedirect(t,s,r,o){await this._originValidation(t);const d=await Gg(t,s,r,Rd(),o);return a2(d),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:o,promise:d}=this.eventManagers[s];return o?Promise.resolve(o):(Bn(d,"If manager is not set, promise should be"),d)}const r=this.initAndGetManager(t);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(t){const s=await $2(t),r=new N2(t);return s.register("authEvent",o=>(re(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=s,r}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(pd,{type:pd},o=>{const d=o?.[0]?.[pd];d!==void 0&&s(!!d),Yt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=R2(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return X0()||V0()||Zd()}}const nS=tS;var Vg="@firebase/auth",Kg="1.12.0";class sS{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iS(i){yr(new ui("auth",(t,{options:s})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),d=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;re(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(i)},b=new y_(r,o,d,g);return A_(b,s),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,r)=>{t.getProvider("auth-internal").initialize()})),yr(new ui("auth-internal",t=>{const s=qn(t.getProvider("auth").getImmediate());return(r=>new sS(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(Vg,Kg,aS(i)),si(Vg,Kg,"esm2020")}const rS=300,lS=k0("authIdTokenMaxAge")||rS;let Qg=null;const oS=i=>async t=>{const s=t&&await t.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>lS)return;const o=s?.token;Qg!==o&&(Qg=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cS(i=M1()){const t=D0(i,"auth");if(t.isInitialized())return t.getImmediate();const s=N_(i,{popupRedirectResolver:nS,persistence:[f2,t2,ob]}),r=k0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(r,location.origin);if(location.origin===d.origin){const f=oS(d.toString());J_(s,f,()=>f(s.currentUser)),W_(s,m=>f(m))}}const o=gw("auth");return o&&k_(s,`http://${o}`),s}function uS(){return document.getElementsByTagName("head")?.[0]??document}v_({loadJS(i){return new Promise((t,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=o=>{const d=rn("internal-error");d.customData=o,s(d)},r.type="text/javascript",r.charset="UTF-8",uS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iS("Browser");var dS="firebase",hS="12.9.0";si(dS,hS,"app");const fS={apiKey:"AIzaSyBSBtQQCQKY1ThPFKI6rsyHDzDbviG7c-0",authDomain:"nico-habit-tracker.firebaseapp.com",projectId:"nico-habit-tracker",storageBucket:"nico-habit-tracker.firebasestorage.app",messagingSenderId:"797973449801",appId:"1:797973449801:web:e611015ece4fd8d5d5c398"},mS=M0(fS),bs=cS(mS);function Do(i,t){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(s[r[o]]=i[r[o]]);return s}function pS(i,t,s,r){function o(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(v){try{b(r.next(v))}catch(w){f(w)}}function g(v){try{b(r.throw(v))}catch(w){f(w)}}function b(v){v.done?d(v.value):o(v.value).then(m,g)}b((r=r.apply(i,t||[])).next())})}const gS=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class ah extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class bS extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yg extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wg extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ud;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ud||(Ud={}));class yS{constructor(t,{headers:s={},customFetch:r,region:o=Ud.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=gS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pS(this,arguments,void 0,function*(s,r={}){var o;let d,f;try{const{headers:m,method:g,body:b,signal:v,timeout:w}=r;let x={},{region:S}=r;S||(S=this.region);const E=new URL(`${this.url}/${s}`);S&&S!=="any"&&(x["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let D;b&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",D=b):typeof b=="string"?(x["Content-Type"]="text/plain",D=b):typeof FormData<"u"&&b instanceof FormData?D=b:(x["Content-Type"]="application/json",D=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?D=JSON.stringify(b):D=b;let z=v;w&&(f=new AbortController,d=setTimeout(()=>f.abort(),w),v?(z=f.signal,v.addEventListener("abort",()=>f.abort())):z=f.signal);const H=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:D,signal:z}).catch(te=>{throw new bS(te)}),P=H.headers.get("x-relay-error");if(P&&P==="true")throw new Yg(H);if(!H.ok)throw new Wg(H);let B=((o=H.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),K;return B==="application/json"?K=yield H.json():B==="application/octet-stream"||B==="application/pdf"?K=yield H.blob():B==="text/event-stream"?K=H:B==="multipart/form-data"?K=yield H.formData():K=yield H.text(),{data:K,error:null,response:H}}catch(m){return{data:null,error:m,response:m instanceof Wg||m instanceof Yg?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var vS=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},xS=class{constructor(i){var t,s,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(r=i.urlLengthLimit)!==null&&r!==void 0?r:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,g=null,b=d.status,v=d.statusText;if(d.ok){var w,x;if(s.method!=="HEAD"){var S;const H=await d.text();H===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((S=s.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=H:m=JSON.parse(H))}const D=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),z=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&z&&z.length>1&&(g=parseInt(z[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,b=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var E;const D=await d.text();try{f=JSON.parse(D),Array.isArray(f)&&d.status===404&&(m=[],f=null,b=200,v="OK")}catch{d.status===404&&D===""?(b=204,v="No Content"):f={message:D}}if(f&&s.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,b=200,v="OK"),f&&s.shouldThrowOnError)throw new vS(f)}return{error:f,data:m,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(o=o.catch(d=>{var f;let m="",g="",b="";const v=d?.cause;if(v){var w,x,S,E;const H=(w=v?.message)!==null&&w!==void 0?w:"",P=(x=v?.code)!==null&&x!==void 0?x:"";m=`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(E=v?.name)!==null&&E!==void 0?E:"Error"}: ${H}`,P&&(m+=` (${P})`),v?.stack&&(m+=`
${v.stack}`)}else{var D;m=(D=d?.stack)!==null&&D!==void 0?D:""}const z=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(b="",g="Request was aborted (timeout or manual cancellation)",z>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${z} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(b="",g="HTTP headers exceeded server limits (typically 16KB)",z>this.urlLengthLimit&&(g+=`. Your request URL is ${z} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:g,code:b},data:null,count:null,status:0,statusText:""}})),o.then(i,t)}returns(){return this}overrideTypes(){return this}},wS=class extends xS{select(i){let t=!1;const s=(i??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const d=o?`${o}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,t,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(d,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:d="text"}={}){var f;const m=[i?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Jg=new RegExp("[,()]");var Xa=class extends wS{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&Jg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&Jg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${o}fts${d}.${t}`),this}match(i){return Object.entries(i).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(i,t,s){return this.url.searchParams.append(i,`not.${t}.${s}`),this}or(i,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,t,s){return this.url.searchParams.append(i,`${t}.${s}`),this}},_S=class{constructor(i,{headers:t={},schema:s,fetch:r,urlLengthLimit:o=8e3}){this.url=i,this.headers=new Headers(t),this.schema=s,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:s=!1,count:r}=t??{},o=s?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(b=>/\s/.test(b)&&!d?"":(b==='"'&&(d=!d),b)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),r&&g.append("Prefer",`count=${r}`),new Xa({method:o,url:m,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:s=!0}={}){var r;const o="POST",{url:d,headers:f}=this.cloneRequestState();if(t&&f.append("Prefer",`count=${t}`),s||f.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(m.length>0){const g=[...new Set(m)].map(b=>`"${b}"`);d.searchParams.set("columns",g.join(","))}}return new Xa({method:o,url:d,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var d;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),r&&g.append("Prefer",`count=${r}`),o||g.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(b.length>0){const v=[...new Set(b)].map(w=>`"${w}"`);m.searchParams.set("columns",v.join(","))}}return new Xa({method:f,url:m,headers:g,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var s;const r="PATCH",{url:o,headers:d}=this.cloneRequestState();return t&&d.append("Prefer",`count=${t}`),new Xa({method:r,url:o,headers:d,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const s="DELETE",{url:r,headers:o}=this.cloneRequestState();return i&&o.append("Prefer",`count=${i}`),new Xa({method:s,url:r,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function wr(i){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(i)}function SS(i,t){if(wr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(wr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function ES(i){var t=SS(i,"string");return wr(t)=="symbol"?t:t+""}function TS(i,t,s){return(t=ES(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Xg(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function ao(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(s),!0).forEach(function(r){TS(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Xg(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}var jS=class gb{constructor(t,{headers:s={},schema:r,fetch:o,timeout:d,urlLengthLimit:f=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.urlLengthLimit=f;const m=o??globalThis.fetch;d!==void 0&&d>0?this.fetch=(g,b)=>{const v=new AbortController,w=setTimeout(()=>v.abort(),d),x=b?.signal;if(x){if(x.aborted)return clearTimeout(w),m(g,b);const S=()=>{clearTimeout(w),v.abort()};return x.addEventListener("abort",S,{once:!0}),m(g,ao(ao({},b),{},{signal:v.signal})).finally(()=>{clearTimeout(w),x.removeEventListener("abort",S)})}return m(g,ao(ao({},b),{},{signal:v.signal})).finally(()=>clearTimeout(w))}:this.fetch=m}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _S(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new gb(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:r=!1,get:o=!1,count:d}={}){var f;let m;const g=new URL(`${this.url}/rpc/${t}`);let b;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),w=r&&Object.values(s).some(v);w?(m="POST",b=s):r||o?(m=r?"HEAD":"GET",Object.entries(s).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{g.searchParams.append(S,E)})):(m="POST",b=s);const x=new Headers(this.headers);return w?x.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&x.set("Prefer",`count=${d}`),new Xa({method:m,url:g,headers:x,schema:this.schemaName,body:b,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class NS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const o=r.node,d=parseInt(o.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AS="2.95.3",kS=`realtime-js/${AS}`,CS="1.0.0",bb="2.0.0",Zg=bb,Ld=1e4,OS=1e3,RS=100;var ys;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ys||(ys={}));var nt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(nt||(nt={}));var tn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(tn||(tn={}));var Id;(function(i){i.websocket="websocket"})(Id||(Id={}));var Js;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Js||(Js={}));class DS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,s,r){var o,d;const f=t.topic,m=(o=t.ref)!==null&&o!==void 0?o:"",g=(d=t.join_ref)!==null&&d!==void 0?d:"",b=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+b.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(S),D=0;E.setUint8(D++,this.KINDS.userBroadcastPush),E.setUint8(D++,g.length),E.setUint8(D++,m.length),E.setUint8(D++,f.length),E.setUint8(D++,b.length),E.setUint8(D++,w.length),E.setUint8(D++,s),Array.from(g,H=>E.setUint8(D++,H.charCodeAt(0))),Array.from(m,H=>E.setUint8(D++,H.charCodeAt(0))),Array.from(f,H=>E.setUint8(D++,H.charCodeAt(0))),Array.from(b,H=>E.setUint8(D++,H.charCodeAt(0))),Array.from(w,H=>E.setUint8(D++,H.charCodeAt(0)));var z=new Uint8Array(S.byteLength+r.byteLength);return z.set(new Uint8Array(S),0),z.set(new Uint8Array(r),S.byteLength),z.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,d,f,m,g]=r;return s({join_ref:o,ref:d,topic:f,event:m,payload:g})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),o=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,o)}_decodeUserBroadcast(t,s,r){const o=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const b=r.decode(t.slice(g,g+o));g=g+o;const v=r.decode(t.slice(g,g+d));g=g+d;const w=r.decode(t.slice(g,g+f));g=g+f;const x=t.slice(g,t.byteLength),S=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,E={type:this.BROADCAST_EVENT,event:v,payload:S};return f>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>s.includes(r)))}}class yb{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Le||(Le={}));const Fg=(i,t,s={})=>{var r;const o=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((d,f)=>(d[f]=MS(f,i,t,o),d),{}):{}},MS=(i,t,s,r)=>{const o=t.find(m=>m.name===i),d=o?.type,f=s[i];return d&&!r.includes(d)?vb(d,f):zd(f)},vb=(i,t)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return zS(t,s)}switch(i){case Le.bool:return US(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return LS(t);case Le.json:case Le.jsonb:return IS(t);case Le.timestamp:return HS(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return zd(t);default:return zd(t)}},zd=i=>i,US=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},LS=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},IS=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},zS=(i,t)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let d;const f=i.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>vb(t,m))}return i},HS=i=>typeof i=="string"?i.replace(" ","T"):i,xb=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gd{constructor(t,s,r={},o=Ld){this.channel=t,this.event=s,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var e0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(e0||(e0={}));class mr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mr.syncState(this.state,o,d,f),this.pendingDiffs.forEach(g=>{this.state=mr.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=mr.syncDiff(this.state,o,d,f),m())}),this.onJoin((o,d,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:d,newPresences:f})}),this.onLeave((o,d,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,o){const d=this.cloneDeep(t),f=this.transformState(s),m={},g={};return this.map(d,(b,v)=>{f[b]||(g[b]=v)}),this.map(f,(b,v)=>{const w=d[b];if(w){const x=v.map(z=>z.presence_ref),S=w.map(z=>z.presence_ref),E=v.filter(z=>S.indexOf(z.presence_ref)<0),D=w.filter(z=>x.indexOf(z.presence_ref)<0);E.length>0&&(m[b]=E),D.length>0&&(g[b]=D)}else m[b]=v}),this.syncDiff(d,{joins:m,leaves:g},r,o)}static syncDiff(t,s,r,o){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(d,(m,g)=>{var b;const v=(b=t[m])!==null&&b!==void 0?b:[];if(t[m]=this.cloneDeep(g),v.length>0){const w=t[m].map(S=>S.presence_ref),x=v.filter(S=>w.indexOf(S.presence_ref)<0);t[m].unshift(...x)}r(m,v,g)}),this.map(f,(m,g)=>{let b=t[m];if(!b)return;const v=g.map(w=>w.presence_ref);b=b.filter(w=>v.indexOf(w.presence_ref)<0),t[m]=b,o(m,b,g),b.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const o=t[r];return"metas"in o?s[r]=o.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[r]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(t0||(t0={}));var pr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(pr||(pr={}));var Mn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class ti{constructor(t,s={config:{}},r){var o,d;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new gd(this,tn.join,this.params,this.timeout),this.rejoinTimer=new yb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new mr(this),this.broadcastEndpointURL=xb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,o,d;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,b=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[pr.PRESENCE]&&this.bindings[pr.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:b,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Mn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(Mn.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,z=(E=D?.length)!==null&&E!==void 0?E:0,H=[];for(let P=0;P<z;P++){const B=D[P],{filter:{event:K,schema:te,table:Z,filter:Y}}=B,ve=S&&S[P];if(ve&&ve.event===K&&ti.isFilterValueEqual(ve.schema,te)&&ti.isFilterValueEqual(ve.table,Z)&&ti.isFilterValueEqual(ve.filter,Y))H.push(Object.assign(Object.assign({},B),{id:ve.id}));else{this.unsubscribe(),this.state=nt.errored,t?.(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,t&&t(Mn.SUBSCRIBED);return}}).receive("error",S=>{this.state=nt.errored,t?.(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===nt.joined&&t===pr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const b=await m.json();g=b.error||b.message||g}catch{}return Promise.reject(new Error(g))}async send(t,s={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=b.body)===null||o===void 0?void 0:o.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const b=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),b.receive("ok",()=>d("ok")),b.receive("error",()=>d("error")),b.receive("timeout",()=>d("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new gd(this,tn.leave,{},t),r.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const o=new AbortController,d=setTimeout(()=>o.abort(),r),f=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(d),f}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gd(this,t,s,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>RS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var o,d;const f=t.toLocaleLowerCase(),{close:m,error:g,leave:b,join:v}=tn;if(r&&[m,g,b,v].indexOf(f)>=0&&r!==this._joinRef())return;let x=this._onMessage(f,s,r);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var E,D,z;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((z=(D=S.filter)===null||D===void 0?void 0:D.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===f}).map(S=>S.callback(x,r)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var E,D,z,H,P,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const K=S.id,te=(E=S.filter)===null||E===void 0?void 0:E.event;return K&&((D=s.ids)===null||D===void 0?void 0:D.includes(K))&&(te==="*"||te?.toLocaleLowerCase()===((z=s.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const K=(P=(H=S?.filter)===null||H===void 0?void 0:H.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return K==="*"||K===((B=s?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:D,table:z,commit_timestamp:H,type:P,errors:B}=E;x=Object.assign(Object.assign({},{schema:D,table:z,commit_timestamp:H,eventType:P,new:{},old:{},errors:B}),this._getPayloadRecords(E))}S.callback(x,r)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const o=t.toLocaleLowerCase(),d={type:o,filter:s,callback:r};return this.bindings[o]?this.bindings[o].push(d):this.bindings[o]=[d],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var d;return!(((d=o.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&ti.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Fg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Fg(t.columns,t.old_record)),s}}const bd=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BS=[1e3,2e3,5e3,1e4],PS=1e4,qS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $S{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ld,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.vsn=Zg,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new DS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...d)=>o(...d):(...d)=>fetch(...d),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Id.websocket}`,this.httpEndpoint=xb(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return s==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ys.connecting:return Js.Connecting;case ys.open:return Js.Open;case ys.closing:return Js.Closing;default:return Js.Closed}}isConnected(){return this.connectionState()===Js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(d=>d.topic===r);if(o)return o;{const d=new ti(`realtime:${t}`,s,this);return this.channels.push(d),d}}push(t){const{topic:s,event:r,payload:o,ref:d}=t,f=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${r} (${d})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(OS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",b)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:d,ref:f}=s,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${r} ${o} ${m}`.trim(),d),this.channels.filter(b=>b._isMember(r)).forEach(b=>b._trigger(o,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ys.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ys.open||this.conn.readyState===ys.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${r}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([qS],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,r=!1;if(t)s=t,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const d={access_token:s,version:kS};s&&o.updateJoinPayload(d),o.joinedOnce&&o._isJoined()&&o._push(tn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,o,d,f,m,g,b,v,w,x,S;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ld,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:io.HEARTBEAT_INTERVAL,this.worker=(d=t?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:bd,this.vsn=(g=t?.vsn)!==null&&g!==void 0?g:Zg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=t?.reconnectAfterMs)!==null&&b!==void 0?b:(E=>BS[E-1]||PS),this.vsn){case CS:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((E,D)=>D(JSON.stringify(E))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((E,D)=>D(JSON.parse(E)));break;case bb:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var _r=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GS(i,t,s){const r=new URL(t,i);if(s)for(const[o,d]of Object.entries(s))d!==void 0&&r.searchParams.set(o,d);return r.toString()}async function VS(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function KS(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:o,body:d,headers:f}){const m=GS(i.baseUrl,r,o),g=await VS(i.auth),b=await t(m,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),v=await b.text(),w=(b.headers.get("content-type")||"").includes("application/json"),x=w&&v?JSON.parse(v):v;if(!b.ok){const S=w?x:void 0,E=S?.error;throw new _r(E?.message??`Request failed with status ${b.status}`,{status:b.status,icebergType:E?.type,icebergCode:E?.code,details:S})}return{status:b.status,headers:b.headers,data:x}}}}function ro(i){return i.join("")}var QS=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:ro(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,t){const s={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(i.namespace)}`}),!0}catch(t){if(t instanceof _r&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(s){if(s instanceof _r&&s.status===409)return;throw s}}};function Va(i){return i.join("")}var YS=class{constructor(i,t="",s){this.client=i,this.prefix=t,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(i,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Va(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(s){if(s instanceof _r&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(s){if(s instanceof _r&&s.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw s}}},WS=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=KS({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new QS(this.client,t),this.tableOps=new YS(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},Mo=class extends Error{constructor(i,t="storage",s,r){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function Uo(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var lo=class extends Mo{constructor(i,t,s,r="storage"){super(i,r,t,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wb=class extends Mo{constructor(i,t,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const JS=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),XS=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Hd=i=>{if(Array.isArray(i))return i.map(s=>Hd(s));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([s,r])=>{const o=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));t[o]=Hd(r)}),t},ZS=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Sr(i){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(i)}function FS(i,t){if(Sr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(Sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function eE(i){var t=FS(i,"string");return Sr(t)=="symbol"?t:t+""}function tE(i,t,s){return(t=eE(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function n0(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function ie(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?n0(Object(s),!0).forEach(function(r){tE(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):n0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const s0=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},nE=async(i,t,s,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const o=i,d=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const m=f?.statusCode||f?.code||d+"";t(new lo(s0(f),d,m,r))}).catch(()=>{if(r==="vectors"){const f=d+"";t(new lo(o.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";t(new lo(o.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";t(new lo(o.statusText||`HTTP ${d} error`,d,f,r))}}else t(new wb(s0(i),i,r))},sE=(i,t,s,r)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"||i==="HEAD"||!r?ie(ie({},o),s):(XS(r)?(o.headers=ie({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),ie(ie({},o),s))};async function or(i,t,s,r,o,d,f){return new Promise((m,g)=>{i(s,sE(t,r,o,d)).then(b=>{if(!b.ok)throw b;if(r?.noResolveJson)return b;if(f==="vectors"){const v=b.headers.get("content-type");if(b.headers.get("content-length")==="0"||b.status===204)return{};if(!v||!v.includes("application/json"))return{}}return b.json()}).then(b=>m(b)).catch(b=>nE(b,g,r,f))})}function _b(i="storage"){return{get:async(t,s,r,o)=>or(t,"GET",s,r,o,void 0,i),post:async(t,s,r,o,d)=>or(t,"POST",s,o,d,r,i),put:async(t,s,r,o,d)=>or(t,"PUT",s,o,d,r,i),head:async(t,s,r,o)=>or(t,"HEAD",s,ie(ie({},r),{},{noResolveJson:!0}),o,void 0,i),remove:async(t,s,r,o,d)=>or(t,"DELETE",s,o,d,r,i)}}const aE=_b("storage"),{get:Er,post:en,put:Bd,head:iE,remove:ih}=aE,Lt=_b("vectors");var fi=class{constructor(i,t={},s,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=JS(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Uo(s))return{data:null,error:s};throw s}}},rE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Uo(t))return{data:null,error:t};throw t}}};let Sb;Sb=Symbol.toStringTag;var lE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[Sb]="BlobDownloadBuilder",this.promise=null}asStream(){return new rE(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Uo(t))return{data:null,error:t};throw t}}};const oE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cE=class extends fi{constructor(i,t={},s,r){super(i,t,r,"storage"),this.bucketId=s}async uploadOrUpdate(i,t,s,r){var o=this;return o.handleOperation(async()=>{let d;const f=ie(ie({},a0),r);let m=ie(ie({},o.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",o.encodeMetadata(g)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",o.encodeMetadata(g))):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(m=ie(ie({},m),r.headers));const b=o._removeEmptyFolders(t),v=o._getFinalPath(b),w=await(i=="PUT"?Bd:en)(o.fetch,`${o.url}/object/${v}`,d,ie({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:b,id:w.Id,fullPath:w.Key}})}async upload(i,t,s){return this.uploadOrUpdate("POST",i,t,s)}async uploadToSignedUrl(i,t,s,r){var o=this;const d=o._removeEmptyFolders(i),f=o._getFinalPath(d),m=new URL(o.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",t),o.handleOperation(async()=>{let g;const b=ie({upsert:a0.upsert},r),v=ie(ie({},o.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",b.cacheControl)):(g=s,v["cache-control"]=`max-age=${b.cacheControl}`,v["content-type"]=b.contentType),{path:d,fullPath:(await Bd(o.fetch,m.toString(),g,{headers:v})).Key}})}async createSignedUploadUrl(i,t){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(i);const o=ie({},s.headers);t?.upsert&&(o["x-upsert"]="true");const d=await en(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:o}),f=new URL(s.url+d.url),m=f.searchParams.get("token");if(!m)throw new Mo("No token returned by API");return{signedUrl:f.toString(),path:i,token:m}})}async update(i,t,s){return this.uploadOrUpdate("PUT",i,t,s)}async move(i,t,s){var r=this;return r.handleOperation(async()=>await en(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:r.headers}))}async copy(i,t,s){var r=this;return r.handleOperation(async()=>({path:(await en(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,t,s){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(i),d=await en(r.fetch,`${r.url}/object/sign/${o}`,ie({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:r.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(i,t,s){var r=this;return r.handleOperation(async()=>{const o=await en(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:i},{headers:r.headers}),d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o.map(f=>ie(ie({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(i,t,s){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),d=o?`?${o}`:"",f=this._getFinalPath(i),m=()=>Er(this.fetch,`${this.url}/${r}/${f}${d}`,{headers:this.headers,noResolveJson:!0},s);return new lE(m,this.shouldThrowOnError)}async info(i){var t=this;const s=t._getFinalPath(i);return t.handleOperation(async()=>Hd(await Er(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(i){var t=this;const s=t._getFinalPath(i);try{return await iE(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Uo(r)&&r instanceof wb){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,t){const s=this._getFinalPath(i),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const d=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&r.push(f);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await ih(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,s){var r=this;return r.handleOperation(async()=>{const o=ie(ie(ie({},oE),t),{},{prefix:i||""});return await en(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},s)})}async listV2(i,t){var s=this;return s.handleOperation(async()=>{const r=ie({},i);return await en(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const uE="2.95.3",Ur={"X-Client-Info":`storage-js/${uE}`};var dE=class extends fi{constructor(i,t={},s,r){const o=new URL(i);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const d=o.href.replace(/\/$/,""),f=ie(ie({},Ur),t);super(d,f,s,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(i);return await Er(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Er(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var s=this;return s.handleOperation(async()=>await en(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,t){var s=this;return s.handleOperation(async()=>await Bd(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await en(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await ih(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hE=class extends fi{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=ie(ie({},Ur),t);super(r,o,s,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await en(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;i?.limit!==void 0&&s.set("limit",i.limit.toString()),i?.offset!==void 0&&s.set("offset",i.offset.toString()),i?.sortColumn&&s.set("sortColumn",i.sortColumn),i?.sortOrder&&s.set("sortOrder",i.sortOrder),i?.search&&s.set("search",i.search);const r=s.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Er(t.fetch,o,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await ih(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!ZS(i))throw new Mo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new WS({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(o,d){const f=o[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(o,m),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}}}})}},fE=class extends fi{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=ie(ie({},Ur),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var s=this;return s.handleOperation(async()=>await Lt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var s=this;return s.handleOperation(async()=>await Lt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers})||{})}},mE=class extends fi{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=ie(ie({},Ur),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},pE=class extends fi{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=ie(ie({},Ur),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},gE=class extends pE{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new bE(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,s=this;return t().call(s,i)}async getBucket(i){var t=()=>super.getBucket,s=this;return t().call(s,i)}async listBuckets(i={}){var t=()=>super.listBuckets,s=this;return t().call(s,i)}async deleteBucket(i){var t=()=>super.deleteBucket,s=this;return t().call(s,i)}},bE=class extends fE{constructor(i,t,s,r){super(i,t,r),this.vectorBucketName=s}async createIndex(i){var t=()=>super.createIndex,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,i)}index(i){return new yE(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},yE=class extends mE{constructor(i,t,s,r,o){super(i,t,o),this.vectorBucketName=s,this.indexName=r}async putVectors(i){var t=()=>super.putVectors,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var t=()=>super.getVectors,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,s=this;return t().call(s,ie(ie({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},vE=class extends dE{constructor(i,t={},s,r){super(i,t,s,r)}from(i){return new cE(this.url,this.headers,i,this.fetch)}get vectors(){return new gE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hE(this.url+"/iceberg",this.headers,this.fetch)}};const Eb="2.95.3",Za=30*1e3,Pd=3,yd=Pd*Za,xE="http://localhost:9999",wE="supabase.auth.token",_E={"X-Client-Info":`gotrue-js/${Eb}`},qd="X-Supabase-Api-Version",Tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EE=600*1e3;class Tr extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function F(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class TE extends Tr{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function jE(i){return F(i)&&i.name==="AuthApiError"}class Xs extends Tr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class $n extends Tr{constructor(t,s,r,o){super(t,r,o),this.name=s,this.status=r}}class Ut extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vd(i){return F(i)&&i.name==="AuthSessionMissingError"}class Ka extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends $n{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class co extends $n{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NE(i){return F(i)&&i.name==="AuthImplicitGrantRedirectError"}class i0 extends $n{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AE extends $n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $d extends $n{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function xd(i){return F(i)&&i.name==="AuthRetryableFetchError"}class r0 extends $n{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Gd extends $n{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),l0=` 	
\r=`.split(""),kE=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<l0.length;t+=1)i[l0[t].charCodeAt(0)]=-2;for(let t=0;t<To.length;t+=1)i[To[t].charCodeAt(0)]=t;return i})();function o0(i,t,s){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(To[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(To[r]),t.queuedBits-=6}}function jb(i,t,s){const r=kE[i];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function c0(i){const t=[],s=f=>{t.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},d=f=>{RE(f,r,s)};for(let f=0;f<i.length;f+=1)jb(i.charCodeAt(f),o,d);return t.join("")}function CE(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function OE(i,t){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}CE(r,t)}}function RE(i,t,s){if(t.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function li(i){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<i.length;o+=1)jb(i.charCodeAt(o),s,r);return new Uint8Array(t)}function DE(i){const t=[];return OE(i,s=>t.push(s)),new Uint8Array(t)}function Fs(i){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};return i.forEach(o=>o0(o,s,r)),o0(null,s,r),t.join("")}function ME(i){return Math.round(Date.now()/1e3)+i}function UE(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Nb=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function LE(i){const t={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,d)=>{t[d]=o})}catch{}return s.searchParams.forEach((r,o)=>{t[o]=r}),t}const Ab=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),IE=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Fa=async(i,t,s)=>{await i.setItem(t,JSON.stringify(s))},Qs=async(i,t)=>{const s=await i.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ft=async(i,t)=>{await i.removeItem(t)};class Lo{constructor(){this.promise=new Lo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Lo.promiseConstructor=Promise;function uo(i){const t=i.split(".");if(t.length!==3)throw new Gd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!SE.test(t[r]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(c0(t[0])),payload:JSON.parse(c0(t[1])),signature:li(t[2]),raw:{header:t[0],payload:t[1]}}}async function zE(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function HE(i,t){return new Promise((r,o)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!t(d,null,f)){r(f);return}}catch(f){if(!t(d,f)){o(f);return}}})()})}function BE(i){return("0"+i.toString(16)).substr(-2)}function PE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let o="";for(let d=0;d<56;d++)o+=s.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,BE).join("")}async function qE(i){const s=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(r);return Array.from(o).map(d=>String.fromCharCode(d)).join("")}async function $E(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await qE(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qa(i,t,s=!1){const r=PE();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await Fa(i,`${t}-code-verifier`,o);const d=await $E(r);return[d,r===d?"plain":"s256"]}const GE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VE(i){const t=i.headers.get(qd);if(!t||!t.match(GE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KE(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function QE(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(i){if(!YE.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wd(){const i={};return new Proxy(i,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WE(i,t){return new Proxy(i,{get:(s,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,o)}})}function u0(i){return JSON.parse(JSON.stringify(i))}const Ws=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),JE=[502,503,504];async function d0(i){var t;if(!IE(i))throw new $d(Ws(i),0);if(JE.includes(i.status))throw new $d(Ws(i),i.status);let s;try{s=await i.json()}catch(d){throw new Xs(Ws(d),d)}let r;const o=VE(i);if(o&&o.getTime()>=Tb["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new r0(Ws(s),i.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new r0(Ws(s),i.status,s.weak_password.reasons);throw new TE(Ws(s),i.status||500,r)}const XE=(i,t,s,r)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))};async function se(i,t,s,r){var o;const d=Object.assign({},r?.headers);d[qd]||(d[qd]=Tb["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await ZE(i,t,s+m,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function ZE(i,t,s,r,o,d){const f=XE(t,r,o,d);let m;try{m=await i(s,Object.assign({},f))}catch(g){throw console.error(g),new $d(Ws(g),0)}if(m.ok||await d0(m),r?.noResolveJson)return m;try{return await m.json()}catch(g){await d0(g)}}function Ft(i){var t;let s=null;tT(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=ME(i.expires_in)));const r=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:s,user:r},error:null}}function h0(i){const t=Ft(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=i.weak_password),t}function _s(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function FE(i){return{data:i,error:null}}function eT(i){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:d}=i,f=Do(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function f0(i){return i}function tT(i){return i.access_token&&i.refresh_token&&i.expires_in}const _d=["global","local","others"];class nT{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Ab(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=_d[0]){if(_d.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_d.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_s})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Do(t,["options"]),o=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:eT,redirectTo:s?.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_s})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,o,d,f,m,g;try{const b={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:f0});if(v.error)throw v.error;const w=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(E=>{const D=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(E.split(";")[1].split("=")[1]);b[`${z}Page`]=D}),b.total=parseInt(x)),{data:Object.assign(Object.assign({},w),b),error:null}}catch(b){if(F(b))return{data:{users:[]},error:b};throw b}}async getUserById(t){Ya(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_s})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Ya(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:_s})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Ya(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:_s})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ya(t.userId);try{const{data:s,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:r}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Ya(t.userId),Ya(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,o,d,f,m,g;try{const b={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(d=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&d!==void 0?d:""},xform:f0});if(v.error)throw v.error;const w=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(E=>{const D=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(E.split(";")[1].split("=")[1]);b[`${z}Page`]=D}),b.total=parseInt(x)),{data:Object.assign(Object.assign({},w),b),error:null}}catch(b){if(F(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}}function m0(i={}){return{getItem:t=>i[t]||null,setItem:(t,s)=>{i[t]=s},removeItem:t=>{delete i[t]}}}const Wa={debug:!!(globalThis&&Nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sT extends kb{}async function aT(i,t,s){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await s()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(t===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new sT(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Wa.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function iT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cb(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function rT(i){return parseInt(i,16)}function lT(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function oT(i){var t;const{chainId:s,domain:r,expirationTime:o,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:b,scheme:v,uri:w,version:x}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=Cb(i.address),E=v?`${v}://${r}`:r,D=i.statement?`${i.statement}
`:"",z=`${E} wants you to sign in with your Ethereum account:
${S}

${D}`;let H=`URI: ${w}
Version: ${x}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(o&&(H+=`
Expiration Time: ${o.toISOString()}`),m&&(H+=`
Not Before: ${m.toISOString()}`),g&&(H+=`
Request ID: ${g}`),b){let P=`
Resources:`;for(const B of b){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);P+=`
- ${B}`}H+=P}return`${z}
${H}`}class et extends Error{constructor({message:t,code:s,cause:r,name:o}){var d;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=o??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class jo extends et{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function cT({error:i,options:t}){var s,r,o;const{publicKey:d}=t;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(Ob(f)){if(d.rp.id!==f)return new et({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function uT({error:i,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(Ob(r)){if(s.rpId!==r)return new et({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class dT{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hT=new dT;function fT(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:s,excludeCredentials:r}=i,o=Do(i,["challenge","user","excludeCredentials"]),d=li(t).buffer,f=Object.assign(Object.assign({},s),{id:li(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:d,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const b=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},b),{id:li(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return m}function mT(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:s}=i,r=Do(i,["challenge","allowCredentials"]),o=li(t).buffer,d=Object.assign(Object.assign({},r),{challenge:o});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:li(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function pT(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Fs(new Uint8Array(i.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gT(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,r=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Fs(new Uint8Array(o.authenticatorData)),clientDataJSON:Fs(new Uint8Array(o.clientDataJSON)),signature:Fs(new Uint8Array(o.signature)),userHandle:o.userHandle?Fs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ob(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function p0(){var i,t;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bT(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",t)}:{data:null,error:new jo("Empty credential response",t)}}catch(t){return{data:null,error:cT({error:t,options:i})}}}async function yT(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jo("Browser returned unexpected credential type",t)}:{data:null,error:new jo("Empty credential response",t)}}catch(t){return{data:null,error:uT({error:t,options:i})}}}const vT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function No(...i){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of i)if(o)for(const d in o){const f=o[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(s(f))r[d]=f;else if(t(f)){const m=r[d];t(m)?r[d]=No(m,f):r[d]=No(f)}else r[d]=f}return r}function wT(i,t){return No(vT,i,t||{})}function _T(i,t){return No(xT,i,t||{})}class ST{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:o},d){var f;try{const{data:m,error:g}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!m)return{data:null,error:g};const b=o??hT.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const w=r;if(w)v.name=`${v.id}:${w}`;else{const S=(await this.client.getUser()).data.user,E=((f=S?.user_metadata)===null||f===void 0?void 0:f.name)||S?.email||S?.id||"User";v.name=`${v.id}:${E}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=wT(m.webauthn.credential_options.publicKey,d?.create),{data:w,error:x}=await bT({publicKey:v,signal:b});return w?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const v=_T(m.webauthn.credential_options.publicKey,d?.request),{data:w,error:x}=await yT(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:b}));return w?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(m){return F(m)?{data:null,error:m}:{data:null,error:new Xs("Unexpected error in challenge",m)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},d){if(!s)return{data:null,error:new Tr("rpId is required for WebAuthn authentication")};try{if(!p0())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:o},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},d){if(!s)return{data:null,error:new Tr("rpId is required for WebAuthn registration")};try{if(!p0())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:g,error:b}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:o},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:b}}catch(f){return F(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in register",f)}}}}iT();const ET={url:xE,storageKey:wE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_E,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function g0(i,t,s){return await s()}const Ja={};class jr{get jwks(){var t,s;return(s=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},ET),t);if(this.storageKey=d.storageKey,this.instanceID=(s=jr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,jr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new nT({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Ab(d.fetch),this.lock=d.lock||g0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=aT:this.lock=g0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ST(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=m0(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Eb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(mt()&&(s=LE(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:d}=await this._getSessionFromURL(s,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),NE(d)){const g=(t=d.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?this._returnResult({error:s}):this._returnResult({error:new Xs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,o;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ft}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(d){if(F(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(t){var s,r,o;try{let d;if("email"in t){const{email:v,password:w,options:x}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await Qa(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:w,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:E},xform:Ft})}else if("phone"in t){const{phone:v,password:w,options:x}=t;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ft})}else throw new oo("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(d){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(t){try{let s;if("email"in t){const{email:d,password:f,options:m}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:h0})}else if("phone"in t){const{phone:d,password:f,options:m}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:h0})}else throw new oo("You must provide either an email or phone number and a password");const{data:r,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const d=new Ka;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,o,d;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(d=t.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,o,d,f,m,g,b,v,w,x;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:D,wallet:z,statement:H,options:P}=t;let B;if(mt())if(typeof z=="object")B=z;else{const ke=window;if("ethereum"in ke&&typeof ke.ethereum=="object"&&"request"in ke.ethereum&&typeof ke.ethereum.request=="function")B=ke.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=z}const K=new URL((s=P?.url)!==null&&s!==void 0?s:window.location.href),te=await B.request({method:"eth_requestAccounts"}).then(ke=>ke).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=Cb(te[0]);let Y=(r=P?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Y){const ke=await B.request({method:"eth_chainId"});Y=rT(ke)}const ve={domain:K.host,address:Z,statement:H,uri:K.href,version:"1",chainId:Y,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(b=P?.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=oT(ve),E=await B.request({method:"personal_sign",params:[lT(S),Z]})}try{const{data:D,error:z}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ft});if(z)throw z;if(!D||!D.session||!D.user){const H=new Ka;return this._returnResult({data:{user:null,session:null},error:H})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:z})}catch(D){if(F(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(t){var s,r,o,d,f,m,g,b,v,w,x,S;let E,D;if("message"in t)E=t.message,D=t.signature;else{const{chain:z,wallet:H,statement:P,options:B}=t;let K;if(mt())if(typeof H=="object")K=H;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))K=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=H}const te=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const Z=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),P?{statement:P}:null));let Y;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")Y=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)Y=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)E=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),D=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${te.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(o=(r=B?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((b=B?.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(v=B?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const Z=await K.signMessage(new TextEncoder().encode(E),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=Z}}try{const{data:z,error:H}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Fs(D)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ft});if(H)throw H;if(!z||!z.session||!z.user){const P=new Ka;return this._returnResult({data:{user:null,session:null},error:P})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:H})}catch(z){if(F(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async _exchangeCodeForSession(t){const s=await Qs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new AE;const{data:d,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ft});if(await ft(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Ka;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:o??null}),error:f})}catch(d){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(t){try{const{options:s,provider:r,token:o,access_token:d,nonce:f}=t,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ft}),{data:g,error:b}=m;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!g||!g.session||!g.user){const v=new Ka;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:b})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,o,d,f;try{if("email"in t){const{email:m,options:g}=t;let b=null,v=null;this.flowType==="pkce"&&([b,v]=await Qa(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:b,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:m,options:g}=t,{data:b,error:v}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b?.message_id},error:v})}throw new oo("You must provide either an email or phone number.")}catch(m){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var s,r;try{let o,d;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,d=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:d}}),redirectTo:o,xform:Ft});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,b=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(o){if(F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,r,o,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Qa(this.storage,this.storageKey));const b=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:FE});return!((d=b.data)===null||d===void 0)&&d.url&&mt()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(m){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Ut;const{error:o}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(F(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:d}=t,{error:f}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:r,type:o,options:d}=t,{data:f,error:m}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new oo("You must provide either an email or phone number and a type")}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<yd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const f=await Qs(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=wd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=WE(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_s}):await this._useSession(async s=>{var r,o,d;const{data:f,error:m}=s;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0,xform:_s})})}catch(s){if(F(s))return vd(s)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:o,error:d}=r;if(d)throw d;if(!o.session)throw new Ut;const f=o.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await Qa(this.storage,this.storageKey));const{data:b,error:v}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:_s});if(v)throw v;return f.user=b.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const s=Date.now()/1e3;let r=s,o=!0,d=null;const{payload:f}=uo(t.access_token);if(f.exp&&(r=f.exp,o=r<=s),o){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});d={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:f,error:m}=s;if(m)throw m;t=(r=f.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ut;const{data:o,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!mt())throw new co("No browser detected.");if(t.error||t.error_description||t.error_code)throw new co(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new i0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new co("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new i0("No code detected.");const{data:P,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:b}=t;if(!d||!m||!f||!b)throw new co("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let x=v+w;g&&(x=parseInt(g));const S=x-v;S*1e3<=Za&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const E=x-w;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,v);const{data:D,error:z}=await this._getUser(d);if(z)throw z;const H={provider_token:r,provider_refresh_token:o,access_token:d,expires_in:w,expires_at:x,refresh_token:f,token_type:b,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:t.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:o,error:d}=s;if(d&&!vd(d))return this._returnResult({error:d});const f=(r=o.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,t);if(m&&!(jE(m)&&(m.status===404||m.status===401||m.status===403)||vd(m)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=UE(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,o;try{const{data:{session:d},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",t,"session",d)}catch(d){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",d),console.error(d)}})}async resetPasswordForEmail(t,s={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Qa(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:o}=await this._useSession(async d=>{var f,m,g,b,v;const{data:w,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(b=w.session)===null||b===void 0?void 0:b.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return mt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:o,data:{session:d}}=s;if(o)throw o;const{options:f,provider:m,token:g,access_token:b,nonce:v}=t,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:b,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ft}),{data:x,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ka}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),F(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,o;const{data:d,error:f}=s;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await HE(async o=>(o>0&&await zE(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(o,d)=>{const f=200*Math.pow(2,o);return d&&xd(d)&&Date.now()+f-r<Za})}catch(r){if(this._debug(s,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),mt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Qs(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Fa(this.userStorage,this.storageKey+"-user",f)),o.user=(t=f?.user)!==null&&t!==void 0?t:wd()}else if(o&&!o.user&&!o.user){const f=await Qs(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ft(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,o)):o.user=wd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const d=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yd;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${yd}s`),d){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),xd(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(o.access_token);!m&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Lo;const{data:d,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!d.session)throw new Ut;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(o,"error",d),F(d)){const f={data:null,error:d};return xd(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const d=u0(o);await Fa(this.storage,this.storageKey,d)}else{const o=u0(s);await Fa(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Za);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Za);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Za}ms, refresh threshold is ${Pd} ticks`),o<=Pd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const o=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await Qa(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(m.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);o.push(d.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:o,error:d}=s;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,o;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:b}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return b?this._returnResult({data:null,error:b}):(t.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pT(t.webauthn.credential_response):gT(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:fT(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:mT(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const d of(t=s?.factors)!==null&&t!==void 0?t:[])o.all.push(d),d.status==="verified"&&o[d.factor_type].push(d);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,r,o,d;if(t)try{const{payload:S}=uo(t);let E=null;S.aal&&(E=S.aal);let D=E;const{data:{user:z},error:H}=await this.getUser(t);if(H)return this._returnResult({data:null,error:H});((r=(s=z?.factors)===null||s===void 0?void 0:s.filter(K=>K.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(D="aal2");const B=S.amr||[];return{data:{currentLevel:E,nextLevel:D,currentAuthenticationMethods:B},error:null}}catch(S){if(F(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=uo(f.access_token);let b=null;g.aal&&(b=g.aal);let v=b;((d=(o=f.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(v="aal2");const x=g.amr||[];return{data:{currentLevel:b,nextLevel:v,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!o)return this._returnResult({data:null,error:new Ut});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!o)return this._returnResult({data:null,error:new Ut});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(t){if(F(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(m=>m.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===t),r&&this.jwks_cached_at+EE>o)return r;const{data:d,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=o,r=d.keys.find(m=>m.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});r=S.session.access_token}const{header:o,payload:d,signature:f,raw:{header:m,payload:g}}=uo(r);s?.allowExpired||KE(d.exp);const b=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!b){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:d,header:o,signature:f},error:null}}const v=QE(o.alg),w=await crypto.subtle.importKey("jwk",b,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,f,DE(`${m}.${g}`)))throw new Gd("Invalid JWT signature");return{data:{claims:d,header:o,signature:f},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}jr.nextInstanceID={};const TT=jr,jT="2.95.3";let dr="";typeof Deno<"u"?dr="deno":typeof document<"u"?dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dr="react-native":dr="node";const NT={"X-Client-Info":`supabase-js-${dr}/${jT}`},AT={headers:NT},kT={schema:"public"},CT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OT={};function Nr(i){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(i)}function RT(i,t){if(Nr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(Nr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function DT(i){var t=RT(i,"string");return Nr(t)=="symbol"?t:t+""}function MT(i,t,s){return(t=DT(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function b0(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function Ve(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(s),!0).forEach(function(r){MT(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):b0(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const UT=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),LT=()=>Headers,IT=(i,t,s)=>{const r=UT(s),o=LT();return async(d,f)=>{var m;const g=(m=await t())!==null&&m!==void 0?m:i;let b=new o(f?.headers);return b.has("apikey")||b.set("apikey",i),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),r(d,Ve(Ve({},f),{},{headers:b}))}};function zT(i){return i.endsWith("/")?i:i+"/"}function HT(i,t){var s,r;const{db:o,auth:d,realtime:f,global:m}=i,{db:g,auth:b,realtime:v,global:w}=t,x={db:Ve(Ve({},g),o),auth:Ve(Ve({},b),d),realtime:Ve(Ve({},v),f),storage:{},global:Ve(Ve(Ve({},w),m),{},{headers:Ve(Ve({},(s=w?.headers)!==null&&s!==void 0?s:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function BT(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PT=class extends TT{constructor(i){super(i)}},qT=class{constructor(i,t,s){var r,o;this.supabaseUrl=i,this.supabaseKey=t;const d=BT(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:kT,realtime:OT,auth:Ve(Ve({},CT),{},{storageKey:f}),global:AT},g=HT(s??{},m);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=g.auth)!==null&&b!==void 0?b:{},this.headers,g.global.fetch)}this.fetch=IT(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new jS(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new vE(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new yS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,s)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,s;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:d,flowType:f,lock:m,debug:g,throwOnError:b},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PT({url:this.authUrl.href,headers:Ve(Ve({},x),v),storageKey:d,autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,flowType:f,lock:m,debug:g,throwOnError:b,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new $S(this.realtimeUrl.href,Ve(Ve({},i),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $T=(i,t,s)=>new qT(i,t,s);function GT(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}GT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VT="https://xbzrtmylhsjzyiajytmp.supabase.co",KT="sb_publishable_22x6pt9Q7XloNwAd2ucl1Q_LpAi-A0v",sn=$T(VT,KT,{auth:{autoRefreshToken:!1,persistSession:!1}}),Rb=V.createContext({}),Lr=()=>{const i=V.useContext(Rb);if(!i)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return i},QT=({children:i})=>{const[t,s]=V.useState(null),[r,o]=V.useState(!0);V.useEffect(()=>{const x=X_(bs,S=>{s(S),o(!1)});return()=>x()},[]);const w={user:t,loading:r,signup:async(x,S,E)=>{const D=await K_(bs,x,S);E&&await zg(D.user,{displayName:E});try{await sn.from("users").insert([{userid:D.user.uid,email:x,displayname:E||null,photourl:null}])}catch(z){console.error("Error creating user profile in Supabase:",z)}return D},login:async(x,S)=>Q_(bs,x,S),loginWithGoogle:async()=>{const x=new Un,S=await y2(bs,x);try{const{data:E}=await sn.from("users").select("*").eq("userid",S.user.uid).single();E||await sn.from("users").insert([{userid:S.user.uid,email:S.user.email,displayname:S.user.displayName||null,photourl:S.user.photoURL||null}])}catch(E){console.error("Error managing user profile in Supabase:",E)}return S},logout:async()=>Z_(bs),resetPassword:async x=>V_(bs,x),updateUserProfile:async x=>{if(bs.currentUser)return zg(bs.currentUser,x)}};return c.jsx(Rb.Provider,{value:w,children:!r&&i})};function YT({setShowModal:i,setShowWorld:t,setShowEquipment:s,setShowHistory:r,setShowRewards:o,setShowStats:d,setShowIndividualStats:f,setShowBadHabits:m,setShowStrikes:g,setShowTutorial:b,theme:v,t:w}){const{user:x,logout:S}=Lr(),[E,D]=V.useState(!1),[z,H]=V.useState(!1);V.useEffect(()=>{x&&console.log("Usuario:",{displayName:x.displayName,email:x.email,photoURL:x.photoURL})},[x]);const P=async()=>{try{await S()}catch(B){console.error("Error al cerrar sesin:",B)}};return c.jsxs(c.Fragment,{children:[z&&c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 max-w-sm w-full border-2 border-red-400/50 shadow-2xl text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:c.jsx(pg,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-white font-black text-xl mb-2",children:"Cerrar sesion"}),c.jsx("p",{className:"text-white/80 text-sm mb-1",children:"Estas seguro que quieres cerrar sesion?"}),c.jsx("p",{className:"text-red-400 font-bold text-sm mb-5",children:"Se perdera todo tu progreso local"}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("button",{onClick:P,className:"w-full py-3 bg-gradient-to-r from-red-500 to-rose-600 text-white font-black rounded-xl shadow-xl border-2 border-red-400 hover:scale-[1.02] transition active:scale-95",children:"Si, cerrar sesion"}),c.jsx("button",{onClick:()=>H(!1),className:"w-full py-3 bg-white/10 text-white font-black rounded-xl border-2 border-white/20 hover:scale-[1.02] transition active:scale-95",children:"No, quedarme"})]})]})}),c.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-3 bg-white/20 backdrop-blur-xl rounded-full px-4 py-2 border-2 border-white/30 shadow-2xl",children:[x?.photoURL&&!E?c.jsx("img",{src:x.photoURL,alt:x.displayName||"Usuario",className:"w-10 h-10 rounded-full border-2 border-white shadow-lg object-cover",referrerPolicy:"no-referrer",onError:()=>{console.log("Error cargando imagen, mostrando avatar"),D(!0)}}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-400 to-purple-600 flex items-center justify-center border-2 border-white shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-lg",children:x?.displayName?.[0]?.toUpperCase()||x?.email?.[0]?.toUpperCase()||"U"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-white font-bold text-sm drop-shadow-lg",children:x?.displayName||"Usuario"}),c.jsx("span",{className:"text-white/80 text-xs drop-shadow-lg",children:x?.email})]})]}),c.jsxs("div",{onClick:()=>s(!0),className:"fixed bottom-24 left-4 flex flex-col items-center cursor-pointer hover:scale-110 transition-transform z-40",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 via-yellow-500 to-amber-600 rounded-2xl flex items-center justify-center shadow-2xl border-4 border-amber-300",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsx("span",{className:"text-white text-sm mt-1 font-black drop-shadow-xl",children:w.equipment})]}),c.jsxs("div",{onClick:()=>m(!0),className:"fixed bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center cursor-pointer hover:scale-110 transition-transform z-40",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 via-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-2xl border-4 border-red-300",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsx("span",{className:"text-white text-sm mt-1 font-black drop-shadow-xl",children:w.abandon})]}),c.jsxs("div",{onClick:()=>t(!0),className:"fixed bottom-24 right-4 flex flex-col items-center cursor-pointer hover:scale-110 transition-transform z-40",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl border-4 border-emerald-300",children:c.jsxs("svg",{viewBox:"0 0 24 24",className:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 2L3 5v16l6-3 6 3 6-3V2l-6 3-6-3z"}),c.jsx("path",{d:"M9 2v16"}),c.jsx("path",{d:"M15 5v16"})]})}),c.jsx("span",{className:"text-white text-sm mt-1 font-black drop-shadow-xl",children:w.world})]}),c.jsxs("nav",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-white/20 backdrop-blur-xl rounded-full px-3 py-3 flex items-center gap-3 border-2 border-white/30 shadow-2xl",children:[c.jsx("button",{onClick:()=>d(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>f(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>g(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>o(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>i(!0),className:"w-16 h-16 -mt-10 bg-white rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform border-4 border-white/40",children:c.jsx(x0,{className:`w-9 h-9 ${v.textPrimary}`,strokeWidth:3})}),c.jsx("button",{onClick:()=>r(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>b(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm",children:""}),c.jsx("button",{onClick:()=>H(!0),className:"text-white font-bold hover:scale-110 transition-transform text-sm p-2 hover:bg-white/10 rounded-full",title:"Cerrar sesin",children:c.jsx(pg,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-white/80 text-xs font-bold",children:"v1.4.0"})]})]})}function WT({notifPermission:i,requestPermission:t}){return i==="granted"?c.jsxs("div",{className:"mb-4 py-2 px-4 bg-green-500/30 rounded-xl flex items-center justify-center gap-2 text-white border-2 border-green-400/50",children:[c.jsx(bx,{className:"w-5 h-5"}),c.jsx("span",{className:"font-bold",children:"Notificaciones "})]}):c.jsx("button",{onClick:t,className:"w-full mb-4 py-3 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center gap-2 text-white border-2 border-white/30 font-bold",children:i==="denied"?c.jsxs(c.Fragment,{children:[c.jsx(fx,{className:"w-5 h-5"}),c.jsx("span",{children:"Bloqueadas"})]}):c.jsxs(c.Fragment,{children:[c.jsx(px,{className:"w-5 h-5"}),c.jsx("span",{children:"Activar notificaciones"})]})})}function JT({habits:i,setShowHistory:t}){const s=o=>{const d=new Date(o),f=d.getDate(),m=d.toLocaleDateString("es-ES",{month:"long"}),g=d.getFullYear();return`${f} de ${m} de ${g}`},r=[...i].sort((o,d)=>new Date(d.createdAt)-new Date(o.createdAt));return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:()=>t(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-white",children:" Historial de Hbitos"})]}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/80 font-medium mb-1",children:"Total de Hbitos"}),c.jsx("p",{className:"text-4xl font-black text-white",children:i.length})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/80 font-medium mb-1",children:"Completados Hoy"}),c.jsx("p",{className:"text-4xl font-black text-green-300",children:i.filter(o=>o.completed).length})]})]})}),r.length===0?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-8 text-center border-2 border-white/30",children:[c.jsx(Sd,{className:"w-14 h-14 text-white/60 mx-auto mb-3"}),c.jsx("p",{className:"text-white/90 font-bold text-lg",children:"No hay hbitos registrados"})]}):c.jsx("div",{className:"space-y-3 mb-6",children:r.map(o=>c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-5 border-2 border-white/30",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-white font-black text-xl",children:o.name}),o.completed&&c.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:" Completado"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[c.jsx(Sd,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-medium text-sm",children:["Creado: ",s(o.createdAt)]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[c.jsx(oi,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-medium text-sm",children:["Hora programada: ",o.time]})]})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:c.jsxs("p",{className:"text-white/70 text-xs font-medium",children:["Creado hace ",Math.floor((new Date-new Date(o.createdAt))/(1e3*60*60*24))," das"]})})]},o.id))})]})})}function XT({availablePoints:i,onRedeemReward:t,setShowRewards:s,redeemedRewards:r,currentTheme:o,theme:d}){const[f,m]=V.useState("all"),g=[{id:1,name:"Chocolate",icon:"",description:"Tu chocolate favorito",cost:2,category:"small"},{id:2,name:"Palomitas",icon:"",description:"Palomitas mientras ves algo",cost:2,category:"small"},{id:3,name:"Cafe Premium",icon:"",description:"Un cafe especial",cost:4,category:"small"},{id:4,name:"30 min Gaming",icon:"",description:"30 minutos de videojuegos",cost:4,category:"small"},{id:5,name:"Redes Sociales",icon:"",description:"20 minutos sin culpa",cost:2,category:"small"},{id:6,name:"Siesta",icon:"",description:"30 minutos de siesta",cost:6,category:"small"},{id:7,name:"Pizza Favorita",icon:"",description:"Tu pizza preferida",cost:8,category:"medium"},{id:8,name:"Pelicula",icon:"",description:"Ver una pelicula",cost:8,category:"medium"},{id:9,name:"Album Nuevo",icon:"",description:"Comprar musica nueva",cost:10,category:"medium"},{id:10,name:"Libro",icon:"",description:"Comprar un libro nuevo",cost:12,category:"medium"},{id:11,name:"Comida Favorita",icon:"",description:"Tu restaurante favorito",cost:14,category:"medium"},{id:12,name:"Masaje",icon:"",description:"Masaje de 1 hora",cost:14,category:"medium"},{id:13,name:"Ropa Nueva",icon:"",description:"Comprar ropa que te guste",cost:16,category:"large"},{id:14,name:"Hobby Especial",icon:"",description:"Invertir en tu hobby",cost:18,category:"large"},{id:15,name:"Videojuego",icon:"",description:"Comprar un juego nuevo",cost:20,category:"large"},{id:16,name:"Actividad Especial",icon:"",description:"Clase o taller que te guste",cost:22,category:"large"},{id:17,name:"Salida Especial",icon:"",description:"Cine, concierto, evento",cost:24,category:"large"},{id:18,name:"Regalo Grande",icon:"",description:"Un regalo costoso para ti",cost:30,category:"large"}],b=[{id:"all",name:"Todas",color:"bg-purple-500"},{id:"small",name:"Pequenas",color:"bg-green-500"},{id:"medium",name:"Medianas",color:"bg-yellow-500"},{id:"large",name:"Grandes",color:"bg-red-500"}],v=f==="all"?g:g.filter(E=>E.category===f),w=E=>{i>=E.cost&&t(E)},x=E=>{switch(E){case"small":return"from-green-400 to-green-600";case"medium":return"from-yellow-400 to-yellow-600";case"large":return"from-red-400 to-red-600";default:return"from-purple-400 to-purple-600"}},S=E=>{switch(E){case"small":return{text:"Pequena",color:"bg-green-500"};case"medium":return{text:"Mediana",color:"bg-yellow-500"};case"large":return{text:"Grande",color:"bg-red-500"};default:return{text:"",color:""}}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>s(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-white",children:" Recompensas"})]})}),c.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-yellow-400 rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-yellow-800 font-medium mb-1",children:"Puntos Disponibles"}),c.jsx("p",{className:"text-5xl font-black text-yellow-900",children:i})]}),c.jsx(an,{className:"w-16 h-16 text-yellow-600"})]})}),c.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:b.map(E=>c.jsx("button",{onClick:()=>m(E.id),className:`px-4 py-2 rounded-full font-bold text-white whitespace-nowrap transition-transform hover:scale-105 ${f===E.id?E.color:"bg-white/20"}`,children:E.name},E.id))}),r.length>0&&c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-4 mb-6 border-2 border-white/30",children:[c.jsxs("h3",{className:"text-white font-black text-lg mb-3 flex items-center gap-2",children:[c.jsx(Td,{className:"w-5 h-5 text-yellow-300"}),"Canjeadas Recientemente"]}),c.jsx("div",{className:"space-y-2",children:r.slice(-3).reverse().map((E,D)=>c.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:E.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-bold text-sm",children:E.name}),c.jsxs("p",{className:"text-white/70 text-xs",children:[E.cost," puntos"]})]}),c.jsx("span",{className:"text-green-300 font-black text-xs",children:"ok"})]},D))})]}),c.jsx("div",{className:"space-y-3 mb-6",children:v.map(E=>{const D=i>=E.cost,z=S(E.category);return c.jsx("div",{className:`bg-white/20 backdrop-blur rounded-2xl p-5 border-2 border-white/30 transition-all ${D?"hover:scale-105":"opacity-60"}`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${x(E.category)} rounded-xl flex items-center justify-center text-3xl shadow-lg`,children:E.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsxs("h3",{className:"text-white font-black text-lg",children:[E.icon," ",E.name]}),c.jsx("span",{className:`${z.color} text-white text-xs font-bold px-2 py-1 rounded-full`,children:z.text})]}),c.jsx("p",{className:"text-white/80 text-sm mb-3",children:E.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(an,{className:"w-4 h-4 text-yellow-300"}),c.jsxs("span",{className:"text-yellow-300 font-black",children:[E.cost," puntos"]})]}),c.jsx("button",{onClick:()=>w(E),disabled:!D,className:`px-4 py-2 rounded-full font-bold text-white transition-all ${D?"bg-gradient-to-r from-green-400 to-green-600 hover:scale-110 shadow-lg":"bg-gray-500/50 cursor-not-allowed"}`,children:D?"Canjear":"No alcanza"})]})]})]})},E.id)})})]})})}function ZT({habits:i,setShowStats:t}){const s=i.length,r=i.filter(m=>m.completed).length,o=s-r,d=s>0?Math.round(r/s*100):0,f=s>0?Math.round(o/s*100):0;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-white",children:" Estadsticas"})]})}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(_0,{className:"w-8 h-8 text-white"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Total de Hbitos"}),c.jsx("p",{className:"text-3xl font-black text-white",children:s})]})]}),c.jsx(Sd,{className:"w-12 h-12 text-white/40"})]})}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 border-2 border-white/30 hover:scale-105 transition-transform",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx(br,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-black text-2xl",children:"NO"}),c.jsx("p",{className:"text-white/80 text-sm font-medium",children:"No Completados"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-5xl font-black text-red-300",children:[f,"%"]}),c.jsxs("p",{className:"text-white/70 text-sm font-medium",children:[o," de ",s]})]})]}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-8 overflow-hidden",children:c.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-full rounded-full transition-all duration-1000 ease-out flex items-center justify-center",style:{width:`${f}%`},children:f>0&&c.jsxs("span",{className:"text-white font-black text-xs",children:[f,"%"]})})})]}),c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 border-2 border-white/30 hover:scale-105 transition-transform",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-full flex items-center justify-center",children:c.jsx(gr,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-black text-2xl",children:"S"}),c.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Completados"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-5xl font-black text-green-300",children:[d,"%"]}),c.jsxs("p",{className:"text-white/70 text-sm font-medium",children:[r," de ",s]})]})]}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-8 overflow-hidden",children:c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full rounded-full transition-all duration-1000 ease-out flex items-center justify-center",style:{width:`${d}%`},children:d>0&&c.jsxs("span",{className:"text-white font-black text-xs",children:[d,"%"]})})})]})]}),c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 border-2 border-white/30",children:[c.jsx("h3",{className:"text-white font-black text-lg mb-4 text-center",children:"Vista Circular"}),c.jsxs("div",{className:"relative w-64 h-64 mx-auto",children:[c.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"20"}),c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#ef4444",strokeWidth:"20",strokeDasharray:`${f*2.51} 251`,strokeLinecap:"round"}),c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#22c55e",strokeWidth:"20",strokeDasharray:`${d*2.51} 251`,strokeDashoffset:-f*2.51,strokeLinecap:"round"})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Hoy"}),c.jsxs("p",{className:"text-white font-black text-4xl",children:[d,"%"]}),c.jsx("p",{className:"text-white/70 text-xs font-medium",children:"Completado"})]})]}),c.jsxs("div",{className:"flex justify-center gap-6 mt-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),c.jsx("span",{className:"text-white text-sm font-medium",children:"NO"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-white text-sm font-medium",children:"S"})]})]})]}),c.jsx("div",{className:"mt-6 bg-white/20 backdrop-blur rounded-2xl p-4 border-2 border-white/30 text-center",children:d===100?c.jsx("p",{className:"text-white font-bold text-lg",children:" Increble! Has completado todos tus hbitos hoy!"}):d>=75?c.jsx("p",{className:"text-white font-bold text-lg",children:" Excelente trabajo! Vas muy bien."}):d>=50?c.jsx("p",{className:"text-white font-bold text-lg",children:" Buen progreso! Sigue as."}):d>0?c.jsx("p",{className:"text-white font-bold text-lg",children:" Vamos! An puedes completar ms hbitos."}):c.jsx("p",{className:"text-white font-bold text-lg",children:" Empieza hoy! Cada hbito cuenta."})})]})})}function FT({habits:i,setShowIndividualStats:t,t:s}){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:()=>t(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-black text-white",children:[" ",s.statistics]}),c.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Por hbito individual"})]})]}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(_0,{className:"w-8 h-8 text-white"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/80 text-sm font-medium",children:s.totalHabits}),c.jsx("p",{className:"text-3xl font-black text-white",children:i.length})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-white/80 text-sm font-medium",children:s.completedToday}),c.jsx("p",{className:"text-3xl font-black text-green-300",children:i.filter(r=>r.completed).length})]})]})}),i.length===0?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-8 text-center border-2 border-white/30",children:[c.jsx(oi,{className:"w-14 h-14 text-white/60 mx-auto mb-3"}),c.jsx("p",{className:"text-white/90 font-bold text-lg",children:s.noHabitsRegistered})]}):c.jsx("div",{className:"space-y-3 mb-6",children:i.map(r=>{const o=r.completed,d=o?100:0;return c.jsxs("div",{className:`bg-white/20 backdrop-blur rounded-2xl p-5 border-2 ${o?"border-green-400/50":"border-white/30"} hover:scale-105 transition-transform`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${o?"bg-green-500":"bg-white/30"}`,children:o?c.jsx(gr,{className:"w-7 h-7 text-white",strokeWidth:2.5}):c.jsx(br,{className:"w-7 h-7 text-white/60",strokeWidth:2.5})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-black text-lg",children:r.name}),c.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm",children:[c.jsx(oi,{className:"w-3 h-3"}),c.jsx("span",{children:r.time})]})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:`text-4xl font-black ${o?"text-green-300":"text-white/50"}`,children:[d,"%"]})})]}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-6 overflow-hidden mb-3",children:c.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out flex items-center justify-center ${o?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-gray-400 to-gray-500"}`,style:{width:`${d}%`},children:d>0&&c.jsxs("span",{className:"text-white font-black text-xs",children:[d,"%"]})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-2",children:o?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"text-green-300 font-bold text-sm",children:[" ",s.completed]}),c.jsx("span",{className:"text-yellow-300 font-black text-sm",children:"+2 "})]}):c.jsxs("span",{className:"text-white/60 font-bold text-sm",children:[" ",s.pending]})}),r.createdAt&&c.jsxs("div",{className:"text-white/60 text-xs font-medium",children:[Math.floor((new Date-new Date(r.createdAt))/(1e3*60*60*24))," ",s.createdDaysAgo]})]})]},r.id)})}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-5 border-2 border-white/30",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full mx-auto mb-2 flex items-center justify-center",children:c.jsx(gr,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),c.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s.yes}),c.jsx("p",{className:"text-3xl font-black text-green-300",children:i.filter(r=>r.completed).length})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full mx-auto mb-2 flex items-center justify-center",children:c.jsx(br,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),c.jsx("p",{className:"text-white/80 text-sm font-medium mb-1",children:s.no}),c.jsx("p",{className:"text-3xl font-black text-red-300",children:i.filter(r=>!r.completed).length})]})]})})]})})}function ej({badHabits:i,addBadHabit:t,toggleBadHabit:s,deleteBadHabit:r,setShowBadHabits:o,badHabitsPoints:d}){const[f,m]=V.useState(!1),[g,b]=V.useState(""),v=()=>{g.trim()&&(t(g),b(""),m(!1))},w=i.filter(x=>x.avoided).length;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-orange-600 to-rose-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>o(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-black text-white",children:" Abandonar Hbitos"}),c.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Hbitos que quieres dejar"})]})]})}),c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-900 font-medium mb-1",children:"Puntos Ganados Hoy"}),c.jsxs("p",{className:"text-white/90 text-sm font-medium",children:[w," de ",i.length," evitados"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(gr,{className:"w-8 h-8 text-green-900"}),c.jsxs("p",{className:"text-5xl font-black text-green-900",children:["+",d]})]})]})}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-4 mb-6 border-2 border-white/30",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Qx,{className:"w-6 h-6 text-yellow-300 flex-shrink-0 mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-bold text-sm mb-1",children:"Cmo funciona?"}),c.jsxs("p",{className:"text-white/80 text-xs",children:["Marca con  si ",c.jsx("strong",{children:"EVITASTE"})," el mal hbito hoy y ganars +2 puntos. Marca con  si ",c.jsx("strong",{children:"CASTE"})," en l (sin puntos)."]})]})]})}),i.length===0?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-8 text-center border-2 border-white/30",children:[c.jsx(br,{className:"w-14 h-14 text-white/60 mx-auto mb-3"}),c.jsx("p",{className:"text-white/90 font-bold text-lg mb-2",children:"No hay malos hbitos registrados"}),c.jsx("p",{className:"text-white/70 text-sm",children:"Agrega hbitos que quieres abandonar"})]}):c.jsx("div",{className:"space-y-3 mb-24",children:i.map(x=>c.jsx("div",{className:`bg-white/20 backdrop-blur rounded-2xl p-4 border-2 border-white/30 ${x.avoided===!0?"opacity-75 border-green-400":x.avoided===!1?"opacity-60 border-red-400":""}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>s(x.id,!0),className:`w-12 h-12 rounded-full flex items-center justify-center shadow-xl transition-all ${x.avoided===!0?"bg-green-500 border-4 border-green-300 scale-110":"bg-white/30 border-4 border-white/50 hover:bg-green-400/50"}`,title:"Evit este hbito malo hoy",children:c.jsx(gr,{className:`w-7 h-7 ${x.avoided===!0?"text-white":"text-white/60"}`,strokeWidth:3})}),c.jsx("button",{onClick:()=>s(x.id,!1),className:`w-12 h-12 rounded-full flex items-center justify-center shadow-xl transition-all ${x.avoided===!1?"bg-red-500 border-4 border-red-300 scale-110":"bg-white/30 border-4 border-white/50 hover:bg-red-400/50"}`,title:"Ca en este hbito malo hoy",children:c.jsx(br,{className:`w-7 h-7 ${x.avoided===!1?"text-white":"text-white/60"}`,strokeWidth:3})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-bold text-lg",children:x.name}),c.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm mt-1",children:[x.avoided===!0&&c.jsx("span",{className:"text-green-300 font-black",children:" Evitado hoy +2 "}),x.avoided===!1&&c.jsx("span",{className:"text-red-300 font-black",children:" No evitado"}),x.avoided===null&&c.jsx("span",{className:"text-white/60 font-medium",children:"Pendiente"})]})]}),c.jsx("button",{onClick:()=>r(x.id),className:"w-11 h-11 rounded-full bg-white/20 flex items-center justify-center hover:bg-red-500/60 border-2 border-white/30",children:c.jsx(w0,{className:"w-5 h-5 text-white"})})]})},x.id))}),c.jsx("button",{onClick:()=>m(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform border-4 border-red-300 z-50",children:c.jsx(x0,{className:"w-9 h-9 text-red-600",strokeWidth:3})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl",children:[c.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-4",children:" Nuevo Mal Hbito"}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Escribe un hbito que quieres abandonar"}),c.jsx("input",{type:"text",value:g,onChange:x=>b(x.target.value),onKeyDown:x=>x.key==="Enter"&&v(),placeholder:"Ej: Fumar, Comer chatarra, Procrastinar...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-red-500 outline-none text-gray-800 font-medium mb-4",autoFocus:!0}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{m(!1),b("")},className:"flex-1 py-3 rounded-xl bg-gray-200 text-gray-700 font-bold hover:bg-gray-300 transition",children:"Cancelar"}),c.jsx("button",{onClick:v,disabled:!g.trim(),className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold hover:shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Agregar"})]})]})})]})})}const ei={normal:{id:"normal",name:"Normal",icon:"",description:"Tema clsico morado",gradient:"from-violet-600 via-purple-600 to-fuchsia-600",primary:"from-purple-500 to-purple-600",secondary:"from-violet-400 to-violet-600",accent:"from-fuchsia-400 to-fuchsia-600",buttonBg:"bg-purple-600",textPrimary:"text-purple-600"},volleyball:{id:"volleyball",name:"Volleyball",icon:"",description:"Energa de cancha",gradient:"from-yellow-500 via-blue-500 to-white",primary:"from-yellow-400 to-yellow-600",secondary:"from-blue-400 to-blue-600",accent:"from-orange-400 to-orange-600",buttonBg:"bg-yellow-500",textPrimary:"text-yellow-600"},football:{id:"football",name:"Football",icon:"",description:"Campo verde",gradient:"from-green-600 via-emerald-500 to-teal-600",primary:"from-green-500 to-green-700",secondary:"from-emerald-400 to-emerald-600",accent:"from-teal-400 to-teal-600",buttonBg:"bg-green-600",textPrimary:"text-green-600"},anime:{id:"anime",name:"Anime",icon:"",description:"Colores vibrantes",gradient:"from-pink-500 via-purple-500 to-cyan-500",primary:"from-pink-400 to-pink-600",secondary:"from-purple-400 to-purple-600",accent:"from-cyan-400 to-cyan-600",buttonBg:"bg-pink-500",textPrimary:"text-pink-600"},basketball:{id:"basketball",name:"Basketball",icon:"",description:"Energa de cancha",gradient:"from-orange-600 via-amber-500 to-orange-700",primary:"from-orange-500 to-orange-700",secondary:"from-amber-400 to-amber-600",accent:"from-red-500 to-red-600",buttonBg:"bg-orange-600",textPrimary:"text-orange-600"}};function tj({currentTheme:i,setTheme:t,setShowThemes:s}){const r=Object.values(ei);return c.jsx("div",{className:`min-h-screen bg-gradient-to-br ${ei[i].gradient} p-4`,children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:()=>s(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-black text-white",children:" Temas"}),c.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Personaliza tu experiencia"})]})]}),c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:[c.jsx("p",{className:"text-white/80 font-medium mb-2",children:"Tema Actual"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-4xl",children:ei[i].icon}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-black text-2xl",children:ei[i].name}),c.jsx("p",{className:"text-white/70 text-sm",children:ei[i].description})]})]})]}),c.jsx("div",{className:"space-y-3 mb-6",children:r.map(o=>{const d=i===o.id;return c.jsx("button",{onClick:()=>t(o.id),className:`w-full bg-white/20 backdrop-blur rounded-2xl p-5 border-2 ${d?"border-white/70 scale-105":"border-white/30"} hover:scale-105 transition-all`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${o.gradient} rounded-xl flex items-center justify-center shadow-xl border-4 border-white/30`,children:c.jsx("span",{className:"text-3xl",children:o.icon})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-white font-black text-xl",children:o.name}),d&&c.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:c.jsx(Ao,{className:"w-4 h-4 text-green-600",strokeWidth:3})})]}),c.jsx("p",{className:"text-white/70 text-sm",children:o.description})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("div",{className:`w-8 h-2 bg-gradient-to-r ${o.primary} rounded-full`}),c.jsx("div",{className:`w-8 h-2 bg-gradient-to-r ${o.secondary} rounded-full`}),c.jsx("div",{className:`w-8 h-2 bg-gradient-to-r ${o.accent} rounded-full`})]})]})},o.id)})}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-4 border-2 border-white/30 text-center",children:c.jsx("p",{className:"text-white/80 text-sm",children:"El tema se aplicar a toda la aplicacin"})})]})})}const ni={es:{code:"es",name:"Espaol",flag:"",myHabits:"Mis Hbitos",completedOf:"de",completed:"completados",noHabits:"No tienes hbitos an",points:"puntos",stats:"Stats",rewards:"Recompensas",history:"Historial",equipment:"Equipo",world:"Mundo",abandon:"Abandonar",newHabit:"Nuevo Hbito",whatHabit:"Qu hbito quieres crear?",habitPlaceholder:"Ej: Leer 30 minutos",reminderTime:"Hora del recordatorio",eachHabit:"Cada hbito = +2 puntos",create:"Crear!",cancel:"Cancelar",themes:"Temas",customizeExperience:"Personaliza tu experiencia",currentTheme:"Tema Actual",themeApplied:"El tema se aplicar a toda la aplicacin",languages:"Idiomas",selectLanguage:"Selecciona tu idioma",currentLanguage:"Idioma Actual",habitHistory:"Historial de Hbitos",totalHabits:"Total de Hbitos",completedToday:"Completados Hoy",noHabitsRegistered:"No hay hbitos registrados",created:"Creado",scheduledTime:"Hora programada",createdDaysAgo:"das",statistics:"Estadsticas",no:"NO",yes:"S",notCompleted:"No Completados",circularView:"Vista Circular",today:"Hoy",rewardsTitle:"Recompensas",availablePoints:"Puntos Disponibles",redeem:"Canjear",notEnough:"No alcanza",recentlyRedeemed:"Canjeadas Recientemente",allRewards:"Todas",small:"Pequeas",medium:"Medianas",large:"Grandes",abandonHabits:"Abandonar Hbitos",habitsToLeave:"Hbitos que quieres dejar",earnedPointsToday:"Puntos Ganados Hoy",avoided:"evitados",howItWorks:"Cmo funciona?",howItWorksDesc:"Marca con  si EVITASTE el mal hbito hoy y ganars +2 puntos. Marca con  si CASTE en l (sin puntos).",noBadHabits:"No hay malos hbitos registrados",addBadHabits:"Agrega hbitos que quieres abandonar",newBadHabit:"Nuevo Mal Hbito",badHabitPlaceholder:"Ej: Fumar, Comer chatarra, Procrastinar...",avoidedToday:"Evitado hoy",notAvoided:"No evitado",pending:"Pendiente",add:"Agregar",incredible:"Increble! Has completado todos tus hbitos hoy!",excellent:"Excelente trabajo! Vas muy bien.",goodProgress:"Buen progreso! Sigue as.",keepGoing:"Vamos! An puedes completar ms hbitos.",startToday:"Empieza hoy! Cada hbito cuenta.",strikes:"Rachas",strikesSubtitle:"Veces completadas por hbito",totalCompletions:"Total completadas",activeHabits:"Hbitos activos",noHabitsStrikes:"No hay hbitos registrados",times:"veces",beginner:"Principiante",dedicated:"Dedicado",expert:"Experto",master:"Maestro",achievements:"Logros",masters:"Maestros",experts:"Expertos"},en:{code:"en",name:"English",flag:"",myHabits:"My Habits",completedOf:"of",completed:"completed",noHabits:"You don't have habits yet",points:"points",stats:"Stats",rewards:"Rewards",history:"History",equipment:"Equipment",world:"World",abandon:"Quit",newHabit:"New Habit",whatHabit:"What habit do you want to create?",habitPlaceholder:"Ex: Read 30 minutes",reminderTime:"Reminder time",eachHabit:"Each habit = +2 points",create:"Create!",cancel:"Cancel",themes:"Themes",customizeExperience:"Customize your experience",currentTheme:"Current Theme",themeApplied:"Theme will be applied to the entire app",languages:"Languages",selectLanguage:"Select your language",currentLanguage:"Current Language",habitHistory:"Habit History",totalHabits:"Total Habits",completedToday:"Completed Today",noHabitsRegistered:"No habits registered",created:"Created",scheduledTime:"Scheduled time",createdDaysAgo:"days ago",statistics:"Statistics",no:"NO",yes:"YES",notCompleted:"Not Completed",circularView:"Circular View",today:"Today",rewardsTitle:"Rewards",availablePoints:"Available Points",redeem:"Redeem",notEnough:"Not enough",recentlyRedeemed:"Recently Redeemed",allRewards:"All",small:"Small",medium:"Medium",large:"Large",abandonHabits:"Quit Habits",habitsToLeave:"Habits you want to quit",earnedPointsToday:"Points Earned Today",avoided:"avoided",howItWorks:"How it works?",howItWorksDesc:"Mark with  if you AVOIDED the bad habit today and earn +2 points. Mark with  if you FELL into it (no points).",noBadHabits:"No bad habits registered",addBadHabits:"Add habits you want to quit",newBadHabit:"New Bad Habit",badHabitPlaceholder:"Ex: Smoking, Junk food, Procrastinating...",avoidedToday:"Avoided today",notAvoided:"Not avoided",pending:"Pending",add:"Add",incredible:"Incredible! You completed all your habits today!",excellent:"Excellent work! You are doing great.",goodProgress:"Good progress! Keep it up.",keepGoing:"Let's go! You can still complete more habits.",startToday:"Start today! Every habit counts.",strikes:"Streaks",strikesSubtitle:"Times completed per habit",totalCompletions:"Total completions",activeHabits:"Active habits",noHabitsStrikes:"No habits registered",times:"times",beginner:"Beginner",dedicated:"Dedicated",expert:"Expert",master:"Master",achievements:"Achievements",masters:"Masters",experts:"Experts"},fr:{code:"fr",name:"Franais",flag:"",myHabits:"Mes Habitudes",completedOf:"de",completed:"compltes",noHabits:"Tu n'as pas encore d'habitudes",points:"points",stats:"Stats",rewards:"Rcompenses",history:"Historique",equipment:"quipement",world:"Monde",abandon:"Abandonner",newHabit:"Nouvelle Habitude",whatHabit:"Quelle habitude veux-tu crer?",habitPlaceholder:"Ex: Lire 30 minutes",reminderTime:"Heure du rappel",eachHabit:"Chaque habitude = +2 points",create:"Crer!",cancel:"Annuler",themes:"Thmes",customizeExperience:"Personnalise ton exprience",currentTheme:"Thme Actuel",themeApplied:"Le thme sera appliqu  toute l'application",languages:"Langues",selectLanguage:"Slectionne ta langue",currentLanguage:"Langue Actuelle",habitHistory:"Historique des Habitudes",totalHabits:"Total des Habitudes",completedToday:"Compltes Aujourd'hui",noHabitsRegistered:"Aucune habitude enregistre",created:"Cr",scheduledTime:"Heure programme",createdDaysAgo:"jours",statistics:"Statistiques",no:"NON",yes:"OUI",notCompleted:"Non Compltes",circularView:"Vue Circulaire",today:"Aujourd'hui",rewardsTitle:"Rcompenses",availablePoints:"Points Disponibles",redeem:"changer",notEnough:"Pas assez",recentlyRedeemed:"Rcemment changes",allRewards:"Toutes",small:"Petites",medium:"Moyennes",large:"Grandes",abandonHabits:"Abandonner les Habitudes",habitsToLeave:"Habitudes  abandonner",earnedPointsToday:"Points Gagns Aujourd'hui",avoided:"vites",howItWorks:"Comment a marche?",howItWorksDesc:"Marque avec  si tu as VIT la mauvaise habitude aujourd'hui et gagne +2 points. Marque avec  si tu y as SUCCOMB (pas de points).",noBadHabits:"Aucune mauvaise habitude enregistre",addBadHabits:"Ajoute des habitudes  abandonner",newBadHabit:"Nouvelle Mauvaise Habitude",badHabitPlaceholder:"Ex: Fumer, Malbouffe, Procrastiner...",avoidedToday:"vite aujourd'hui",notAvoided:"Non vite",pending:"En attente",add:"Ajouter",incredible:"Incroyable! Tu as complt toutes tes habitudes aujourd'hui!",excellent:"Excellent travail! Tu te dbrouilles trs bien.",goodProgress:"Bon progrs! Continue comme a.",keepGoing:"Allez! Tu peux encore complter plus d'habitudes.",startToday:"Commence aujourd'hui! Chaque habitude compte.",strikes:"Sries",strikesSubtitle:"Fois compltes par habitude",totalCompletions:"Total complt",activeHabits:"Habitudes actives",noHabitsStrikes:"Aucune habitude enregistre",times:"fois",beginner:"Dbutant",dedicated:"Dvou",expert:"Expert",master:"Matre",achievements:"Ralisations",masters:"Matres",experts:"Experts"},de:{code:"de",name:"Deutsch",flag:"",myHabits:"Meine Gewohnheiten",completedOf:"von",completed:"abgeschlossen",noHabits:"Du hast noch keine Gewohnheiten",points:"Punkte",stats:"Stats",rewards:"Belohnungen",history:"Verlauf",equipment:"Ausrstung",world:"Welt",abandon:"Aufgeben",newHabit:"Neue Gewohnheit",whatHabit:"Welche Gewohnheit mchtest du erstellen?",habitPlaceholder:"Z.B.: 30 Minuten lesen",reminderTime:"Erinnerungszeit",eachHabit:"Jede Gewohnheit = +2 Punkte",create:"Erstellen!",cancel:"Abbrechen",themes:"Themen",customizeExperience:"Personalisiere deine Erfahrung",currentTheme:"Aktuelles Thema",themeApplied:"Das Thema wird auf die gesamte App angewendet",languages:"Sprachen",selectLanguage:"Whle deine Sprache",currentLanguage:"Aktuelle Sprache",habitHistory:"Gewohnheitsverlauf",totalHabits:"Gesamte Gewohnheiten",completedToday:"Heute Abgeschlossen",noHabitsRegistered:"Keine Gewohnheiten registriert",created:"Erstellt",scheduledTime:"Geplante Zeit",createdDaysAgo:"Tage",statistics:"Statistiken",no:"NEIN",yes:"JA",notCompleted:"Nicht Abgeschlossen",circularView:"Kreisansicht",today:"Heute",rewardsTitle:"Belohnungen",availablePoints:"Verfgbare Punkte",redeem:"Einlsen",notEnough:"Nicht genug",recentlyRedeemed:"Krzlich Eingelst",allRewards:"Alle",small:"Klein",medium:"Mittel",large:"Gro",abandonHabits:"Gewohnheiten Aufgeben",habitsToLeave:"Gewohnheiten zum Aufgeben",earnedPointsToday:"Heute Verdiente Punkte",avoided:"vermieden",howItWorks:"Wie funktioniert es?",howItWorksDesc:"Markiere mit  wenn du die schlechte Gewohnheit VERMIEDEN hast und verdiene +2 Punkte. Markiere mit  wenn du ihr NACHGEGEBEN hast (keine Punkte).",noBadHabits:"Keine schlechten Gewohnheiten registriert",addBadHabits:"Fge Gewohnheiten hinzu, die du aufgeben mchtest",newBadHabit:"Neue Schlechte Gewohnheit",badHabitPlaceholder:"Z.B.: Rauchen, Junk Food, Prokrastinieren...",avoidedToday:"Heute vermieden",notAvoided:"Nicht vermieden",pending:"Ausstehend",add:"Hinzufgen",incredible:"Unglaublich! Du hast heute alle deine Gewohnheiten abgeschlossen!",excellent:"Ausgezeichnete Arbeit! Du machst das groartig.",goodProgress:"Guter Fortschritt! Mach weiter so.",keepGoing:"Los geht's! Du kannst noch mehr Gewohnheiten abschlieen.",startToday:"Fang heute an! Jede Gewohnheit zhlt.",strikes:"Serien",strikesSubtitle:"Mal abgeschlossen pro Gewohnheit",totalCompletions:"Gesamte Abschlsse",activeHabits:"Aktive Gewohnheiten",noHabitsStrikes:"Keine Gewohnheiten registriert",times:"mal",beginner:"Anfnger",dedicated:"Engagiert",expert:"Experte",master:"Meister",achievements:"Erfolge",masters:"Meister",experts:"Experten"}};function nj({currentLanguage:i,setLanguage:t,setShowLanguages:s,theme:r}){const o=Object.values(ni),d=ni[i];return c.jsx("div",{className:`min-h-screen bg-gradient-to-br ${r.gradient} p-4`,children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:()=>s(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-2",children:[c.jsx(Tx,{className:"w-8 h-8"}),d.languages]}),c.jsx("p",{className:"text-white/90 text-sm font-medium",children:d.selectLanguage})]})]}),c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:[c.jsx("p",{className:"text-white/80 font-medium mb-2",children:d.currentLanguage}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-5xl",children:ni[i].flag}),c.jsx("div",{children:c.jsx("p",{className:"text-white font-black text-2xl",children:ni[i].name})})]})]}),c.jsx("div",{className:"space-y-3 mb-6",children:o.map(f=>{const m=i===f.code;return c.jsx("button",{onClick:()=>t(f.code),className:`w-full bg-white/20 backdrop-blur rounded-2xl p-6 border-2 ${m?"border-white/70 scale-105":"border-white/30"} hover:scale-105 transition-all`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-xl flex items-center justify-center shadow-xl border-2 border-white/30",children:c.jsx("span",{className:"text-5xl",children:f.flag})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-white font-black text-2xl",children:f.name}),m&&c.jsx("div",{className:"w-7 h-7 bg-white rounded-full flex items-center justify-center",children:c.jsx(Ao,{className:"w-5 h-5 text-green-600",strokeWidth:3})})]})})]})},f.code)})}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-4 border-2 border-white/30 text-center",children:c.jsxs("p",{className:"text-white/80 text-sm",children:[i==="es"&&"El idioma se aplicar a toda la aplicacin",i==="en"&&"The language will be applied to the entire app",i==="fr"&&"La langue sera applique  toute l'application",i==="de"&&"Die Sprache wird auf die gesamte App angewendet"]})})]})})}function sj({habits:i,setShowStrikes:t,t:s}){const r=[...i].sort((o,d)=>(d.timesCompleted||0)-(o.timesCompleted||0));return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 via-red-500 to-pink-600 p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:()=>t(!1),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-full flex items-center justify-center border-2 border-white/30 hover:bg-white/30 transition",children:c.jsx(Wt,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-2",children:[c.jsx(Ed,{className:"w-8 h-8"}),s.strikes||"Rachas"]}),c.jsx("p",{className:"text-white/90 text-sm font-medium",children:s.strikesSubtitle||"Veces completadas por hbito"})]})]}),c.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-6 mb-6 border-2 border-white/30",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(od,{className:"w-10 h-10 text-yellow-300"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/80 text-sm font-medium",children:s.totalCompletions||"Total completadas"}),c.jsx("p",{className:"text-4xl font-black text-white",children:i.reduce((o,d)=>o+(d.timesCompleted||0),0)})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-white/80 text-sm font-medium",children:s.activeHabits||"Hbitos activos"}),c.jsx("p",{className:"text-4xl font-black text-yellow-300",children:i.length})]})]})}),i.length===0?c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-8 text-center border-2 border-white/30",children:[c.jsx(qx,{className:"w-14 h-14 text-white/60 mx-auto mb-3"}),c.jsx("p",{className:"text-white/90 font-bold text-lg",children:s.noHabitsStrikes||"No hay hbitos registrados"})]}):c.jsx("div",{className:"space-y-3 mb-6",children:r.map((o,d)=>{const f=o.timesCompleted||0,m=d<3;return c.jsxs("div",{className:`bg-white/20 backdrop-blur rounded-2xl p-5 border-2 transition-transform hover:scale-105 ${m?"border-yellow-400/60":"border-white/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[m&&c.jsxs("div",{className:"text-3xl",children:[d===0&&"",d===1&&"",d===2&&""]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-black text-lg",children:o.name}),c.jsx("p",{className:"text-white/70 text-sm font-medium",children:o.time})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:`text-5xl font-black ${f>=50?"text-yellow-300":f>=20?"text-orange-300":f>=10?"text-pink-300":"text-white"}`,children:f}),c.jsx("p",{className:"text-white/80 text-xs font-bold mt-1",children:s.times||"veces"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${f>=50?"bg-gradient-to-r from-yellow-400 to-yellow-600":f>=20?"bg-gradient-to-r from-orange-400 to-orange-600":f>=10?"bg-gradient-to-r from-pink-400 to-pink-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${Math.min(f/50*100,100)}%`}})}),c.jsxs("div",{className:"flex justify-between mt-2 text-xs font-bold text-white/60",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"10"}),c.jsx("span",{children:"20"}),c.jsx("span",{children:"50+"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[f>=1&&c.jsxs("div",{className:"bg-green-500/30 px-2 py-1 rounded-lg text-xs font-bold text-white flex items-center gap-1",children:[c.jsx(Td,{className:"w-3 h-3"}),s.beginner||"Principiante"]}),f>=10&&c.jsxs("div",{className:"bg-blue-500/30 px-2 py-1 rounded-lg text-xs font-bold text-white flex items-center gap-1",children:[c.jsx(Ed,{className:"w-3 h-3"}),s.dedicated||"Dedicado"]}),f>=20&&c.jsxs("div",{className:"bg-purple-500/30 px-2 py-1 rounded-lg text-xs font-bold text-white flex items-center gap-1",children:[c.jsx(od,{className:"w-3 h-3"}),s.expert||"Experto"]}),f>=50&&c.jsxs("div",{className:"bg-yellow-500/30 px-2 py-1 rounded-lg text-xs font-bold text-white flex items-center gap-1",children:[c.jsx(od,{className:"w-3 h-3"}),s.master||"Maestro"]})]})]},o.id)})}),i.length>0&&c.jsxs("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-5 border-2 border-white/30",children:[c.jsxs("h3",{className:"text-white font-black text-lg mb-3 flex items-center gap-2",children:[c.jsx(Td,{className:"w-5 h-5"}),s.achievements||"Logros"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-black text-yellow-300",children:i.filter(o=>(o.timesCompleted||0)>=50).length}),c.jsx("p",{className:"text-white/80 text-xs font-bold mt-1",children:s.masters||"Maestros"})]}),c.jsxs("div",{className:"bg-white/10 rounded-xl p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-black text-orange-300",children:i.filter(o=>(o.timesCompleted||0)>=20).length}),c.jsx("p",{className:"text-white/80 text-xs font-bold mt-1",children:s.experts||"Expertos"})]})]})]})]})})}const ho=[{icon:"",title:"Bienvenido a AppHabitos",description:"Esta app te ayuda a crear buenos hbitos y dejar los malos. Todo mientras juegas y subes de nivel!",bg:"from-violet-600 to-purple-700"},{icon:"",title:"Tus Hbitos",description:"Agrega hbitos con el botn + grande. Cada da, marca los que completes tocndolos. Cada hbito completado te da 2 puntos!",bg:"from-emerald-600 to-green-700"},{icon:"",title:"Puntos",description:"Ganas puntos al completar hbitos buenos (+2) y al evitar malos hbitos (+2). Los puntos se muestran arriba a la derecha.",bg:"from-amber-500 to-yellow-600"},{icon:"",title:"Malos Hbitos",description:"Agrega los hbitos que quieres dejar. Cada da marca si los evitaste o no. Evitarlos tambin te da puntos!",bg:"from-red-500 to-orange-600"},{icon:"",title:"Mapa del Mundo",description:"Explora el mapa con 100 niveles. Toca el nivel brillante para pelear. Necesitas puntos para desbloquear cada nivel.",bg:"from-emerald-500 to-teal-600"},{icon:"",title:"Batallas",description:"Pelea contra enemigos usando ataques: Bsico, Rpido (Nv.2), Fuerte (Nv.3) y Crtico (Nv.4). Sube de nivel para desbloquear ms ataques!",bg:"from-rose-600 to-red-700"},{icon:"",title:"Equipamiento",description:"Compra y mejora tu equipo: casco, armadura, espada, botas y anillo. Cada pieza te hace ms fuerte en batalla.",bg:"from-amber-600 to-orange-700"},{icon:"",title:"Recompensas",description:"Canjea tus puntos por recompensas especiales. Son premios por tu esfuerzo!",bg:"from-pink-500 to-rose-600"},{icon:"",title:"Estadsticas",description:"Revisa tu progreso con grficos y estadsticas. Ve cuntos hbitos completas cada da y tu rendimiento general.",bg:"from-blue-500 to-indigo-600"},{icon:"",title:"Rachas",description:"Mantn tus rachas completando hbitos todos los das seguidos. Las rachas largas demuestran tu compromiso!",bg:"from-orange-500 to-red-500"},{icon:"",title:"Temas e Idiomas",description:"Personaliza la app con diferentes temas (deportes, anime, etc.) y cambia el idioma. Los botones estn arriba a la izquierda.",bg:"from-purple-500 to-indigo-600"},{icon:"",title:"Listo!",description:"Ya sabes todo! Ahora completa tus hbitos, gana puntos, sube de nivel y conquista el mapa. T puedes!",bg:"from-emerald-500 to-cyan-600"}];function aj({setShowTutorial:i}){const[t,s]=V.useState(0),r=ho[t],o=t===0,d=t===ho.length-1;return c.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${r.bg} flex flex-col relative overflow-hidden`,children:[c.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-40 right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),c.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 z-50 bg-white/20 backdrop-blur rounded-full p-2 border border-white/30 hover:scale-110 transition",children:c.jsx(S0,{className:"w-6 h-6 text-white"})}),c.jsx("div",{className:"flex justify-center gap-1.5 pt-6 px-4",children:ho.map((f,m)=>c.jsx("div",{className:`h-1.5 rounded-full transition-all ${m===t?"w-8 bg-white":m<t?"w-4 bg-white/60":"w-4 bg-white/25"}`},m))}),c.jsxs("p",{className:"text-center text-white/60 text-sm mt-3 font-bold",children:[t+1," / ",ho.length]}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 text-center",children:[c.jsx("div",{className:"text-8xl mb-6 animate-bounce",style:{animationDuration:"2s"},children:r.icon}),c.jsx("h2",{className:"text-3xl font-black text-white mb-4 drop-shadow-lg",children:r.title}),c.jsx("p",{className:"text-white/90 text-lg leading-relaxed max-w-sm",children:r.description})]}),c.jsxs("div",{className:"px-6 pb-10 flex gap-3",children:[!o&&c.jsxs("button",{onClick:()=>s(f=>f-1),className:"flex-1 py-4 bg-white/20 backdrop-blur text-white font-black text-lg rounded-2xl border-2 border-white/30 flex items-center justify-center gap-2 hover:scale-[1.02] transition active:scale-95",children:[c.jsx(Wt,{className:"w-5 h-5"}),"Anterior"]}),d?c.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-4 bg-white text-gray-800 font-black text-lg rounded-2xl shadow-xl flex items-center justify-center gap-2 hover:scale-[1.02] transition active:scale-95",children:"Empezar!"}):c.jsxs("button",{onClick:()=>s(f=>f+1),className:"flex-1 py-4 bg-white text-gray-800 font-black text-lg rounded-2xl shadow-xl flex items-center justify-center gap-2 hover:scale-[1.02] transition active:scale-95",children:["Siguiente",c.jsx(cx,{className:"w-5 h-5"})]})]})]})}function ij(){const[i,t]=V.useState(!0),[s,r]=V.useState(""),[o,d]=V.useState(""),[f,m]=V.useState(""),[g,b]=V.useState(""),[v,w]=V.useState(!1),[x,S]=V.useState(!1),{login:E,signup:D,loginWithGoogle:z,resetPassword:H}=Lr(),P=async te=>{te.preventDefault(),b(""),w(!0);try{if(i)await E(s,o);else{if(o.length<6){b("La contrasea debe tener al menos 6 caracteres"),w(!1);return}await D(s,o,f)}}catch(Z){console.error("Error de autenticacin:",Z),Z.code==="auth/invalid-credential"?b("Email o contrasea incorrectos"):Z.code==="auth/email-already-in-use"?b("Este email ya est registrado"):Z.code==="auth/weak-password"?b("La contrasea es muy dbil"):Z.code==="auth/invalid-email"?b("Email invlido"):b(Z.message||"Ocurri un error. Intenta de nuevo.")}finally{w(!1)}},B=async()=>{b(""),w(!0);try{await z()}catch(te){console.error("Error con Google:",te),b("Error al iniciar sesin con Google")}finally{w(!1)}},K=async te=>{if(te.preventDefault(),!s){b("Ingresa tu email primero");return}b(""),w(!0);try{await H(s),alert("Se envi un email para restablecer tu contrasea"),S(!1)}catch{b("Error al enviar el email")}finally{w(!1)}};return x?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 flex items-center justify-center p-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-10 right-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute bottom-20 left-10 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:""}),c.jsx("div",{className:"absolute top-1/3 left-10 text-7xl opacity-15",children:""}),c.jsx("div",{className:"absolute bottom-1/3 right-10 text-7xl opacity-15",children:""}),c.jsx("div",{className:"max-w-md w-full relative z-10",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl border-2 border-white/20 p-8",children:[c.jsxs("button",{onClick:()=>S(!1),className:"mb-4 flex items-center gap-2 text-white/80 hover:text-white transition-colors",children:[c.jsx(Wt,{className:"w-5 h-5"}),"Volver"]}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-block p-4 bg-white/20 rounded-full mb-4",children:c.jsx(ld,{className:"w-12 h-12 text-white"})}),c.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"Recuperar Contrasea"}),c.jsx("p",{className:"text-white/80",children:"Te enviaremos un email para restablecer tu contrasea"})]}),c.jsxs("form",{onSubmit:K,className:"space-y-4",children:[g&&c.jsx("div",{className:"bg-red-500/20 backdrop-blur border border-red-300/30 text-white px-4 py-3 rounded-2xl",children:g}),c.jsxs("div",{className:"relative",children:[c.jsx(ld,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),c.jsx("input",{type:"email",value:s,onChange:te=>r(te.target.value),placeholder:"Tu email",required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/10 backdrop-blur border-2 border-white/20 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all"})]}),c.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white font-bold py-4 rounded-2xl hover:scale-105 active:scale-95 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Enviando...":"Enviar Email"})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-600 via-purple-600 to-fuchsia-600 flex items-center justify-center p-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-10 right-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute bottom-20 left-10 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:""}),c.jsx("div",{className:"absolute top-1/3 left-10 text-7xl opacity-15",children:""}),c.jsx("div",{className:"absolute bottom-1/3 right-10 text-7xl opacity-15",children:""}),c.jsx("div",{className:"absolute top-1/2 right-5 text-6xl opacity-20 animate-pulse",style:{animationDuration:"2s"},children:""}),c.jsxs("div",{className:"max-w-md w-full relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-400 to-yellow-400 rounded-full px-6 py-3 shadow-2xl mb-4",children:[c.jsx(an,{className:"w-6 h-6 text-yellow-600"}),c.jsx("span",{className:"font-black text-yellow-800 text-2xl",children:"Habit Tracker"})]}),c.jsx("h1",{className:"text-4xl font-black text-white mb-2",children:i?"Bienvenido de nuevo!":"nete ahora!"}),c.jsx("p",{className:"text-white/80 font-medium",children:i?"Contina tu racha de hbitos":"Comienza tu aventura de hbitos"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl border-2 border-white/20 p-8",children:[c.jsxs("form",{onSubmit:P,className:"space-y-4",children:[g&&c.jsx("div",{className:"bg-red-500/20 backdrop-blur border border-red-300/30 text-white px-4 py-3 rounded-2xl text-center font-medium",children:g}),!i&&c.jsxs("div",{className:"relative",children:[c.jsx(Jx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),c.jsx("input",{type:"text",value:f,onChange:te=>m(te.target.value),placeholder:"Tu nombre",required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/10 backdrop-blur border-2 border-white/20 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(ld,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),c.jsx("input",{type:"email",value:s,onChange:te=>r(te.target.value),placeholder:"Email",required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/10 backdrop-blur border-2 border-white/20 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(v0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),c.jsx("input",{type:"password",value:o,onChange:te=>d(te.target.value),placeholder:"Contrasea",required:!0,className:"w-full pl-12 pr-4 py-4 bg-white/10 backdrop-blur border-2 border-white/20 rounded-2xl text-white placeholder-white/50 focus:outline-none focus:border-white/40 transition-all"})]}),i&&c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-white/80 hover:text-white text-sm transition-colors underline",children:"Olvidaste tu contrasea?"})}),c.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white font-bold py-4 rounded-2xl hover:scale-105 active:scale-95 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:v?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i?"Iniciando...":"Registrando..."]}):i?"Iniciar Sesin":"Registrarse"})]}),c.jsxs("div",{className:"relative my-6",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-white/20"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-transparent text-white/60 font-medium",children:"o contina con"})})]}),c.jsxs("button",{onClick:B,disabled:v,className:"w-full bg-white/20 backdrop-blur border-2 border-white/30 text-white font-bold py-4 rounded-2xl hover:bg-white/30 hover:scale-105 active:scale-95 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>{t(!i),b("")},className:"text-white/80 hover:text-white transition-colors font-medium",children:i?c.jsxs(c.Fragment,{children:["No tienes cuenta? ",c.jsx("span",{className:"underline font-bold",children:"Regstrate"})]}):c.jsxs(c.Fragment,{children:["Ya tienes cuenta? ",c.jsx("span",{className:"underline font-bold",children:"Inicia sesin"})]})})})]}),c.jsx("p",{className:"text-center text-white/60 mt-6 text-sm",children:"Construye mejores hbitos, un da a la vez "})]})]})}const rj=()=>{const{user:i}=Lr(),[t,s]=V.useState([]),[r,o]=V.useState(!0),[d,f]=V.useState(!1);V.useEffect(()=>{i?m():(s([]),o(!1))},[i]);const m=async()=>{if(i)try{o(!0);const{data:w,error:x}=await sn.from("habits").select("*").eq("userid",i.uid).order("createdat",{ascending:!0});if(x)throw x;const S=(w||[]).map(E=>({id:E.id,name:E.name,time:E.time,completed:E.completed,createdAt:E.createdat,timesCompleted:E.timescompleted||0}));s(S)}catch(w){console.error("Error loading habits:",w)}finally{o(!1)}};return{habits:t,loading:r,syncing:d,addHabit:async(w,x)=>{if(i)try{f(!0);const S={userid:i.uid,name:w,time:x,completed:!1,timescompleted:0};console.log("Insertando hbito:",S);const{data:E,error:D}=await sn.from("habits").insert([S]).select().single();if(D)throw console.error("Error de Supabase:",D),D;return console.log("Hbito creado:",E),s(z=>[...z,{id:E.id,name:E.name,time:E.time,completed:E.completed,createdAt:E.createdat,timesCompleted:E.timescompleted||0}]),E}catch(S){throw console.error("Error adding habit:",S),S}finally{f(!1)}},toggleHabit:async w=>{if(i)try{const x=t.find(z=>z.id===w);if(!x)return;const S=!x.completed,E=S?x.timesCompleted+1:x.timesCompleted;s(z=>z.map(H=>H.id===w?{...H,completed:S,timesCompleted:E}:H));const{error:D}=await sn.from("habits").update({completed:S,timescompleted:E}).eq("id",w).eq("userid",i.uid);if(D)throw D}catch(x){console.error("Error toggling habit:",x),m()}},deleteHabit:async w=>{if(i)try{f(!0);const{error:x}=await sn.from("habits").delete().eq("id",w).eq("userid",i.uid);if(x)throw x;s(S=>S.filter(E=>E.id!==w))}catch(x){throw console.error("Error deleting habit:",x),x}finally{f(!1)}},refreshHabits:m}};function lj(i){const[t,s]=V.useState("default"),[r,o]=V.useState({});V.useEffect(()=>{"Notification"in window&&s(Notification.permission)},[]);const d=async()=>{if("Notification"in window){const f=await Notification.requestPermission();s(f)}};return V.useEffect(()=>{if(t!=="granted")return;const f=setInterval(()=>{const m=new Date,g=m.toTimeString().slice(0,5),b=m.toDateString();i.forEach(v=>{if(v.time===g&&!v.completed){const w=`${v.id}-${b}`;r[w]||(new Notification(" Recordatorio",{body:`Es hora de: ${v.name}!`}),o(x=>({...x,[w]:!0})))}})},1e3);return()=>clearInterval(f)},[i,t,r]),{notifPermission:t,requestPermission:d}}function oj(i,t,s){const[r,o]=V.useState(100),[d,f]=V.useState(100),[m,g]=V.useState(""),[b,v]=V.useState(""),[w,x]=V.useState(!1),[S,E]=V.useState(!1),[D,z]=V.useState(!1),[H,P]=V.useState(!1),[B,K]=V.useState("Elige tu ataque!"),[te,Z]=V.useState(!1),[Y,ve]=V.useState({show:!1,amount:0,isEnemy:!1}),[ke,Pe]=V.useState(0),Ke=st=>({bsico:{baseDmg:12,message:" Golpe bsico!",unlockLevel:0},rpido:{baseDmg:14,message:" Golpe rpido!",unlockLevel:2},fuerte:{baseDmg:22,message:" SUPER GOLPE!!",unlockLevel:3},crtico:{baseDmg:30,message:" GOLPE CRTICO!!",unlockLevel:4}})[st];return{playerHP:r,enemyHP:d,playerAnim:m,enemyAnim:b,playerHit:w,enemyHit:S,playerAttacking:D,enemyAttacking:H,battleMsg:B,fighting:te,showDamage:Y,comboCount:ke,attack:st=>{if(te||d<=0||r<=0)return;const qe=Ke(st);if(!qe||i<qe.unlockLevel)return;Z(!0);const M=s(),G=qe.baseDmg+i*3+ke*2+M;z(!0),g("translate-x-10"),K(qe.message),setTimeout(()=>{g(""),z(!1),E(!0),ve({show:!0,amount:G,isEnemy:!0}),f(J=>Math.max(0,J-G)),Pe(J=>J+1),setTimeout(()=>{if(E(!1),ve({show:!1,amount:0,isEnemy:!1}),d-G<=0){K(" GANASTE!! "),Z(!1);return}const J=Math.floor(Math.random()*12)+8;P(!0),v("-translate-x-10"),K(" El malo ataca!"),setTimeout(()=>{v(""),P(!1),x(!0),ve({show:!0,amount:J,isEnemy:!1}),o(me=>Math.max(0,me-J)),setTimeout(()=>{x(!1),ve({show:!1,amount:0,isEnemy:!1}),r-J<=0?(K(" Oh no! "),Pe(0)):K(` Tu turno! Combo: x${ke+1}`),Z(!1)},400)},450)},500)},450)},resetFight:()=>{o(100),f(100),K("Elige tu ataque!"),Pe(0)}}}const cj=()=>{const{user:i}=Lr(),[t,s]=V.useState("normal"),[r,o]=V.useState("es"),[d,f]=V.useState(!0);V.useEffect(()=>{i?m():(s("normal"),o("es"),f(!1))},[i]);const m=async()=>{if(i)try{f(!0);const{data:v,error:w}=await sn.from("user_progress").select("currenttheme, currentlanguage").eq("userid",i.uid).single();if(w&&w.code==="PGRST116"){console.log("No preferences found, creating defaults for user:",i.uid);const{data:x,error:S}=await sn.from("user_progress").upsert({userid:i.uid,totalpoints:0,currenttheme:"normal",currentlanguage:"es"},{onConflict:"userid"}).select("currenttheme, currentlanguage").single();S?console.error("Error creating preferences:",S):x&&(s(x.currenttheme||"normal"),o(x.currentlanguage||"es"))}else w?console.error("Error loading preferences:",w):v&&(s(v.currenttheme||"normal"),o(v.currentlanguage||"es"))}catch(v){console.error("Error loading preferences:",v)}finally{f(!1)}};return{currentTheme:t,currentLanguage:r,setTheme:async v=>{if(s(v),!!i)try{const{error:w}=await sn.from("user_progress").upsert({userid:i.uid,currenttheme:v},{onConflict:"userid"});w&&console.error("Error saving theme:",w)}catch(w){console.error("Error saving theme:",w)}},setLanguage:async v=>{if(o(v),!!i)try{const{error:w}=await sn.from("user_progress").upsert({userid:i.uid,currentlanguage:v},{onConflict:"userid"});w&&console.error("Error saving language:",w)}catch(w){console.error("Error saving language:",w)}},loading:d}};function uj(){const{user:i}=Lr(),{habits:t,loading:s,addHabit:r,toggleHabit:o,deleteHabit:d}=rj(),{currentTheme:f,currentLanguage:m,setTheme:g,setLanguage:b}=cj(),[v,w]=V.useState(!1),[x,S]=V.useState(!1),[E,D]=V.useState(!1),[z,H]=V.useState(!1),[P,B]=V.useState(!1),[K,te]=V.useState(!1),[Z,Y]=V.useState(!1),[ve,ke]=V.useState(!1),[Pe,Ke]=V.useState(!1),[je,lt]=V.useState(!1),[st,qe]=V.useState(!1),[M,G]=V.useState(!1),[J,me]=V.useState(!1),[be,j]=V.useState(""),[C,q]=V.useState("08:00"),[$,ae]=V.useState([]),[W,de]=V.useState([{id:1,name:"Comer chatarra",avoided:null},{id:2,name:"Procrastinar",avoided:null}]),[Ue,we]=V.useState(0),[at,Gn]=V.useState({helmet:{name:"Gorra",level:1,icon:"",equipped:!1,upgradeCost:4,tier:1},armor:{name:"Camiseta",level:1,icon:"",equipped:!1,upgradeCost:4,tier:1},weapon:{name:"Palo",level:1,icon:"",equipped:!1,upgradeCost:4,tier:1},boots:{name:"Sandalias",level:1,icon:"",equipped:!1,upgradeCost:4,tier:1},accessory:{name:"Pulsera",level:1,icon:"",equipped:!1,upgradeCost:4,tier:1}}),na=t.filter(ce=>ce.completed).length,Ir=W.filter(ce=>ce.avoided===!0).length,mn=na*2,sa=Ir*2,Vn=mn+sa,js=Vn-Ue,aa=(ce=>{if(ce<2)return 0;let Ee=0,We=0;for(let pn=1;pn<=100&&(We+=pn+1,ce>=We);pn++)Ee=pn;return Ee})(Vn),ia=()=>Object.values(at).filter(ce=>ce.equipped).reduce((ce,Ee)=>ce+Ee.level*2,0),{notifPermission:mi,requestPermission:zo}=lj(t),zr=oj(aa,at,ia);if(!i)return c.jsx(ij,{});const bt=async()=>{if(be.trim())try{await r(be,C),j(""),q("08:00"),w(!1)}catch(ce){console.error("Error adding habit:",ce),alert("Error al agregar el hbito. Intenta de nuevo.")}},Ho=async ce=>{await o(ce)},Hr=async ce=>{try{await d(ce)}catch(Ee){console.error("Error deleting habit:",Ee),alert("Error al eliminar el hbito. Intenta de nuevo.")}},Br=ce=>{Gn(Ee=>({...Ee,[ce]:{...Ee[ce],equipped:!Ee[ce].equipped}}))},ra=ce=>{const Ee=at[ce];js>=Ee.upgradeCost&&(we(We=>We+Ee.upgradeCost),Gn(We=>({...We,[ce]:{...We[ce],level:We[ce].level+1,upgradeCost:Math.floor(We[ce].upgradeCost*1.5)}})))},Bo=(ce,Ee)=>{js>=Ee.cost&&(we(We=>We+Ee.cost),Gn(We=>({...We,[ce]:{...We[ce],name:Ee.name,icon:Ee.icon,tier:Ee.tier,level:Ee.baseLevel,upgradeCost:Ee.baseUpgradeCost}})))},Pr=()=>{zr.resetFight(),D(!0)},Po=ce=>{js>=ce.cost&&(we(Ee=>Ee+ce.cost),ae(Ee=>[...Ee,{...ce,redeemedAt:new Date().toISOString()}]))},qo=ce=>{de([...W,{id:Date.now(),name:ce,avoided:null}])},Ns=(ce,Ee)=>{de(W.map(We=>We.id===ce?{...We,avoided:Ee}:We))},yt=ce=>{de(W.filter(Ee=>Ee.id!==ce))},pt=ei[f],He=ni[m];return s?c.jsx("div",{className:`min-h-screen bg-gradient-to-br ${pt.gradient} flex items-center justify-center`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin text-6xl mb-4",children:""}),c.jsx("p",{className:"text-white font-bold text-xl",children:"Cargando tus hbitos..."})]})}):J?c.jsx(aj,{setShowTutorial:me}):st?c.jsx(nj,{currentLanguage:m,setLanguage:b,setShowLanguages:qe,theme:pt}):je?c.jsx(tj,{currentTheme:f,setTheme:g,setShowThemes:lt}):Pe?c.jsx(ej,{badHabits:W,addBadHabit:qo,toggleBadHabit:Ns,deleteBadHabit:yt,setShowBadHabits:Ke,badHabitsPoints:sa}):Z?c.jsx(ZT,{habits:t,setShowStats:Y}):ve?c.jsx(FT,{habits:t,setShowIndividualStats:ke,t:He}):M?c.jsx(sj,{habits:t,setShowStrikes:G,t:He}):K?c.jsx(XT,{availablePoints:js,onRedeemReward:Po,setShowRewards:te,redeemedRewards:$,currentTheme:f,theme:pt}):P?c.jsx(JT,{habits:t,setShowHistory:B}):z?c.jsx(lw,{equipment:at,availablePoints:js,toggleEquip:Br,upgradeEquipment:ra,buyShopItem:Bo,getEquipmentBonus:ia,setShowEquipment:H}):x?c.jsx(sw,{showFight:E,setShowFight:D,setShowWorld:S,points:Vn,startFight:Pr,...zr,equipment:at,playerLevel:aa}):c.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${pt.gradient} p-4 relative overflow-hidden`,children:[f==="volleyball"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-10 right-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute bottom-20 left-5 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:""}),c.jsx("div",{className:"absolute top-1/3 left-10 text-7xl opacity-15",children:""}),c.jsx("div",{className:"absolute bottom-1/3 right-10 text-7xl opacity-15",children:""})]}),f==="football"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-10 left-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute bottom-32 right-5 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:""}),c.jsx("div",{className:"absolute top-1/4 right-5 text-8xl opacity-15",children:""}),c.jsx("div",{className:"absolute bottom-1/4 left-5 text-8xl opacity-15",children:""})]}),f==="anime"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-10 right-10 text-6xl opacity-25 animate-pulse",style:{animationDuration:"2s"},children:""}),c.jsx("div",{className:"absolute bottom-20 left-5 text-5xl opacity-25 animate-pulse",style:{animationDuration:"3s",animationDelay:"0.5s"},children:""}),c.jsx("div",{className:"absolute top-1/3 left-5 text-6xl opacity-20",children:""}),c.jsx("div",{className:"absolute bottom-1/3 right-5 text-6xl opacity-20",children:""}),c.jsx("div",{className:"absolute top-1/2 right-10 text-5xl opacity-25 animate-pulse",style:{animationDuration:"2.5s",animationDelay:"1s"},children:""})]}),f==="basketball"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-10 left-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:""}),c.jsx("div",{className:"absolute bottom-32 right-5 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:""}),c.jsx("div",{className:"absolute top-1/4 right-5 text-7xl opacity-15",children:""}),c.jsx("div",{className:"absolute bottom-1/4 left-5 text-6xl opacity-15",children:""})]}),c.jsxs("div",{className:"max-w-md mx-auto relative z-10",children:[c.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-amber-400 to-yellow-400 rounded-full px-5 py-2 flex items-center gap-2 shadow-xl z-20",children:[c.jsx(an,{className:"w-5 h-5 text-yellow-600"}),c.jsx("span",{className:"font-black text-yellow-800 text-lg",children:Vn})]}),c.jsx("button",{onClick:()=>lt(!0),className:"absolute top-4 left-4 bg-white/20 backdrop-blur rounded-full w-12 h-12 flex items-center justify-center border-2 border-white/30 hover:scale-110 transition-transform shadow-xl z-20",title:He.themes,children:c.jsx("span",{className:"text-2xl",children:pt.icon})}),c.jsx("button",{onClick:()=>qe(!0),className:"absolute top-[4.5rem] left-4 bg-white/20 backdrop-blur rounded-full w-12 h-12 flex items-center justify-center border-2 border-white/30 hover:scale-110 transition-transform shadow-xl z-20",title:He.languages,children:c.jsx("span",{className:"text-2xl",children:ni[m].flag})}),c.jsxs("header",{className:"text-center py-6",children:[c.jsxs("h1",{className:"text-4xl font-black text-white mb-2",children:[" ",He.myHabits," "]}),c.jsxs("p",{className:"text-white/90 font-medium",children:[na," ",He.completedOf," ",t.length," ",He.completed]})]}),c.jsx(WT,{notifPermission:mi,requestPermission:zo}),c.jsx(ew,{habits:t,toggleHabit:Ho,deleteHabit:Hr,t:He}),c.jsx(YT,{setShowModal:w,setShowWorld:S,setShowEquipment:H,setShowHistory:B,setShowRewards:te,setShowStats:Y,setShowIndividualStats:ke,setShowBadHabits:Ke,setShowStrikes:G,setShowTutorial:me,theme:pt,t:He}),c.jsx(tw,{showModal:v,setShowModal:w,newHabit:be,setNewHabit:j,newTime:C,setNewTime:q,addHabit:bt,theme:pt,t:He})]})]})}tx.createRoot(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(QT,{children:c.jsx(uj,{})})}));
